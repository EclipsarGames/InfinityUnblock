window.Project_WebglDetailV2Controller=webpackJsonp_name_([7],[,,,,,,,,function(e,t){e.exports=browser_dll},,,,,,,function(e,t){e.exports={NAME:"production",APP_NAME:"view_server",APP_VERSION:"1.0",SERVER_PORT:18088,IS_ONEBOX:!1,HOT_RELOAD:!1,LAZY_BUILD:!1,DISPLAY_TIME_IN_MESSENGER:!0,DEVTOOLS:!1,RELEASE_BUILD:!0,UGLIFY_JS:!0,CSS_LOCAL_IDENTIFIER:!0,LONG_TERM_CACHE:!0,WITH_CONSOLE_LOG:!0,CONSOLE_LOG_FORMAT:"json",STORYBOOK:!1,PUBLIC_PATH:"https://play-static.unity.com/public/",LOG_FOLDER:"/var/silkcloud/logs/mp_view",PUBLIC_ASSETS_FOLDER:"/gopath/src/github.com/Unity-Technologies/web-project-share-platform/view_server/public/assets",BUILD_ASSETS_FOLDER:"/gopath/src/github.com/Unity-Technologies/web-project-share-platform/view_server/build/assets",BUILD_TARGET_SERVER_NAMESPACE:"server",REQUEST_BASE_URL:"",REQUEST_BASE_URL_INTERNAL:"http://localhost:8080",REQUEST_TIMEOUT:6e4,DEFAULT_URL:"https://play.unity.com",DEFAULT_TITLE:"Unity Play",DEFAULT_META_KEYWORDS:"Unity Play",DEFAULT_META_DESCRIPTION:{en_US:"The place for aspiring game creators to share their latest WebGL creation. Gain inspiration through ongoing showcases and find thousands of FPS, Karting, 2D Platformer and other creations with Unity. No experience needed, just jump in for the chance to be featured!",zh_CN:"首个致力于Unity创作者（游戏开发、美术师、VR／AR从业者）的人才圈。找工作，招人才，获得帮助，取得成功。"},LOCALES:["en_US","zh_CN","ko_KR","ja_JP","ru_RU","es_ES","fr_FR","de_DE","pt_PT"],MIN_LOCALES:["en_US","zh_CN","ko_KR","ja_JP"],MOMENT_LOCALE:{en_US:"",zh_CN:"zh-cn",ko_KR:"ko",ja_JP:"ja",ru_RU:"ru",es_ES:"es",fr_FR:"fr",de_DE:"de",pt_PT:"pt"},NUMBRO_LOCALE:{en_US:"",zh_CN:"zh-CN",ko_KR:"ko-KR",ja_JP:"ja-JP",ru_RU:"ru-RU",es_ES:"es-ES",fr_FR:"fr-FR",de_DE:"de-DE",pt_PT:"pt-PT"},BASE_ID_URL:"https://id.unity.com",STORE_URL:"https://store.unity.com",LOGIN_POPUP:!0,CDN_URLS:["https://play-static.unity.com/"],REGIONS:[{refId:"region.01",i18n_key:"region_01"},{refId:"region.02",i18n_key:"region_02"},{refId:"region.03",i18n_key:"region_03"},{refId:"region.04",i18n_key:"region_04"},{refId:"region.05",i18n_key:"region_05"},{refId:"region.06",i18n_key:"region_06"},{refId:"region.07",i18n_key:"region_07"},{refId:"region.08",i18n_key:"region_08"},{refId:"region.09",i18n_key:"region_09"}],PROJECT_ENABLED:!0,TFA_ENABLED:!0,PACKAGE_DOWNLOAD_LINKS:{mac:"https://d2ll4ywgl9x1oi.cloudfront.net/Connect-latest.dmg",windows:"https://d2ll4ywgl9x1oi.cloudfront.net/Connect-latest.exe"},PROXY_HOST:"",PROXY_PORT:"",REGION_AUTO_LOCATED_NOTE_ENABLED:!1,CLUSTERING:!0,LEARN_DEFAULT_URL:"https://learn.unity.com",LEARN_PREMIUM_MARKETING:"https://unity.com/learn-premium",LEARN_PREMIUM_STORE_FLOW:"https://store.unity.com/configure-plan/unity-learn-premium-30-day-trial",LEARN_PAYMENT_STORE_FLOW:"https://pay.unity.com/os2/orders/new",LEARN_AUTHOR_LIST:["5a95d5ef32b306001856489e","59fd0498090915002713b5c3","5abb2fec32b306001fbe91a8","5d74318eedbc2a56f0a6fe48","5db006f7edbc2a0020d998ec","5af69e9f090915001c83c1bb","584dba1f0909150027e1c7f5","5e305e98edbc2a67d6f1c4de","58b51db309091559199d4738"],CAPTCHA_CLIENT_KEY:"6Lft_NgZAAAAAA75PocZYY3wA2RtBrwts1hVcgFZ",STORE_STATUS_MAP:{aptoide:"published",cloudmoolah:"published",onestore:"published",apptutti:"published",htc:"published",xiaomistore:"beta",huawei:"published"},APP_ID:"431669861070518",WEBGL_PLAYER_BASE_URL:"https://play.unity.com/webgl",RECAPTCHA_ENABLE:!0,ASSET_UNLOCK_FPS_FIRST:"162774",ASSET_UNLOCK_FPS_SECOND:"166891",ASSET_UNLOCK_FPS_THIRD:"166890",ASSET_UNLOCK_KARTING_FIRST:"164043",ASSET_UNLOCK_KARTING_SECOND:"164146",ASSET_UNLOCK_KARTING_THIRD:"164147",ASSET_UNLOCK_LEGO_FIRST:"179854",ASSET_UNLOCK_LEGO_SECOND:"179849",ASSET_UNLOCK_LEGO_THIRD:"179848",ASSET_CAMPAIGN_COOKIE_NAME:"Campaign",OPTANON_CONSENT_COOKIE_NAME:"OptanonConsent",PTANON_CONSENT_COOKIE_KEY:"groups",TARGETING_CATEGORY:"C0004:1",FUNCTIONAL_CATEGORY:"C0003:1",GSTORE_WEBSITE:"https://developer.gplay.io/sign_up"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=window.moment},,,,,,,,,,,,,,,,,,,function(e,t){e.exports={beta:"beta_YO5z",menu_activity:"menu_activity_3vyR",menu_discover:"menu_discover_22RY",menu_discover_users:"menu_discover_users_1IoJ",menu_discover_teams:"menu_discover_teams_3Jsv",menu_discover_blog:"menu_discover_blog_2pAQ",menu_projects:"menu_projects_1OrD",menu_jobs_search_jobs:"menu_jobs_search_jobs_2u0u",menu_post_job:"menu_post_job_Layv",menu_post_project:"menu_post_project_p04n",menu_notifications:"menu_notifications_1FLZ",menu_avatar_profile:"menu_avatar_profile_hdID",menu_avatar_references:"menu_avatar_references_1GS9",menu_avatar_my_team:"menu_avatar_my_team_313C",menu_avatar_create_team:"menu_avatar_create_team_2GG6",menu_avatar_create_team_plus:"menu_avatar_create_team_plus_1s59",menu_avatar_my_school:"menu_avatar_my_school_19lP",menu_avatar_create_school:"menu_avatar_create_school_2SRt",menu_avatar_create_school_plus:"menu_avatar_create_school_plus_33fU",menu_avatar_settings:"menu_avatar_settings_1Ju5",menu_avatar_credits_history:"menu_avatar_credits_history_2aKD",menu_avatar_help:"menu_avatar_help_3Yke",menu_avatar_contact:"menu_avatar_contact_RnwU",menu_avatar_logout:"menu_avatar_logout_2jw3",menu_avatar_teams:"menu_avatar_teams_1T5Z",menu_avatar_schools:"menu_avatar_schools_YRv8",menu_avatar_you:"menu_avatar_you_2JGZ",menu_avatar_my_group:"menu_avatar_my_group_1AkQ",menu_avatar_create_group:"menu_avatar_create_group_2Jq2",menu_messages:"menu_messages_1fI-",menu_connections:"menu_connections_3xmS",notification_see_all:"notification_see_all_1UNe",notification_next:"notification_next__vZV",popout_profile:"popout_profile_28i8",client_profile:"client_profile_1E74",freelancer_profile:"freelancer_profile_24aq",at_username:"at_username_1gzZ",popout_setting:"popout_setting_2HNJ",popout_logout:"popout_logout_1dIT",search_placeholder:"search_placeholder_2wre",search_for:"search_for_1Mzu",view_results_for:"view_results_for_2Mcl",job_owner:"job_owner_2fi7",messages_action:"messages_action_1ulT",notification_action:"notification_action_2FCp",login_action:"login_action_1iPm",logout_action:"logout_action_17SE",tooltip_notifications:"tooltip_notifications_7psO",tooltip_message:"tooltip_message_3HWv",tooltip_search:"tooltip_search_1VJJ",tooltip_app_switcher:"tooltip_app_switcher_Irtj",count_overflow:"count_overflow_2aWj",uh:"uh_1Tjp",th:"th_2i5o",jh:"jh_2-bD",no_messages:"no_messages_1_ZA",all_messages:"all_messages_1V1-",confirm_title:"confirm_title_1AOQ",confirm_text:"confirm_text_3-xR",notify_title:"notify_title_3qGc",notify_text:"notify_text_2aVe",review_title:"review_title_pe-6",review_text:"review_text_3k5P",browser_confirm_title:"browser_confirm_title_2bFT",browser_confirm_text:"browser_confirm_text_3tzH",delete_confirm_default_title:"delete_confirm_default_title_SiQ0",delete_confirm_default_text:"delete_confirm_default_text_1hEe",delete_confirm_comment_title:"delete_confirm_comment_title_2eTU",delete_confirm_comment_text:"delete_confirm_comment_text_1YPH",delete_confirm_post_title:"delete_confirm_post_title_L3U2",delete_confirm_post_text:"delete_confirm_post_text_3Y1z",delete_confirm_transfer_owner_title:"delete_confirm_transfer_owner_title_3fW5",delete_confirm_transfer_owner_text:"delete_confirm_transfer_owner_text_3v0g",delete_confirm_group_kick_title:"delete_confirm_group_kick_title_2LQl",delete_confirm_group_kick_text:"delete_confirm_group_kick_text_17xd",delete_confirm_announcement_title:"delete_confirm_announcement_title_U2md",delete_confirm_announcement_text:"delete_confirm_announcement_text_1yy-",delete_confirm_reject_refund_title:"delete_confirm_reject_refund_title_3-xa",delete_confirm_reject_refund_text:"delete_confirm_reject_refund_text_11tV",delete_confirm_accept_refund_title:"delete_confirm_accept_refund_title_1JEP",delete_confirm_accept_refund_text:"delete_confirm_accept_refund_text_3kJs",delete_confirm_reject_dispute_title:"delete_confirm_reject_dispute_title_I5Km",delete_confirm_reject_dispute_text:"delete_confirm_reject_dispute_text_W8th",delete_confirm_accept_dispute_title:"delete_confirm_accept_dispute_title_3KdI",delete_confirm_accept_dispute_text:"delete_confirm_accept_dispute_text_3vbo",recent_searches:"recent_searches_17c6",clear_all:"clear_all_2Xf_",popular_searches:"popular_searches_3FIK",job:"job_pcfq",candidate_type_t:"candidate_type_t_1zBK",candidate_type_s:"candidate_type_s_2IYs",candidate_type_c:"candidate_type_c_XweK",candidate_type_fullTime:"candidate_type_fullTime_22oA",candidate_type_partTime:"candidate_type_partTime_2xF7",candidate_type_internship:"candidate_type_internship_23zE",candidate_type_freelance:"candidate_type_freelance_BQ7v",candidate_type_game:"candidate_type_game_2mAP",candidate_type_showcase:"candidate_type_showcase_6Npl",candidate_type_article:"candidate_type_article_2iMP",candidate_type_g:"candidate_type_g_C3GL",lobby_default_1:"lobby_default_1_L-lm",lobby_default_2:"lobby_default_2_1BgI",discover:"discover_2Gh5",cancel:"cancel_iVBW",search:"search_3XMs",account:"account_1Ctn",profile_completeness:"profile_completeness_2Bj-",edit:"edit_qYt2",sign_out:"sign_out_2fwc",sign_in:"sign_in_pcEI",unity_id:"unity_id_2814",login_desc:"login_desc_1ASB",new_account:"new_account_1tOv"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=h(a(2)),p=h(a(1)),i=h(a(3)),l=a(5),c=a(18),u=h(a(4)),f=h(a(320));function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,l.decorator)({})(n=(0,u.default)(f.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(_,i.default),o(_,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,c.addClickOutside)([this,this.props.parent],function(){e.props.closeMenu&&e.props.closeMenu()})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"renderNew",value:function(){return p.default.createElement("div",{className:this.ss("new")},this.__("new"))}},{key:"renderList",value:function(){var u=this;return this.props.items.map(function(e){var t=e.key,a=e.text,n=e.otherClassName,o=void 0===n?[]:n,r=e.path,s=e.renderChild,i=e.disable,l=e.onClick;if(i)return null;var c={};return r?c.href=r:l&&(c.onClick=l),p.default.createElement("a",d({key:t,className:u.ss.apply(u,["item"].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(o)))},c),a,s&&s())})}},{key:"render",value:function(){return p.default.createElement("div",{className:this.ss("menu")},p.default.createElement("div",{className:this.ss("items")},this.renderList()))}}]),_.propTypes={items:s.default.array,parent:s.default.object,showNew:s.default.bool,closeMenu:s.default.func},n=_))||n)||n;function _(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}t.default=m},,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteConfirmDialog=t.TfaNotifyDialog=t.TfaConfirmDialog=t.default=t.MessagesAction=t.BarsAction=t.AvatarAction=t.ApplicationSwitcherAction=t.NotificationsAction=void 0;var n,o,r,s,i,l,c,u,d,p,f,h,m,_,g=function(e,t,a){return t&&v(e.prototype,t),a&&v(e,a),e};function v(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var b=nt(["header.openCreateDialog"],["header.openCreateDialog"]),y=nt(["loginUser"],["loginUser"]),w=nt(["notification.unseenCount"],["notification.unseenCount"]),j=nt(["notification.status"],["notification.status"]),E=nt(["notification.switchStatus"],["notification.switchStatus"]),k=nt(["header.setting.appSwitcherOpen"],["header.setting.appSwitcherOpen"]),C=nt(["header.appSwitcherOpen"],["header.appSwitcherOpen"]),S=nt(["header.appSwitcherClose"],["header.appSwitcherClose"]),O=nt(["currentHost"],["currentHost"]),N=nt(["currentPath"],["currentPath"]),P=nt(["team.showBasicForm"],["team.showBasicForm"]),T=nt(["header.postSchool"],["header.postSchool"]),x=nt(["header.openCreateGroupDialog"],["header.openCreateGroupDialog"]),M=nt(["header.loginTo"],["header.loginTo"]),I=nt(["header.setting.messagesOpen"],["header.setting.messagesOpen"]),R=nt(["messages.channels"],["messages.channels"]),D=nt(["messages.readState"],["messages.readState"]),L=nt(["messages.workspaces"],["messages.workspaces"]),A=nt(["header.messagesOpen"],["header.messagesOpen"]),U=nt(["header.messagesClose"],["header.messagesClose"]),W=nt(["header.setting.headerHeight"],["header.setting.headerHeight"]),z=nt(["header.setting.headerTop"],["header.setting.headerTop"]),H=nt(["header.setting.scrollTop"],["header.setting.scrollTop"]),q=nt(["header.closeLoginWindow"],["header.closeLoginWindow"]),B=nt(["header.setCurrHeaderTop"],["header.setCurrHeaderTop"]),F=nt(["header.setHeaderPosition"],["header.setHeaderPosition"]),G=nt(["header.needReviewDialog.open"],["header.needReviewDialog.open"]),K=nt(["header.closeNeedReviewDialog"],["header.closeNeedReviewDialog"]),V=nt(["header.tfaConfirmDialog.open"],["header.tfaConfirmDialog.open"]),J=nt(["header.doTfaStatus"],["header.doTfaStatus"]),Y=nt(["header.doTfa"],["header.doTfa"]),Z=nt(["header.closeTfaConfirmDialog"],["header.closeTfaConfirmDialog"]),Q=nt(["header.tfaNotifyDialog.open"],["header.tfaNotifyDialog.open"]),X=nt(["header.closeTfaNotifyDialog"],["header.closeTfaNotifyDialog"]),$=nt(["platform"],["platform"]),ee=nt(["header.browserConfirmDialog.open"],["header.browserConfirmDialog.open"]),te=nt(["header.closeBrowserConfirmDialog"],["header.closeBrowserConfirmDialog"]),ae=nt(["header.openBrowserConfirmDialog"],["header.openBrowserConfirmDialog"]),ne=nt(["header.deleteConfirmDialog.open"],["header.deleteConfirmDialog.open"]),oe=nt(["header.deleteConfirmDialog.type"],["header.deleteConfirmDialog.type"]),re=nt(["header.closeDeleteConfirm"],["header.closeDeleteConfirm"]),se=nt(["header.doConfirmDelete"],["header.doConfirmDelete"]),ie=Xe(a(2)),le=Xe(a(1)),ce=Xe(a(3)),ue=a(5),de=a(0),pe=a(24),fe=a(18),he=Xe(a(22)),me=Xe(a(85)),_e=Xe(a(269)),ge=Xe(a(101)),ve=Xe(a(276)),be=Xe(a(102)),ye=Xe(a(86)),we=Xe(a(184)),je=Xe(a(289)),Ee=Xe(a(103)),ke=a(26),Ce=Xe(a(292)),Se=Xe(a(299)),Oe=Xe(a(302)),Ne=Xe(a(305)),Pe=Xe(a(308)),Te=Xe(a(311)),xe=Xe(a(104)),Me=Xe(a(70)),Ie=Xe(a(185)),Re=Xe(a(15)),De=Xe(a(182)),Le=Xe(a(501)),Ae=Xe(a(105)),Ue=Xe(a(316)),We=Xe(a(319)),ze=Xe(a(323)),He=Xe(a(326)),qe=Xe(a(106)),Be=Xe(a(331)),Fe=Xe(a(341)),Ge=Xe(a(344)),Ke=Xe(a(25)),Ve=Xe(a(19)),Je=Xe(a(4)),Ye=Xe(a(347)),Ze=Xe(a(6)),Qe=Xe(a(66));function Xe(e){return e&&e.__esModule?e:{default:e}}function $e(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function at(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function nt(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ot=pe.presets.stiff,rt="https://support.unity3d.com/hc/en-us/sections/202036586-Connect",st="https://forum.unity3d.com/forums/unity-connect.120/";var it=(0,Ke.default)({CREATE_COMPANY:null,MY_GROUPS:null,CREATE_SCHOOL:null,MY_REFERENCES:null,HELP:null,CONTACT_US:null,SETTINGS:null}),lt=(0,ue.decorator)({openCreateDialog:(0,de.signal)(b)})(n=(0,Je.default)(Ye.default)(n=(0,Ze.default)(Qe.default)((at(ct,ce.default),g(ct,[{key:"render",value:function(){var e=this;return Re.default.PROJECT_ENABLED?le.default.createElement("div",{className:this.ss("post-project")},le.default.createElement("a",{className:this.ss("link","GA_btn_header_postProject"),onClick:function(){return e.props.openCreateDialog()}},this.__("menu_post_project"))):null}}]),ct.propTypes={openCreateDialog:ie.default.func},n=ct))||n)||n)||n;function ct(){return et(this,ct),tt(this,(ct.__proto__||Object.getPrototypeOf(ct)).apply(this,arguments))}var ut=t.NotificationsAction=(0,ue.decorator)({loginUser:(0,de.state)(y),unseenCount:(0,de.state)(w),status:(0,de.state)(j),switchStatus:(0,de.signal)(E)})(o=(0,Je.default)(Ye.default)(o=(0,Ze.default)(Qe.default)((at(dt,ce.default),g(dt,[{key:"onClick",value:function(){(0,this.props.switchStatus)(),this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var e=this,t=this.props,a=t.loginUser,n=t.unseenCount,o=t.status;return a?le.default.createElement(he.default,{text:this.__("tooltip_notifications"),position:"bottom"},le.default.createElement("div",{id:"notifications-action",className:this.ss("notifications-action",o&&"open")},le.default.createElement("button",{className:this.ss("notifications-icon","ifont","ifont-material-baseline-notifications"),"aria-label":this.__("tooltip_notifications"),onClick:function(){return e.onClick()}}),0<n&&le.default.createElement("div",{className:this.ss("badge")},99<n?this.__("count_overflow",{maxCount:99}):n))):null}}]),dt.propTypes={loginUser:ie.default.object,unseenCount:ie.default.number.isRequired,status:ie.default.bool.isRequired,switchStatus:ie.default.func,onClick:ie.default.func},o=dt))||o)||o)||o;function dt(){return et(this,dt),tt(this,(dt.__proto__||Object.getPrototypeOf(dt)).apply(this,arguments))}var pt=t.ApplicationSwitcherAction=(0,ue.decorator)({isAppSwitcherOpen:(0,de.state)(k),appSwitcherOpen:(0,de.signal)(C),appSwitcherClose:(0,de.signal)(S)})(r=(0,Je.default)(Ye.default)(r=(0,Ze.default)(Qe.default)((at(ft,ce.default),g(ft,[{key:"onClick",value:function(){var e=this.props,t=e.isAppSwitcherOpen,a=e.appSwitcherOpen,n=e.appSwitcherClose;(t?n:a)()}},{key:"render",value:function(){var e=this,t=this.props,a=t.isAppSwitcherOpen,n=t.className;return le.default.createElement("div",{className:this.ss("app-switcher-wrap",n)},le.default.createElement(he.default,{text:this.__("tooltip_app_switcher"),position:"bottom"},le.default.createElement("div",{className:this.ss("app-switcher-action",a&&"open"),id:"app-switcher-action"},le.default.createElement("button",{className:this.ss("app-switcher-icon","ifont","ifont-material-baseline-apps"),"aria-label":this.__("tooltip_app_switcher"),onClick:function(){return e.onClick()}}))),a&&le.default.createElement(ht,null))}}]),ft.propTypes={isAppSwitcherOpen:ie.default.bool.isRequired,className:ie.default.string,appSwitcherOpen:ie.default.func,appSwitcherClose:ie.default.func},r=ft))||r)||r)||r;function ft(){return et(this,ft),tt(this,(ft.__proto__||Object.getPrototypeOf(ft)).apply(this,arguments))}var ht=(0,ue.decorator)({isAppSwitcherOpen:(0,de.state)(k),appSwitcherClose:(0,de.signal)(S)})(s=(0,Je.default)(Ye.default)(s=(0,Ze.default)(Qe.default)((at(mt,ce.default),g(mt,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,fe.addClickOutside)([this,"app-switcher-action"],function(){e.props.appSwitcherClose()})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"render",value:function(){var t=this,e=[{name:"Asset Store",icon:"icons-app-assetstore",href:"https://assetstore.unity.com"},{name:"Dashboard",icon:"icons-app-dashboard",href:"https://dashboard.unity3d.com"},{name:"Distribute",icon:"UDP-Icon",href:"https://distribute.dashboard.unity.com"},{name:"Forum",icon:"icons-app-forum",href:"https://forum.unity.com"},{name:"Learn",icon:"icons-explore",href:"https://learn.unity.com/"}].map(function(e){return le.default.createElement("a",{className:t.ss("app-item"),href:e.href,key:e.name},le.default.createElement("div",{className:t.ss("app-icon","ifont","ifont-"+e.icon)}),le.default.createElement("div",{className:t.ss("app-name")},e.name))});return le.default.createElement("div",{className:this.ss("app-switcher")},le.default.createElement("div",{className:this.ss("switcher-wrap")},e))}}]),mt.propTypes={isAppSwitcherOpen:ie.default.bool.isRequired,appSwitcherClose:ie.default.func},s=mt))||s)||s)||s;function mt(){return et(this,mt),tt(this,(mt.__proto__||Object.getPrototypeOf(mt)).apply(this,arguments))}var _t=!1,gt=t.AvatarAction=(0,ue.decorator)({loginUser:(0,de.state)(y),currentHost:(0,de.state)(O),currentPath:(0,de.state)(N),showForm:(0,de.signal)(P),postSchool:(0,de.signal)(T),postGroup:(0,de.signal)(x),loginTo:(0,de.signal)(M)})(i=(0,Je.default)(Ye.default)(i=(0,Ze.default)(Qe.default)((at(vt,ce.default),g(vt,[{key:"componentDidMount",value:function(){_t||(_t=!0,window.addEventListener("uasMenuClicked",this.onMenuClicked))}},{key:"componentWillUnmount",value:function(){window.addEventListener("uasMenuClicked",this.onMenuClicked)}},{key:"render",value:function(){var e=this.props,t=e.loginUser,a=e.currentHost,n=e.currentPath,o="https://"+a+"/public/pages/auth/cbiframe.html?redirect_to="+encodeURIComponent(n)+"&source=account_switch",r="https://"+a+"/auth/account_switch/callback?noiframe=true&redirect_to="+encodeURIComponent(n),s="https://"+a+"/auth/logout/callback?redirectUri="+n,i=Re.default.NAME,l="prod",l="production"===i?"prod":"staging"===i?"staging":"int",c={headerHeight:72,menuItems:[{key:it.CREATE_COMPANY,title:this.__("menu_avatar_create_team")},{key:it.MY_GROUPS,title:this.__("menu_avatar_my_group")},{key:it.CREATE_SCHOOL,title:this.__("menu_avatar_create_school")},{key:it.MY_REFERENCES,title:this.__("menu_avatar_references")},{key:it.HELP,title:this.__("menu_avatar_help"),href:rt},{key:it.CONTACT_US,title:this.__("menu_avatar_contact"),href:st},{key:it.SETTINGS,title:this.__("menu_avatar_settings")}],env:l,loginRedirectURL:o,switchAccountRidirectURL:r,logoutRedirectURL:s,clientID:"marketplace"};return t&&(c.user={avatar:t.avatar,name:t.name},c.userProfileURL="https://"+a+"/u/"+t.id),le.default.createElement("div",{className:this.ss("account-switcher")},le.default.createElement("unity-account-switcher",{config:JSON.stringify(c)}))}}]),vt.propTypes={loginUser:ie.default.object,currentHost:ie.default.string,currentPath:ie.default.string,showForm:ie.default.func,postSchool:ie.default.func,postGroup:ie.default.func,loginTo:ie.default.func},i=vt))||i)||i)||i;function vt(){var e,t,i;et(this,vt);for(var a=arguments.length,n=Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=i=tt(this,(e=vt.__proto__||Object.getPrototypeOf(vt)).call.apply(e,[this].concat(n)))).onMenuClicked=function(e){var t,a=i.props,n=a.showForm,o=a.postSchool,r=($e(t={},it.CREATE_COMPANY,n),$e(t,it.CREATE_SCHOOL,o),$e(t,it.MY_GROUPS,function(){return(0,Ve.default)("/groups")}),$e(t,it.MY_REFERENCES,function(){return(0,Ve.default)("/ref")}),$e(t,it.SETTINGS,function(){return(0,Ve.default)("/settings")}),t),s=e.detail;r[s]&&r[s]()},tt(i,t)}var bt=t.BarsAction=(0,Je.default)(Ye.default)(l=(0,Ze.default)(Qe.default)((at(yt,ce.default),g(yt,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,fe.addClickOutside)([this],function(){e.setState({hover:!1})})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"render",value:function(){var e=this,t=this.state.hover;return le.default.createElement("div",{className:this.ss("bars-action",t&&"hover")},le.default.createElement("button",{className:this.ss("button","ifont","ifont-bars"),onClick:function(){return e.setState({hover:!t})}}),le.default.createElement("div",{className:this.ss("popout")},t&&le.default.createElement(Ue.default,{onClose:function(){return e.setState({hover:!1})}})))}}]),l=yt))||l)||l;function yt(){var e,t,a;et(this,yt);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=tt(this,(e=yt.__proto__||Object.getPrototypeOf(yt)).call.apply(e,[this].concat(o)))).state={hover:!1},tt(a,t)}var wt=t.MessagesAction=(0,ue.decorator)({isMessagesOpen:(0,de.state)(I),channels:(0,de.state)(R),readState:(0,de.state)(D),loginUser:(0,de.state)(y),workspaces:(0,de.state)(L),messagesOpen:(0,de.signal)(A),messagesClose:(0,de.signal)(U)})(c=(0,Je.default)(Ye.default)(c=(0,Ze.default)(Qe.default)((at(jt,ce.default),g(jt,[{key:"onOpen",value:function(){var e=this.props,t=e.isMessagesOpen,a=e.messagesOpen,n=e.messagesClose;(t?n:a)(),this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var e=this,t=this.props,a=t.isMessagesOpen,n=t.channels,o=t.readState,r=t.loginUser,s=t.workspaces;if(!r)return null;var i=null,l=Object.values(n).filter(function(e){var t=s[e.workspaceId];return t&&""===t.organizationId}).reduce(function(e,t){var a=t.id;return e+o[a].mentionCount},0);return 0<l?i=le.default.createElement("div",{className:this.ss("badge")},99<l?this.__("count_overflow",{maxCount:99}):l):0<Object.values(n).filter(function(e){return!e.isMute&&o[e.id]&&o[e.id].ackMessageId<o[e.id].lastMessageId}).length&&(i=le.default.createElement("div",{className:this.ss("badge","badge-hint")})),le.default.createElement("div",{className:this.ss("messages-wrap")},le.default.createElement(he.default,{text:this.__("messages_action"),position:"bottom"},le.default.createElement("div",{id:"messages-action",className:this.ss("messages-action",a&&"open")},le.default.createElement("button",{className:this.ss("messages-icon","ifont","ifont-material-baseline-question_answer"),"aria-label":this.__("messages_action"),onClick:function(){return e.onOpen()}}),i)),a&&le.default.createElement(Ce.default,null))}}]),jt.propTypes={isMessagesOpen:ie.default.bool.isRequired,messagesOpen:ie.default.func,messagesClose:ie.default.func,loginUser:ie.default.object,workspaces:ie.default.object,channels:ie.default.object,readState:ie.default.object,onClick:ie.default.func},c=jt))||c)||c)||c;function jt(){return et(this,jt),tt(this,(jt.__proto__||Object.getPrototypeOf(jt)).apply(this,arguments))}var Et=(0,ue.decorator)({currentPath:(0,de.state)(N),loginUser:(0,de.state)(y),headerHeight:(0,de.state)(W),headerTop:(0,de.state)(z),scrollTop:(0,de.state)(H),notificationStatus:(0,de.state)(j),closeLoginWindow:(0,de.signal)(q),setCurrHeaderTop:(0,de.signal)(B),setHeaderPosition:(0,de.signal)(F)})(u=(0,Je.default)(Ye.default)(u=(0,Ze.default)(Qe.default)((at(kt,ce.default),g(kt,[{key:"componentDidMount",value:function(){document.getElementById("pageBody").parentNode.addEventListener("scroll",this.onHandleScroll)}},{key:"componentWillUnmount",value:function(){document.getElementById("pageBody").parentNode.removeEventListener("scroll",this.onHandleScroll)}},{key:"isLogin",value:function(){return!!this.props.loginUser}},{key:"inSignUp",value:function(){return"/sign-up"===this.props.currentPath}},{key:"renderMobileSearchBox",value:function(){var e=this;return le.default.createElement("div",{className:this.ss("mobile-search-box")},le.default.createElement(je.default,{hideMobileSearch:function(){return e.setState({showMobileSearch:!1})},autoFocus:!0}))}},{key:"renderMenuItems",value:function(){var e=this;if(this.inSignUp())return null;var t=this.props.currentPath,a=this.state.showMobileSearch,n="/search"!==t;return le.default.createElement("div",{className:this.ss("main-menu-wrapper")},le.default.createElement("div",{className:this.ss("main-menu")},le.default.createElement("div",{className:this.ss("menu-left")},le.default.createElement(We.default,null),le.default.createElement(ze.default,null),le.default.createElement(He.default,null),le.default.createElement(qe.default,null)),le.default.createElement("div",{className:this.ss("menu-right")},n&&le.default.createElement(je.default,null),le.default.createElement(lt,null))),le.default.createElement("button",{className:this.ss("mobile-search"),onClick:function(){return e.setState({showMobileSearch:!a})}},le.default.createElement("a",{className:this.ss("search-icon","ifont","ifont-icons-search")})),a&&this.renderMobileSearchBox())}},{key:"renderUserActions",value:function(){return this.inSignUp()?le.default.createElement("div",{className:this.ss("user-actions")},le.default.createElement("div",{className:this.ss("beta-user")},le.default.createElement("a",{className:this.ss("logout-btn"),href:"/auth/logout"},this.__("logout_action")))):le.default.createElement("div",{className:this.ss("user-actions")},le.default.createElement(Ee.default,{right:[le.default.createElement(wt,{key:"messages"}),le.default.createElement(ut,{key:"notifications"}),le.default.createElement(pt,{key:"application_switcher"}),le.default.createElement(gt,{key:"avatar"}),le.default.createElement(bt,{key:"bars"})]}))}},{key:"renderLogo",value:function(){return le.default.createElement("div",{className:this.ss("logo")},le.default.createElement("a",{href:"/"},le.default.createElement("img",{role:"presentation",src:a(348)})))}},{key:"render",value:function(){var r=this,e=this.props,s=e.headerHeight,t=e.headerTop,a=e.closeLoginWindow,i=e.setCurrHeaderTop;return le.default.createElement("div",null,le.default.createElement(Ae.default,null),le.default.createElement(_e.default,null),le.default.createElement(me.default,null),le.default.createElement(ve.default,null),le.default.createElement(Ne.default,null),le.default.createElement(pe.Motion,{style:{headerTop:(0,pe.spring)(t,ot)}},function(e){var t,a,n=e.headerTop,o={position:"fixed",top:(t=n,a=s,0<(t=Math.round(t))?t=0:t<-a&&(t=-a),t)};return"undefined"!=typeof window&&setTimeout(function(){i({currHeaderTop:o.top})},0),le.default.createElement("div",{className:r.ss("header-wrap"),style:o},le.default.createElement(Se.default,null),le.default.createElement("div",{className:r.ss("header")},r.renderLogo(),r.renderMenuItems(),r.renderUserActions()),le.default.createElement(Fe.default,null),le.default.createElement(Ge.default,null))}),le.default.createElement(ge.default,null),le.default.createElement(be.default,{onClose:function(){return a()}}),le.default.createElement(ye.default,null),le.default.createElement(we.default,null),le.default.createElement(Pe.default,null),le.default.createElement(Te.default,null),le.default.createElement(xe.default,null),le.default.createElement(Oe.default,null),le.default.createElement(Ct,null),le.default.createElement(Ot,null),le.default.createElement(Pt,null),le.default.createElement(xt,null),le.default.createElement(It,null),le.default.createElement(Be.default,null))}}]),kt.propTypes={currentPath:ie.default.string.isRequired,loginUser:ie.default.object,headerHeight:ie.default.number,headerTop:ie.default.number.isRequired,scrollTop:ie.default.number.isRequired,notificationStatus:ie.default.bool.isRequired,closeLoginWindow:ie.default.func,setCurrHeaderTop:ie.default.func,setHeaderPosition:ie.default.func},u=kt))||u)||u)||u;function kt(){var e,t,c;et(this,kt);for(var a=arguments.length,n=Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=c=tt(this,(e=kt.__proto__||Object.getPrototypeOf(kt)).call.apply(e,[this].concat(n)))).state={},c.onHandleScroll=function(){var e=c.props,t=e.scrollTop,a=e.headerTop,n=e.setHeaderPosition,o=e.headerHeight,r=document.getElementById("pageBody").parentNode,s=r.scrollTop,i=r.scrollHeight,l=r.clientHeight;(0,ke.isTouch)()?a<0&&n({headerTop:0,scrollTop:s}):t<s?n({headerTop:Math.min(a,o<s?-o:-s),scrollTop:s}):s<t&&s<=i-l&&n({headerTop:Math.max(a,o<s?0:-s),scrollTop:s})},tt(c,t)}t.default=Et;var Ct=(0,ue.decorator)({needReviewOpen:(0,de.state)(G),closeNeedReviewDialog:(0,de.signal)(K)})(d=(0,Je.default)(Ye.default)(d=(0,Ze.default)(Qe.default)((at(St,ce.default),g(St,[{key:"render",value:function(){var e=this.props,t=e.needReviewOpen,a=e.closeNeedReviewDialog;return le.default.createElement(Me.default,{theme:"default",open:t,title:this.__("review_title"),description:this.__("review_text"),hideCancel:!0,onClose:function(){return a()},onConfirm:function(){return a()}})}}]),St.propTypes={needReviewOpen:ie.default.bool,closeNeedReviewDialog:ie.default.func},d=St))||d)||d)||d;function St(){return et(this,St),tt(this,(St.__proto__||Object.getPrototypeOf(St)).apply(this,arguments))}var Ot=t.TfaConfirmDialog=(0,ue.decorator)({tfaConfirmOpen:(0,de.state)(V),doTfaStatus:(0,de.state)(J),doTfa:(0,de.signal)(Y),closeTfaConfirmDialog:(0,de.signal)(Z)})(p=(0,Je.default)(Ye.default)(p=(0,Ze.default)(Qe.default)((at(Nt,ce.default),g(Nt,[{key:"render",value:function(){var e=this.props,t=e.tfaConfirmOpen,a=e.doTfaStatus,n=e.doTfa,o=e.closeTfaConfirmDialog;return le.default.createElement(Me.default,{theme:"tfa",open:t,title:this.__("confirm_title"),description:this.__("confirm_text"),confirmStatus:a,onConfirm:function(){return n()},onClose:function(){return o()}})}}]),Nt.propTypes={tfaConfirmOpen:ie.default.bool,doTfaStatus:ie.default.string,doTfa:ie.default.func,closeTfaConfirmDialog:ie.default.func},p=Nt))||p)||p)||p;function Nt(){return et(this,Nt),tt(this,(Nt.__proto__||Object.getPrototypeOf(Nt)).apply(this,arguments))}var Pt=t.TfaNotifyDialog=(0,ue.decorator)({tfaNotifyOpen:(0,de.state)(Q),doTfaStatus:(0,de.state)(J),doTfa:(0,de.signal)(Y),closeTfaNotifyDialog:(0,de.signal)(X)})(f=(0,Je.default)(Ye.default)(f=(0,Ze.default)(Qe.default)((at(Tt,ce.default),g(Tt,[{key:"render",value:function(){var e=this.props,t=e.tfaNotifyOpen,a=e.doTfaStatus,n=e.doTfa,o=e.closeTfaNotifyDialog;return le.default.createElement(Ie.default,{theme:"tfa",open:t,title:this.__("notify_title"),description:this.__("notify_text"),confirmStatus:a,onOK:function(){return n()},onClose:function(){return o()}})}}]),Tt.propTypes={tfaNotifyOpen:ie.default.bool,doTfaStatus:ie.default.string,doTfa:ie.default.func,closeTfaNotifyDialog:ie.default.func},f=Tt))||f)||f)||f;function Tt(){return et(this,Tt),tt(this,(Tt.__proto__||Object.getPrototypeOf(Tt)).apply(this,arguments))}var xt=(0,ue.decorator)({platform:(0,de.state)($),browserConfirmOpen:(0,de.state)(ee),closeBrowserConfirmDialog:(0,de.signal)(te),openBrowserConfirmDialog:(0,de.signal)(ae)})(h=(0,Je.default)(Ye.default)(h=(0,Ze.default)(Qe.default)((at(Mt,ce.default),g(Mt,[{key:"componentDidMount",value:function(){var e=(this.props.platform||{}).ua;(0,De.default)(e)||(0,Le.default)(e)||this.checkBrowserVersion()}},{key:"versionSimplify",value:function(e){if(!e)return null;var t=e.split(".");return isFinite(t[0])?parseInt(t[0],10):null}},{key:"checkBrowserVersion",value:function(){var e=this.props,t=e.platform,a=e.openBrowserConfirmDialog,n=t||{name:"",version:""},o=n.name,r=n.version,s=this.versionSimplify(r);if(s){if(o&&"safari"===o.toLowerCase()){if(10<=s)return;a()}if(o&&"chrome"===o.toLowerCase()){if(49<=s)return;a()}if(o&&"firefox"===o.toLowerCase()){if(51<=s)return;a()}o&&"ie"===o.toLowerCase()&&a()}else console.error("can not parse version number: "+r)}},{key:"render",value:function(){var e=this.props,t=e.browserConfirmOpen,a=e.closeBrowserConfirmDialog,n=e.platform||{name:"",version:""},o=n.name,r=n.version,s="";return o&&"safari"===o.toLowerCase()&&(s=10),o&&"chrome"===o.toLowerCase()&&(s=49),o&&"firefox"===o.toLowerCase()&&(s=51),o&&"ie"===o.toLowerCase()&&(s="Chrome/Edge"),le.default.createElement(Me.default,{theme:"default",hideCancel:!0,open:t,title:this.__("browser_confirm_title"),description:this.__("browser_confirm_text",{version:r,recommendVersion:s}),onConfirm:function(){return a()},onClose:function(){return a()}})}}]),Mt.propTypes={browserConfirmOpen:ie.default.bool,platform:ie.default.object,closeBrowserConfirmDialog:ie.default.func,openBrowserConfirmDialog:ie.default.func},h=Mt))||h)||h)||h;function Mt(){return et(this,Mt),tt(this,(Mt.__proto__||Object.getPrototypeOf(Mt)).apply(this,arguments))}var It=t.DeleteConfirmDialog=(0,ue.decorator)({deleteConfirmOpen:(0,de.state)(ne),deleteConfirmType:(0,de.state)(oe),closeDeleteConfirm:(0,de.signal)(re),doConfirmDelete:(0,de.signal)(se)})(m=(0,Je.default)(Ye.default)(m=(0,Ze.default)(Qe.default)((at(Rt,ce.default),g(Rt,[{key:"render",value:function(){var e=this.props,t=e.deleteConfirmOpen,a=e.deleteConfirmType,n=e.closeDeleteConfirm,o=e.doConfirmDelete;return le.default.createElement(Me.default,{open:t,theme:"delete",title:this.__("delete_confirm_"+a+"_title"),description:this.__("delete_confirm_"+a+"_text"),onConfirm:function(){return o()},onClose:function(){return n()}})}}]),(_=Rt).propTypes={deleteConfirmOpen:ie.default.bool,deleteConfirmType:ie.default.oneOf(["default","comment","post","transfer_owner","group_kick","announcement","reject_refund","accept_refund","reject_dispute","accept_dispute"]),closeDeleteConfirm:ie.default.func,doConfirmDelete:ie.default.func},m=_))||m)||m)||m;function Rt(){return et(this,Rt),tt(this,(Rt.__proto__||Object.getPrototypeOf(Rt)).apply(this,arguments))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=M(["report.status"],["report.status"]),i=M(["report.processStatus"],["report.processStatus"]),l=M(["report.reportForm"],["report.reportForm"]),c=M(["report.itemType"],["report.itemType"]),u=M(["report.reportTitle"],["report.reportTitle"]),d=M(["report.close"],["report.close"]),p=M(["report.submitReport"],["report.submitReport"]),f=M(["report.changeType"],["report.changeType"]),h=M(["report.changeInputReasons"],["report.changeInputReasons"]),m=T(a(2)),_=T(a(1)),g=a(5),v=a(0),b=T(a(3)),y=T(a(12)),w=T(a(71)),j=T(a(13)),E=T(a(44)),k=T(a(37)),C=a(7),S=T(a(4)),O=T(a(356)),N=T(a(6)),P=T(a(357));function T(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var I=(0,g.decorator)({status:(0,v.state)(s),processStatus:(0,v.state)(i),reportForm:(0,v.state)(l),itemType:(0,v.state)(c),reportTitle:(0,v.state)(u),close:(0,v.signal)(d),submitReport:(0,v.signal)(p),changeType:(0,v.signal)(f),changeInputReasons:(0,v.signal)(h)})(n=(0,S.default)(O.default)(n=(0,N.default)(P.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(R,b.default),o(R,[{key:"componentDidUpdate",value:function(e){var t=this;!1===e.status&&!0===this.props.status&&setTimeout(function(){return t.setFocus()},100)}},{key:"onSubmit",value:function(){this.props.submitReport({formPath:["report","reportForm"]})}},{key:"setFocus",value:function(){var e=y.default.findDOMNode(this.refs.focusButton);e&&e.focus()}},{key:"renderOtherOption",value:function(){var e=this.props,t=e.reportForm,a=e.changeType,n=e.changeInputReasons;return _.default.createElement("div",{key:"other",className:this.ss("report-option-row")},_.default.createElement(E.default,{key:"option_other",className:this.ss("report-option-item"),label:"",value:"other",isChecked:"other"===t.type.value,onCheck:function(e,t){return a({value:t})}}),_.default.createElement(k.default,{className:this.ss("input"),placeholder:this.__("input_placeholder"),disabled:"other"!==t.type.value,value:t.inputReasons.value,errorText:t.inputReasons.isTouched&&this.__(t.inputReasons.errorMessage),onChange:function(e,t){return n({value:t})}}))}},{key:"render",value:function(){var t=this,e=this.props,a=e.reportForm,n=e.status,o=e.processStatus,r=e.itemType,s=e.reportTitle,i=e.changeType;if(!a)return null;var l=this.options.map(function(e){return"other"===e?t.renderOtherOption():_.default.createElement(E.default,{key:"option_"+e,className:t.ss("report-option-item"),label:t.__("report_option_"+e),value:e,isChecked:a.type.value===e,onCheck:function(e,t){return i({value:t})}})});return _.default.createElement(w.default,{open:n,className:this.ss("dialog-wrap"),title:s?this.__("title_report_"+s):this.__("title_report_"+r),onCloseModal:this.onClose,maxHeight:!0},_.default.createElement("div",{className:this.ss("report-wrap")},_.default.createElement("h1",{className:this.ss("report-title")},this.__("report_title")),_.default.createElement("div",{className:this.ss("report-options")},l),_.default.createElement("div",{className:this.ss("button-wrap")},_.default.createElement(j.default,{ref:"focusButton",theme:"default",loading:(0,C.isLoading)(o),className:this.ss("button","btn-submit"),label:this.__("btn_submit"),onClick:function(){return t.onSubmit()}}))))}}]),R.propTypes={status:m.default.bool,processStatus:m.default.string,reportForm:m.default.object,itemType:m.default.string,reportTitle:m.default.string,close:m.default.func,submitReport:m.default.func,changeType:m.default.func,changeInputReasons:m.default.func},n=R))||n)||n)||n;function R(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,R);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=x(this,(e=R.__proto__||Object.getPrototypeOf(R)).call.apply(e,[this].concat(o)))).onClose=function(){a.props.close({formPath:["report","reportForm"]})},a.options=["spam","copyright_violation","abusive_contents","adult_contents","other"],x(a,t)}t.default=I},,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,r=function(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e};function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=h(a(1)),l=h(a(2)),c=h(a(3)),u=h(a(4)),d=h(a(265)),p=h(a(6)),f=h(a(266));function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,u.default)(d.default)(n=(0,p.default)(f.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(_,c.default),r(_,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.type;return i.default.createElement("div",{className:this.ss(t,"container")},this.__(a))}}]),(o=_).propTypes={className:l.default.string,type:l.default.oneOf(["admin","moderator","staff"])},n=o))||n)||n;function _(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EndBarComponent=t.default=void 0;var n,o,r,s,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e,t,a){return t&&c(e.prototype,t),a&&c(e,a),e};function c(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=x(["search.searchResult.currentPage"],["search.searchResult.currentPage"]),d=x(["search.searchResult.pages"],["search.searchResult.pages"]),p=x(["search.searchStatus"],["search.searchStatus"]),f=x(["search.loadMoreStatus"],["search.loadMoreStatus"]),h=x(["footer.height"],["footer.height"]),m=O(a(2)),_=O(a(1)),g=a(5),v=a(0),b=O(a(3)),y=O(a(13)),w=a(7),j=O(a(69)),E=O(a(4)),k=O(a(267)),C=O(a(6)),S=O(a(268));function O(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function x(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var M=(0,g.decorator)({currentPage:(0,v.state)(u),pages:(0,v.state)(d),searchStatus:(0,v.state)(p),loadMoreStatus:(0,v.state)(f),footerHeight:(0,v.state)(h)})((T(I,b.default),l(I,[{key:"componentDidMount",value:function(){document.getElementById("pageBody").parentNode.addEventListener("scroll",this.onHandleScroll)}},{key:"componentWillUnmount",value:function(){document.getElementById("pageBody").parentNode.removeEventListener("scroll",this.onHandleScroll)}},{key:"onPage",value:function(){var e=this.props,t=e.searchStatus,a=e.loadMoreStatus;(0,w.isLoading)(t)||(0,w.isLoading)(a)||!this.hasMoreResult()||!this.props.onPage||this.props.onPage()}},{key:"isScrollToEnd",value:function(){var e=document.getElementById("pageBody").parentNode,t=e.scrollTop;return e.scrollHeight<=t+e.clientHeight}},{key:"hasMoreResult",value:function(){var e,t=this.props,a=t.currentPage,n=t.pages,o=t.hasMore,r=!1;return o?r=o():n&&0<n.length&&0<=(e=n.indexOf(a))&&e<n.length-1&&(r=!0),r}},{key:"render",value:function(){var e=this,t=(0,j.default)(this.props,"hasMore","onPage");return _.default.createElement(R,i({},t,{hasMore:this.hasMoreResult(),onPage:function(){return e.onPage()}}))}}]),I.propTypes={currentPage:m.default.number,pages:m.default.array,searchStatus:m.default.string,loadMoreStatus:m.default.string,footerHeight:m.default.number,onPage:m.default.func,hasMore:m.default.func,preventLoadOnScroll:m.default.bool},n=I))||n;function I(){var e,t,n;N(this,I);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=P(this,(e=I.__proto__||Object.getPrototypeOf(I)).call.apply(e,[this].concat(o)))).onHandleScroll=function(){var e=n.props,t=e.searchStatus,a=e.loadMoreStatus;!((0,w.isLoading)(t)||(0,w.isLoading)(a))&&n.hasMoreResult()&&n.isScrollToEnd()&&n.hasMoreResult()&&n.preventLoadOnScroll&&n.onPage()},P(n,t)}t.default=M;var R=t.EndBarComponent=(0,g.decorator)({loadMoreStatus:(0,v.state)(f)})(o=(0,E.default)(k.default)(o=(0,C.default)(S.default)((T(D,b.default),l(D,[{key:"render",value:function(){var e=this.props,t=e.userDefinedLoadMoreStaus,a=e.loadMoreStatus,n=e.hasMore,o=e.onPage,r=e.theme,s=null;return(0,w.isLoading)(t||a)?s="livehelp"===r?_.default.createElement("div",{className:this.ss("searchInProgress")},_.default.createElement("div",{className:this.ss("loading-text")},this.__("loading_text"))):_.default.createElement("div",{className:this.ss("searchInProgress")},_.default.createElement("div",{className:this.ss("loading")})):n&&(s="post"===r?_.default.createElement(y.default,{theme:"gray",widthType:"full",size:"xlarge",label:this.__("view_more"),onClick:function(){return o()}}):_.default.createElement(y.default,{theme:"default",className:this.ss("more"),label:this.__("more"),onClick:function(){return o()}})),_.default.createElement("div",{key:"status",className:this.ss("statusBar",r)},s)}}]),s=r=D,r.propTypes={loadMoreStatus:m.default.string,userDefinedLoadMoreStaus:m.default.string,hasMore:m.default.bool,theme:m.default.oneOf(["default","post","flex","livehelp"]),onPage:m.default.func},r.defaultProps={theme:"default"},o=s))||o)||o)||o;function D(){return N(this,D),P(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=L(["header.setting.headerHeight"],["header.setting.headerHeight"]),i=L(["notification.status"],["notification.status"]),l=L(["notification.firstLoad"],["notification.firstLoad"]),c=L(["notification.unreadCount"],["notification.unreadCount"]),u=L(["notification.total"],["notification.total"]),d=L(["notification.page"],["notification.page"]),p=L(["notification.pageTotal"],["notification.pageTotal"]),f=L(["notification.results"],["notification.results"]),h=L(["notification.processStatus"],["notification.processStatus"]),m=L(["header.setting.currHeaderTop"],["header.setting.currHeaderTop"]),_=L(["notification.switchStatusToFalse"],["notification.switchStatusToFalse"]),g=L(["notification.getNotifications"],["notification.getNotifications"]),v=L(["notification.makeAllRead"],["notification.makeAllRead"]),b=R(a(2)),y=R(a(1)),w=R(a(12)),j=a(5),E=a(0),k=R(a(3)),C=a(18),S=R(a(17)),O=R(a(22)),N=R(a(271)),P=a(7),T=R(a(4)),x=R(a(274)),M=R(a(6)),I=R(a(275));function R(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function L(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var A=(0,j.decorator)({headerHeight:(0,E.state)(s),status:(0,E.state)(i),firstLoad:(0,E.state)(l),unreadCount:(0,E.state)(c),total:(0,E.state)(u),page:(0,E.state)(d),pageTotal:(0,E.state)(p),results:(0,E.state)(f),processStatus:(0,E.state)(h),currHeaderTop:(0,E.state)(m),switchStatusToFalse:(0,E.signal)(_),getNotifications:(0,E.signal)(g),makeAllRead:(0,E.signal)(v)})(n=(0,T.default)(x.default)(n=(0,M.default)(I.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(U,k.default),o(U,[{key:"componentDidMount",value:function(){var e=this;w.default.findDOMNode(this.refs.ntfList).parentNode.addEventListener("scroll",this.onHandleScroll),"function"==typeof this.props.switchStatusToFalse&&(this.removeClickOutside=(0,C.addClickOutside)([this,"notifications-action"],function(){e.props.switchStatusToFalse()}))}},{key:"componentWillUnmount",value:function(){w.default.findDOMNode(this.refs.ntfList).parentNode.removeEventListener("scroll",this.onHandleScroll),this.removeClickOutside()}},{key:"onPage",value:function(){var e=this.props.processStatus;(0,P.isLoading)(e)||this.isEnd()||this.props.getNotifications()}},{key:"isScrollToEnd",value:function(){var e=w.default.findDOMNode(this.refs.ntfList).parentNode,t=e.scrollTop;return e.scrollHeight<=t+e.clientHeight}},{key:"isEnd",value:function(){var e=this.props,t=e.page;return e.pageTotal<=t}},{key:"renderTitle",value:function(){var e=this,t=0<this.props.unreadCount&&y.default.createElement("div",{className:this.ss("count")},this.props.unreadCount);return y.default.createElement("div",{className:this.ss("header")},y.default.createElement("div",{className:this.ss("title")},y.default.createElement("div",{className:this.ss("title-txt")},this.__("title")),t,y.default.createElement("div",{className:this.ss("make-all")},y.default.createElement(O.default,{text:this.__("tooltip_make_all"),position:"bottom-left"},y.default.createElement("div",{className:this.ss("ifont","ifont-icon-mark-all-read","make-all-btn"),onClick:function(){return e.props.makeAllRead()}})))))}},{key:"render",value:function(){var e=this.props,t=e.status,a=e.currHeaderTop,n=e.headerHeight;return y.default.createElement("div",{className:this.ss("notifications-wrap",t&&"open"),style:{top:n+a+"px"}},y.default.createElement("div",{className:this.ss("notifications")},this.renderTitle(),y.default.createElement(S.default,null,y.default.createElement(N.default,{ref:"ntfList"}))))}}]),U.propTypes={headerHeight:b.default.number,status:b.default.bool,firstLoad:b.default.bool,unreadCount:b.default.number,total:b.default.number,page:b.default.number,pageTotal:b.default.number,results:b.default.array,processStatus:b.default.string,currHeaderTop:b.default.number.isRequired,switchStatusToFalse:b.default.func,getNotifications:b.default.func,makeAllRead:b.default.func},n=U))||n)||n)||n;function U(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,U);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=D(this,(e=U.__proto__||Object.getPrototypeOf(U)).call.apply(e,[this].concat(o)))).onHandleScroll=function(){a.isScrollToEnd()&&!a.isEnd()&&a.onPage()},D(a,t)}t.default=A},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=w(["header.login.open"],["header.login.open"]),i=w(["header.login.url"],["header.login.url"]),l=b(a(2)),c=b(a(1)),u=a(5),d=a(0),p=b(a(3)),f=b(a(12)),h=b(a(20)),m=b(a(4)),_=b(a(286)),g=b(a(6)),v=b(a(287));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=(0,u.decorator)({open:(0,d.state)(s),url:(0,d.state)(i)})(n=(0,m.default)(_.default)(n=(0,g.default)(v.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(E,p.default),o(E,[{key:"componentDidUpdate",value:function(){var e;this.refs.idPage&&!this._iframeResize&&(e=a(288),this._iframeResize=e({checkOrigin:!1,log:!0,sizeWidth:!0},f.default.findDOMNode(this.refs.idPage))[0].iFrameResizer),!this.refs.idPage&&this._iframeResize&&(this._iframeResize.close(),this._iframeResize=null)}},{key:"componentWillUnmount",value:function(){this._iframeResize&&(this._iframeResize.close(),this._iframeResize=null)}},{key:"render",value:function(){var e=this.props,t=e.open,a=e.url,n={height:425,width:400},o=c.default.createElement("div",{className:this.ss("loading-wrap")},c.default.createElement("div",{className:this.ss("loading")}));return c.default.createElement(h.default,{open:t,position:"center",onCloseModal:this.onClose},c.default.createElement("div",{className:this.ss("login")},c.default.createElement("div",{className:this.ss("title-wrap")},c.default.createElement("div",{className:this.ss("logo")},c.default.createElement("img",{className:this.ss("logo-image"),src:"/public/images/logos/unity-play-logo.min.svg",alt:"Unity Play Logo"})),c.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},c.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close")}))),c.default.createElement("div",{className:this.ss("content-wrap")},c.default.createElement("iframe",{ref:"idPage",src:a,scrolling:"no",frameBorder:"0",onLoad:this.onIFrameLoaded,style:n}),t&&!this.state.loaded&&o)))}}]),E.propTypes={open:l.default.bool,url:l.default.string,onConfirm:l.default.func,onClose:l.default.func},n=E))||n)||n)||n;function E(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=y(this,(e=E.__proto__||Object.getPrototypeOf(E)).call.apply(e,[this].concat(o)))).state={loaded:!1},a.onIFrameLoaded=function(){a.setState({loaded:a.props.open})},a.onConfirm=function(){a.props.onConfirm&&a.props.onConfirm()},a.onClose=function(){a.props.onClose&&a.props.onClose()},y(a,t)}t.default=j},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=d(a(2)),f=d(a(1)),i=d(a(12)),l=d(a(3)),h=a(24),c=d(a(4)),u=d(a(291));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=h.presets.stiff,_=(0,c.default)(u.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(g,l.default),o(g,[{key:"componentDidMount",value:function(){var e=this;this._handleResize=function(){return e.onHandleResize()},window.addEventListener("resize",this._handleResize),setTimeout(this._handleResize,0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._handleResize)}},{key:"onHandleResize",value:function(){var e,t,a=i.default.findDOMNode(this.refRightHidden),n=i.default.findDOMNode(this.refRight);a&&n&&(e=Array.from(a.children).reduce(function(e,t){return e+t.offsetWidth},0),t=Array.from(n.children).reduce(function(e,t){return e+t.offsetWidth},0),this.state.rightHiddenWidth===e&&this.state.rightWidth===t||this.setState({rightHiddenWidth:e,rightWidth:t}))}},{key:"render",value:function(){var i=this,e=this.props,l=e.children,c=e.rightHidden,u=e.right,t=e.open,a=this.state,d=a.rightHiddenWidth,p=a.rightWidth;if(""===d||""===p)return f.default.createElement("div",{className:this.ss("drawer")},f.default.createElement("div",{className:this.ss("children")},l),f.default.createElement("div",{ref:function(e){i.refRightHidden=e},className:this.ss("right-hidden")},f.default.createElement("div",{ref:"rightHidden",className:this.ss("right-hidden-inner")},c)),f.default.createElement("div",{ref:function(e){i.refRight=e},className:this.ss("right")},u));var n=t?{rightHiddenWidth:(0,h.spring)(Math.max(0,d-p),m),rightHiddenOpacity:(0,h.spring)(1,m),rightWidth:(0,h.spring)(0,m),rightOpacity:(0,h.spring)(0,m)}:{rightHiddenWidth:(0,h.spring)(0,m),rightHiddenOpacity:(0,h.spring)(0,m),rightWidth:(0,h.spring)(p,m),rightOpacity:(0,h.spring)(1,m)};return f.default.createElement(h.Motion,{style:n},function(e){var t=Math.round(e.rightHiddenWidth);t<0?t=0:t>Math.max(0,d-p)&&(t=Math.max(0,d-p));var a=Math.round(e.rightWidth);a<0?a=0:p<a&&(a=p);var n=e.rightHiddenOpacity,o=e.rightOpacity,r={visibility:0===n?"hidden":"visible",width:(0<t?t:1e-4)+"px",opacity:n},s={visibility:0===o?"hidden":"visible",marginLeft:p-a+"px",opacity:o};return f.default.createElement("div",{className:i.ss("drawer")},f.default.createElement("div",{className:i.ss("children")},l),f.default.createElement("div",{ref:function(e){i.refRightHidden=e},className:i.ss("right-hidden"),style:r},f.default.createElement("div",{ref:"rightHidden",className:i.ss("right-hidden-inner")},c)),f.default.createElement("div",{ref:function(e){i.refRight=e},className:i.ss("right"),style:s},u))})}}]),g.propTypes={rightHidden:s.default.node,right:s.default.node.isRequired,children:s.default.node,open:s.default.bool},n=g))||n;function g(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=p(this,(e=g.__proto__||Object.getPrototypeOf(g)).call.apply(e,[this].concat(o)))).state={rightHiddenWidth:"",rightWidth:""},p(a,t)}t.default=_},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=k(["header.postProject.open"],["header.postProject.open"]),i=k(["header.postProject.isSelectGameMode"],["header.postProject.isSelectGameMode"]),l=k(["header.postProject.noAnimation"],["header.postProject.noAnimation"]),c=k(["header.createProjectByTypeInternal"],["header.createProjectByTypeInternal"]),u=k(["header.closeCreateDialog"],["header.closeCreateDialog"]),d=k(["header.toggleSelectGame"],["header.toggleSelectGame"]),p=j(a(2)),f=j(a(1)),h=j(a(3)),m=a(5),_=a(0),g=j(a(20)),v=j(a(4)),b=j(a(314)),y=j(a(6)),w=j(a(315));function j(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var C=(0,m.decorator)({open:(0,_.state)(s),isSelectGameMode:(0,_.state)(i),noAnimation:(0,_.state)(l),createProjectByType:(0,_.signal)(c),closeCreateDialog:(0,_.signal)(u),toggleSelectGame:(0,_.signal)(d)})(n=(0,v.default)(b.default)(n=(0,y.default)(w.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(S,h.default),o(S,[{key:"renderPostCard",value:function(e){var t=this,a=e.type,n=e.iconName;return f.default.createElement("button",{key:"card-"+a,className:this.ss("card",a),onClick:function(){return t.createProject(a)}},f.default.createElement("div",{className:this.ss(a,"card-icon","ifont","ifont-"+n)}),f.default.createElement("div",{className:this.ss("card-title")},this.__(a+"_title")),f.default.createElement("div",{className:this.ss("card-description")},this.__(a+"_description")))}},{key:"renderDescription",value:function(){var e=this;return this.props.isSelectGameMode?f.default.createElement("div",{className:this.ss("description-top")},this.__("description_game_select"),f.default.createElement("a",{onClick:function(){return e.props.toggleSelectGame()}},this.__("return_to_main")),"."):f.default.createElement("div",{className:this.ss("description-top")},this.__("description_top"))}},{key:"renderProjectSelect",value:function(){var t=this;return f.default.createElement("div",{className:this.ss("type-cards")},[{type:"article",iconName:"icons-article"},{type:"game",iconName:"icons-game"},{type:"showcase",iconName:"icons-showcase"}].map(function(e){return t.renderPostCard(e)}))}},{key:"renderGameItem",value:function(e){var t=this,a=e.type,n=e.iconName;return f.default.createElement("div",{key:a,className:this.ss("card")},f.default.createElement("div",{className:this.ss("icon",a,"ifont","ifont-"+n)}),f.default.createElement("div",{className:this.ss("card-title")},this.__("select_"+a+"_title")),f.default.createElement("div",{className:this.ss("card-description")},this.__("select_"+a+"_description")),f.default.createElement("a",{className:this.ss("card-button"),onClick:function(){return t.props.createProjectByType({type:a})}},this.__("select_"+a+"_post")))}},{key:"renderGameSelect",value:function(){var t=this;return f.default.createElement("div",{className:this.ss("webgl-cards")},[{type:"webgl",iconName:"icons-open-in-browser"},{type:"game",iconName:"icons-showcase"}].map(function(e){return t.renderGameItem(e)}))}},{key:"render",value:function(){var e=this.props,t=e.open,a=e.noAnimation,n=e.isSelectGameMode,o=e.closeCreateDialog,r=n?"title_game_select":"title";return f.default.createElement(g.default,{open:t,noAnimation:a,position:"center",onCloseModal:function(){return o()}},f.default.createElement("div",{className:this.ss("content-wrap")},f.default.createElement("div",{className:this.ss("content")},f.default.createElement("div",{className:this.ss("title")},this.__(r)),this.renderDescription(),n?this.renderGameSelect():this.renderProjectSelect()),f.default.createElement("div",{className:this.ss("notice")},f.default.createElement("div",{className:this.ss("notice-info")},f.default.createElement("div",{className:this.ss("notice-title")},this.__("notice_title")),f.default.createElement("div",{className:this.ss("notice-description")},this.__("notice_description"))),f.default.createElement("div",{className:this.ss("notice-button")},f.default.createElement("button",{className:this.ss("button"),onClick:function(){return o()}},this.__("button_ok"))))))}}]),S.propTypes={open:p.default.bool,noAnimation:p.default.bool,isSelectGameMode:p.default.bool,createProjectByType:p.default.func,closeCreateDialog:p.default.func,toggleSelectGame:p.default.func},n=S))||n)||n)||n;function S(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=E(this,(e=S.__proto__||Object.getPrototypeOf(S)).call.apply(e,[this].concat(o)))).state={},a.createProject=function(e){"game"===e?a.props.toggleSelectGame():a.props.createProjectByType({type:e})},E(a,t)}t.default=C},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=Object.freeze(Object.defineProperties(["header.weixinConfig"],{raw:{value:Object.freeze(["header.weixinConfig"])}})),i=p(a(2)),l=p(a(1)),c=p(a(3)),u=a(5),d=a(0);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=(0,u.decorator)({weixinConfig:(0,d.signal)(s)})((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,c.default),o(m,[{key:"componentDidMount",value:function(){this.props.weixinConfig&&this.props.weixinConfig()}},{key:"render",value:function(){return l.default.createElement("noscript",null)}}]),m.propTypes={weixinConfig:i.default.func},n=m))||n;function m(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=f(this,(e=m.__proto__||Object.getPrototypeOf(m)).call.apply(e,[this].concat(o)))).state={},f(a,t)}t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=v(["currentPath"],["currentPath"]),i=v(["header.sendCDPRequest"],["header.sendCDPRequest"]),l=g(a(2)),c=g(a(1)),u=g(a(3)),d=a(5),p=a(0),f=g(a(4)),h=g(a(329)),m=g(a(6)),_=g(a(330));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var b=(0,d.decorator)({currentPath:(0,p.state)(s),sendCDPRequest:(0,p.signal)(i)})(n=(0,f.default)(h.default)(n=(0,m.default)(_.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(y,u.default),o(y,[{key:"onMenuClick",value:function(e,t){var a={menuType:"jobs",subtype:e};this.props.sendCDPRequest({type:"menu",data:a,redirectUrl:t})}},{key:"render",value:function(){var e=this,t=this.props,a=t.currentPath,n=t.title,o=t.font,r="/how-to"===a,s="menu_text";n&&(s=n);var i=o?{fontSize:o}:{};return c.default.createElement("div",{className:this.ss("first-menu")},c.default.createElement("div",{className:this.ss("icon-wrapper",r&&"active"),style:i,onClick:function(){return e.onMenuClick("about","/how-to")}},this.__(s),!1))}}]),y.propTypes={currentPath:l.default.string,title:l.default.string,font:l.default.number,sendCDPRequest:l.default.func},n=y))||n)||n)||n;function y(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}t.default=b},function(e,t){e.exports={region_01:"region_01_2r-0",region_02:"region_02_u92M",region_03:"region_03_1VFE",region_04:"region_04_3raK",region_05:"region_05_2LbU",region_06:"region_06_2PwW",region_07:"region_07_1gbD",region_08:"region_08_1IDR",region_09:"region_09_2v3S"}},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=xe(["project"],["project"]),i=xe(["currentPath"],["currentPath"]),l=xe(["currentHost"],["currentHost"]),c=xe(["currentUserId"],["currentUserId"]),u=xe(["project.like"],["project.like"]),d=xe(["project.share.show"],["project.share.show"]),p=xe(["project.cover.show"],["project.cover.show"]),f=xe(["project.contentMap"],["project.contentMap"]),h=xe(["project.globalChallenge"],["project.globalChallenge"]),m=xe(["project.bannerCopy"],["project.bannerCopy"]),_=xe(["project.challenge"],["project.challenge"]),g=xe(["project.showChallenge"],["project.showChallenge"]),v=xe(["project.edit"],["project.edit"]),b=xe(["project.comments"],["project.comments"]),y=xe(["project.loadMoreStatus"],["project.loadMoreStatus"]),w=xe(["project.uploads"],["project.uploads"]),j=xe(["project.showWebglToolBar"],["project.showWebglToolBar"]),E=xe(["project.uploadId"],["project.uploadId"]),k=xe(["pageType"],["pageType"]),C=xe(["loginUser.isAdmin"],["loginUser.isAdmin"]),S=xe(["loginUser.id"],["loginUser.id"]),O=xe(["webgl"],["webgl"]),N=xe(["project.setMute"],["project.setMute"]),P=xe(["project.setProjectState"],["project.setProjectState"]),T=xe(["project.setUploadingPreview"],["project.setUploadingPreview"]),x=xe(["project.setRemoveWebgl"],["project.setRemoveWebgl"]),M=xe(["project.setShowStopRecord"],["project.setShowStopRecord"]),I=xe(["project.setUploadId"],["project.setUploadId"]),R=xe(["project.setHideRecord"],["project.setHideRecord"]),D=xe(["project.setTime"],["project.setTime"]),L=xe(["project.setShowWebglToolBar"],["project.setShowWebglToolBar"]),A=xe(["project.setEnableMobile"],["project.setEnableMobile"]),U=xe(["project.webglLoadMore"],["project.webglLoadMore"]),W=xe(["project.toggleLike"],["project.toggleLike"]),z=xe(["header.copyLink"],["header.copyLink"]),H=xe(["project.onLogPlaySuccess"],["project.onLogPlaySuccess"]),q=xe(["project.openSubmitWebglDialog"],["project.openSubmitWebglDialog"]),B=xe(["project.openScreenshotDialog"],["project.openScreenshotDialog"]),F=xe(["project.initWebgl"],["project.initWebgl"]),G=xe(["header.sendCDPRequest"],["header.sendCDPRequest"]),K=xe(["project.hideCover"],["project.hideCover"]),V=xe(["project.openShare"],["project.openShare"]),J=xe(["project.closeShare"],["project.closeShare"]),Y=xe(["report.open"],["report.open"]),Z=xe(["project.hideChallenge"],["project.hideChallenge"]),Q=xe(["project.uploadAttachment"],["project.uploadAttachment"]),X=xe(["project.retryUploadAttachment"],["project.retryUploadAttachment"]),$=xe(["project.continueUploadAttachmentMultipart"],["project.continueUploadAttachmentMultipart"]);t.getWebglOrigin=Le;var ee=Pe(a(2)),te=Pe(a(1)),ae=a(5),ne=a(0),oe=Pe(a(3)),re=Pe(a(358)),se=Pe(a(369)),ie=Pe(a(392)),le=Pe(a(401)),ce=Pe(a(404)),ue=Pe(a(407)),de=a(186),pe=Pe(a(86)),fe=Pe(a(410)),he=(Pe(a(508)),Pe(a(19))),me=Pe(a(412)),_e=Pe(a(415)),ge=a(7),ve=Pe(ge),be=Pe(a(418)),ye=Pe(a(15)),we=a(141),je=a(434),Ee=Pe(a(76)),ke=Pe(a(4)),Ce=Pe(a(435)),Se=Pe(a(6)),Oe=Pe(a(436)),Ne=Pe(a(437));function Pe(e){return e&&e.__esModule?e:{default:e}}function Te(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function xe(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Me=15,Ie=!1,Re=(0,ae.decorator)({project:(0,ne.state)(s),currentPath:(0,ne.state)(i),currentHost:(0,ne.state)(l),currentUserId:(0,ne.state)(c),like:(0,ne.state)(u),showShare:(0,ne.state)(d),showCover:(0,ne.state)(p),contentMap:(0,ne.state)(f),globalChallenge:(0,ne.state)(h),bannerCopy:(0,ne.state)(m),challenge:(0,ne.state)(_),showChallenge:(0,ne.state)(g),edit:(0,ne.state)(v),comments:(0,ne.state)(b),loadMoreStatus:(0,ne.state)(y),uploads:(0,ne.state)(w),showWebglToolBar:(0,ne.state)(j),uploadId:(0,ne.state)(E),pageType:(0,ne.state)(k),isAdmin:(0,ne.state)(C),loginUserId:(0,ne.state)(S),webgl:(0,ne.state)(O),setMute:(0,ne.signal)(N),setProjectState:(0,ne.signal)(P),setUploadingPreview:(0,ne.signal)(T),setRemoveWebgl:(0,ne.signal)(x),setShowStopRecord:(0,ne.signal)(M),setUploadId:(0,ne.signal)(I),setHideRecord:(0,ne.signal)(R),setTime:(0,ne.signal)(D),setShowWebglToolBar:(0,ne.signal)(L),setEnableMobile:(0,ne.signal)(A),loadMore:(0,ne.signal)(U),toggleLike:(0,ne.signal)(W),copyLink:(0,ne.signal)(z),onLogPlaySuccess:(0,ne.signal)(H),openSubmitWebglDialog:(0,ne.signal)(q),openScreenshotDialog:(0,ne.signal)(B),initWebgl:(0,ne.signal)(F),sendCDPRequest:(0,ne.signal)(G),hideCover:(0,ne.signal)(K),openShare:(0,ne.signal)(V),closeShare:(0,ne.signal)(J),reportOpen:(0,ne.signal)(Y),hideChallenge:(0,ne.signal)(Z),uploadAttachment:(0,ne.signal)(Q),retryUploadAttachment:(0,ne.signal)(X),continueUploadAttachmentMultipart:(0,ne.signal)($)})(n=(0,ke.default)(Ce.default)(n=(0,Se.default)(Oe.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(De,oe.default),o(De,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.receiveMessage),window.addEventListener("keydown",this.handleKeyPress),this.props.initWebgl()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.receiveMessage),window.removeEventListener("keydown",this.handleKeyPress)}},{key:"onShareLinkCopy",value:function(e){(0,this.props.copyLink)({content:e})}},{key:"onScrollEnd",value:function(){var e=this.props,t=e.comments,a=e.loadMore,n=e.loadMoreStatus,o=(t||{}).hasMore;!(0,ge.isLoading)(n)&&o&&a({loading:!0})}},{key:"onChallengeBannerNotNowClick",value:function(){this.props.hideChallenge()}},{key:"onChallengeBannerJoinClick",value:function(){this.props.openSubmitWebglDialog()}},{key:"getProjectType",value:function(e){var t="";switch(e||this.props.project.webglPKG.mgType){case"mg_platformer":t="2d";break;case"mg_fps":t="fps";break;case"mg_karting":t="karting";break;case"mg_lego":t="lego";break;default:t="other"}return t}},{key:"trackUploading",value:function(){var e=this.props,l=e.uploads,c=e.uploadId,u=Le(),d=setInterval(function(){var e=l[c],t=e.loaded,a=void 0===t?0:t,n=e.total,o=void 0===n?1:n,r=e.status,s=e.contentId,i=document.getElementById("webgl_iframe").contentWindow;r===ve.default.succeeded||r===ve.default.failed?(window.onbeforeunload=function(){},i.postMessage({action:"uploadReport",data:r,contentId:s},u),clearInterval(d)):i.postMessage({action:"uploadProgress",data:100*a/o},u)},500)}},{key:"dataURLtoBlob",value:function(e){for(var t=e.split(","),a=t[0].match(/:(.*?);/)[1],n=atob(t[1]),o=n.length,r=new Uint8Array(o);o--;)r[o]=n.charCodeAt(o);return new Blob([r],{type:a})}},{key:"reportPopup",value:function(){var e=Le();document.getElementById("webgl_iframe").contentWindow.postMessage({action:"clickReport"},e),this.setState({reportPopup:!1})}},{key:"renderSubmitWebglButton",value:function(e){var t=this,a=this.props.project.projectData.challengeId,n=e.slug;return a?te.default.createElement("div",{className:this.ss("button-wrapper")},te.default.createElement("button",{onClick:function(){return(0,he.default)("/showcases/"+n)}},this.__("check_status"))):te.default.createElement("div",{className:this.ss("button-wrapper")},te.default.createElement("button",{onClick:function(){return t.onChallengeBannerJoinClick()}},this.__("submit_game")))}},{key:"renderChallenge",value:function(){var e=this,t=this.props,a=t.globalChallenge,n=t.bannerCopy,o=t.challenge,r=t.project.projectData.challengeId,s=t.edit;if(!t.showChallenge||!s||!o&&!a)return null;var i=o||a,l=i.id,c=i.title,u=this.__("tips",{title:c});return n&&(u=n),r===l&&(u=this.__("tips_success")),te.default.createElement("div",{className:this.ss("challenge-wrapper")},te.default.createElement("div",{className:this.ss("challenge","main-content")},te.default.createElement("div",{className:this.ss("info")},te.default.createElement("div",{className:this.ss("tips")},u)),te.default.createElement("button",{className:this.ss("not-now"),onClick:function(){return e.onChallengeBannerNotNowClick()}},this.__("not_now")),this.renderSubmitWebglButton(i)))}},{key:"renderShare",value:function(){var e=this,t=this.props,a=t.currentHost,n=t.currentPath,o=t.showShare,r="https://"+a+n;return te.default.createElement("div",{className:this.ss("share","main-content")},te.default.createElement("div",{className:this.ss("testssss")},o),te.default.createElement("div",{className:this.ss("left")},te.default.createElement("div",{className:this.ss("share-title")},this.__("share_game_link")),te.default.createElement("div",{className:this.ss("share-content")},r,te.default.createElement("a",{className:this.ss("copy"),onClick:function(){return e.onShareLinkCopy(r)}},this.__("copy")))),te.default.createElement("div",{className:this.ss("share-tips")},te.default.createElement("div",{className:this.ss("icon-mac","ifont","ifont-icons-desktop-mac")}),this.__("share_tips")))}},{key:"renderStatistics",value:function(e){var t=this.props,a=t.currentUserId,n=t.toggleLike,o=this.props.project,r=o.projectData,s=o.like,i=r||{},l=i.viewCount,c=i.likeCount,u=i.commentCount,d=i.playCount,p=!s&&a!==i.userId;return te.default.createElement("div",{className:this.ss(e&&"statistics-mobile","statistics")},te.default.createElement("div",{className:this.ss("item","like",s&&"active",!p&&"disable")},te.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-thumb-up"),onClick:function(){return n()}}),te.default.createElement("div",{className:this.ss("text")},this.__("likes_hint",{count:c}))),te.default.createElement("div",{className:this.ss("item")},te.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-comments")}),te.default.createElement("div",{className:this.ss("text")},this.__("comments_hint",{count:u}))),te.default.createElement("div",{className:this.ss("item")},te.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-visibility")}),te.default.createElement("div",{className:this.ss("text")},this.__("views_hint",{count:l}))),te.default.createElement("div",{className:this.ss("item")},te.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-gamepad")}),te.default.createElement("div",{className:this.ss("text")},this.__("play_hint",{count:d}))))}},{key:"renderExpired",value:function(){return te.default.createElement("div",{className:this.ss("content")},te.default.createElement("div",{className:this.ss("expired-content")},this.__("project_expired")))}},{key:"renderContent",value:function(){var e=this,t=this.props,a=t.showCover,n=t.pageType,o=this.state.reportPopup,r="detail"===n;return te.default.createElement("div",{className:this.ss("content")},te.default.createElement("div",{className:this.ss("cover",(!r||a)&&"hide")}),this.renderChallenge(),te.default.createElement("div",{className:this.ss("background")},te.default.createElement("div",{className:this.ss("black-background")})),te.default.createElement("div",{className:this.ss("click-region",o&&"display"),onClick:function(){return e.reportPopup()}}),te.default.createElement("div",{className:this.ss("main","main-content")},te.default.createElement(se.default,null),te.default.createElement(_e.default,null)))}},{key:"render",value:function(){var e=this;return te.default.createElement(re.default,{onScrollEnd:function(){return e.onScrollEnd()}},te.default.createElement(de.DeleteProjectBySelfConfirm,null),te.default.createElement(Ee.default,null),te.default.createElement(Ne.default,null),te.default.createElement(ie.default,null),te.default.createElement(me.default,null),this.renderContent(),te.default.createElement(de.DeleteSubmissionBySelfConfirm,null),te.default.createElement(le.default,null),te.default.createElement(ce.default,null),te.default.createElement(ue.default,null),te.default.createElement(be.default,null),te.default.createElement(pe.default,{theme:"fixed"}),te.default.createElement(fe.default,null))}}]),De.propTypes={project:ee.default.object,currentPath:ee.default.string,currentHost:ee.default.string,currentUserId:ee.default.string,like:ee.default.bool,showCover:ee.default.bool,showShare:ee.default.bool,contentMap:ee.default.object,globalChallenge:ee.default.object,bannerCopy:ee.default.string,challenge:ee.default.object,showChallenge:ee.default.bool,edit:ee.default.bool,comments:ee.default.object,loadMoreStatus:ee.default.string,uploads:ee.default.object,showWebglToolBar:ee.default.bool,uploadId:ee.default.string,pageType:ee.default.string,isAdmin:ee.default.bool,loginUserId:ee.default.string,webgl:ee.default.object,setProjectState:ee.default.func,setMute:ee.default.func,setShowStopRecord:ee.default.func,setRemoveWebgl:ee.default.func,setUploadId:ee.default.func,setUploadingPreview:ee.default.func,setHideRecord:ee.default.func,setTime:ee.default.func,setShowWebglToolBar:ee.default.func,setEnableMobile:ee.default.func,loadMore:ee.default.func,toggleLike:ee.default.func,copyLink:ee.default.func,onLogPlaySuccess:ee.default.func,openSubmitWebglDialog:ee.default.func,openScreenshotDialog:ee.default.func,initWebgl:ee.default.func,sendCDPRequest:ee.default.func,hideCover:ee.default.func,openShare:ee.default.func,closeShare:ee.default.func,reportOpen:ee.default.func,hideChallenge:ee.default.func,uploadAttachment:ee.default.func,retryUploadAttachment:ee.default.func,continueUploadAttachmentMultipart:ee.default.func},n=De))||n)||n)||n;function De(){var e,t,D;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,De);for(var a=arguments.length,n=Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=D=Te(this,(e=De.__proto__||Object.getPrototypeOf(De)).call.apply(e,[this].concat(n)))).state={reportPopup:!1},D.handleKeyPress=function(e){var t=e.keyCode,a=Le();18===t&&document.getElementById("webgl_iframe").contentWindow.postMessage({action:"screenshot"},a)},D.receiveMessage=function(e){var t,a,n,o,r,s,i,l,c,u=D.props,d=u.onLogPlaySuccess,p=u.openScreenshotDialog,f=u.sendCDPRequest,h=u.uploadAttachment,m=u.project.projectData,_=m.id,g=m.title,v=u.openShare,b=u.reportOpen,y=u.toggleLike,w=u.hideCover,j=u.setShowWebglToolBar,E=u.setEnableMobile,k=u.setTime,C=u.setHideRecord,S=u.setUploadingPreview,O=u.setShowStopRecord,N=u.setMute,P=u.setRemoveWebgl,T=u.setUploadId,x=u.setProjectState,M=Le(),I=e.origin,R=e.data;I===M&&R&&("increasePlayCount"===R.action?(j({value:!0}),d()):"screenshot"===R.action?R.dataUrl&&(p({value:R.dataUrl,projectId:""}),t="Button",R.byHotkey&&(t="Alt/Option"),f({type:we.CDPConnectTypes.CDPTypeWebglScreenshots,eventType:je.EventType.connect,data:{type:t,projectId:_}})):"share"===R.action?R.device&&navigator.share?navigator.share({text:D.__("share_body",{title:g}),url:window.location.href}):v():"report"===R.action?b({itemId:_,itemType:"project",reportTitle:"webgl"}):"like"===R.action?y():"webglmount"===R.action?(w(),E({value:R.enableMobile})):"reportClick"===R.action?D.setState({reportPopup:!0}):"uploadPreview"===R.action?(a=Date.now()+"_"+Math.random().toString().slice(2,6),n=document.getElementById("webgl_iframe").contentWindow,o=D.dataURLtoBlob(R.dataUrl),r={id:a,file:new File([o],"previewVideo.webm",{type:"video/webm"}),uploadType:"preview"},n.postMessage({action:"start upload"},M),T({value:a}),window.onbeforeunload=function(){return"You are uploading the preview record"},h({upload:r}),D.trackUploading()):"reset"===R.action?(P({value:!0}),j({value:!1}),k({value:Me}),O({value:!1}),setTimeout(function(){P({value:!1})},300)):"timer"===R.action?k({value:R.time}):"uploadingPreview"===R.action?S({value:R.value}):"hideRecord"===R.action?C({value:R.value}):"showStopRecord"===R.action?O({value:R.value}):"mute"===R.action?N({value:R.value}):"retry"===R.action?(i=(s=D.props).uploads,l=s.retryUploadAttachment,c=i[s.uploadId],window.onbeforeunload=function(){return"You are uploading the preview record"},l(c),D.trackUploading()):"processing"===R.action?x({key:"processing",value:R.value}):"showPauseBackGround"===R.action?Ie&&x({key:"pauseBackGround",value:!0}):"pauseState"===R.action?x({key:"pauseState",value:R.value}):"fileSelect"===R.action&&document.getElementById("thumbnailSelect").click())},Te(D,t)}function Le(){return(ye.default.WEBGL_PLAYER_BASE_URL||"").replace("/webgl","")}t.default=Re},function(e,t,a){e.exports=a.p+"../styles/i/emojis/unhappy.f70dd13b4dd80f680a97165ecfbda5f3.png"},function(e,t,a){e.exports=a.p+"../styles/i/emojis/nerd.97ed24c71e81974914bf411d5c3cf19a.png"},function(e,t,a){e.exports=a.p+"../styles/i/emojis/laugh.c3de3ed8d90cc9eaebd74b5f77c7be28.png"},function(e,t,a){e.exports=a.p+"../styles/i/emojis/love.f2fbc1e2fec18d4702245796cc59f7e0.png"},function(e,t,a){e.exports=a.p+"../styles/i/emojis/grinning.cfdeb202b2c134dc529610792a54b365.png"},,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,r,s=function(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),e};function i(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=b(["loginUser"],["loginUser"]),c=b(["notification.unseenCount"],["notification.unseenCount"]),u=b(["messages.channels"],["messages.channels"]),d=b(["messages.readState"],["messages.readState"]),p=b(["messages.connected"],["messages.connected"]),f=b(["notification.connected"],["notification.connected"]),h=v(a(2)),m=v(a(3)),_=a(5),g=a(0);function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var y=(0,_.decorator)({loginUser:(0,g.state)(l),unseenCount:(0,g.state)(c),channels:(0,g.state)(u),readState:(0,g.state)(d),messagesConnected:(0,g.state)(p),notificationConnected:(0,g.state)(f)})((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(w,m.default),s(w,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t,a=this.props,n=a.loginUser,o=a.unseenCount,r=void 0===o?0:o,s=a.channels,i=a.readState,l=a.messagesConnected,c=a.notificationConnected;n&&l&&c&&(e=Object.values(s).reduce(function(e,t){var a=t.id;return e+i[a].mentionCount},0),this.sendMentionCount(e),t=r+e,this.setBadge(t))}},{key:"componentWillUnmount",value:function(){void 0!==this.number&&this.setBadge(0)}},{key:"setBadge",value:function(e){var t;e!==this.number&&(this.number=e,t=this.context.publicPath,(0,a(499).default)(0<e?t+"images/favicons/favicon-dot.png?v=1":t+"images/favicons/favicon.png?v=1"))}},{key:"sendMentionCount",value:function(e){e!==this.mentionCount&&(this.mentionCount=e,window.sendSignalToHost&&window.sendSignalToHost("badge_setCount",{badgeCount:Math.min(e,99)}))}},{key:"render",value:function(){return null}}]),r=o=w,o.contextTypes={publicPath:h.default.string},o.propTypes={loginUser:h.default.object,unseenCount:h.default.number,channels:h.default.object,readState:h.default.object,messagesConnected:h.default.bool,notificationConnected:h.default.bool},n=r))||n;function w(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}t.default=y},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,r=function(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e};function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=L(["footer.langStatus"],["footer.langStatus"]),l=L(["footer.regionStatus"],["footer.regionStatus"]),c=L(["footer.height"],["footer.height"]),u=L(["region"],["region"]),d=L(["locale"],["locale"]),p=L(["footer.languageChange"],["footer.languageChange"]),f=L(["footer.regionChange"],["footer.regionChange"]),h=L(["footer.switchLangStatus"],["footer.switchLangStatus"]),m=L(["footer.switchRegionStatus"],["footer.switchRegionStatus"]),_=L(["footer.setHeight"],["footer.setHeight"]),g=R(a(2)),v=R(a(1)),b=R(a(12)),y=R(a(15)),w=a(5),j=a(0),E=R(a(3)),k=a(18),C=a(26),S=R(a(349)),O=(R(a(43)),R(a(4))),N=R(a(352)),P=a(6),T=R(P),x=R(a(353)),M=R(a(107)),I=a(11);function R(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function L(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var A=(0,w.decorator)({langStatus:(0,j.state)(i),regionStatus:(0,j.state)(l),height:(0,j.state)(c),region:(0,j.state)(u),locale:(0,j.state)(d),languageChange:(0,j.signal)(p),regionChange:(0,j.signal)(f),switchLangStatus:(0,j.signal)(h),switchRegionStatus:(0,j.signal)(m),setHeight:(0,j.signal)(_)})(n=(0,O.default)(N.default)(n=(0,T.default)(x.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(U,E.default),r(U,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.onSetHeight()},0),this.removeClickOutsideLang=(0,k.addClickOutside)([this.refs.language],function(){e.onSwitchStatus(!1,0)}),this.removeClickOutsideRegion=(0,k.addClickOutside)([this.refs.region],function(){e.onSwitchStatus(!1,1)})}},{key:"componentWillUnmount",value:function(){this.removeClickOutsideLang(),this.removeClickOutsideRegion()}},{key:"onSwitchStatus",value:function(e,t){var a=this.props,n=a.langStatus,o=a.regionStatus,r=a.type;"sticky"===r&&(0,C.isTouch)()||"non-sticky"===r&&!(0,C.isTouch)()||(e?(0===t&&this.props.switchLangStatus({open:!n}),1===t&&this.props.switchRegionStatus({open:!o})):(0===t&&n&&this.props.switchLangStatus({open:!1}),1===t&&o&&this.props.switchRegionStatus({open:!1})))}},{key:"onSetHeight",value:function(){var e,t=b.default.findDOMNode(this.refs.footer);t&&(e=this.props.height,t.offsetHeight!==e&&this.props.setHeight({height:t.offsetHeight}))}},{key:"renderPrivacyOptionsIcon",value:function(){return v.default.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"30",height:"14",viewBox:"0 0 30 14",style:{paddingRight:"4px",marginTop:"3px;"}},v.default.createElement("g",null,v.default.createElement("g",{id:"final---dec.11-2020_1_"},v.default.createElement("g",{id:"_x30_208-our-toggle_2_",transform:"translate(-1275.000000, -200.000000)"},v.default.createElement("g",{id:"Final-Copy-2_2_",transform:"translate(1275.000000, 200.000000)"},v.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#FFFFFF",d:"M7.4,12.8h6.8l3.1-11.6H7.4C4.2,1.2,1.6,3.8,1.6,7S4.2,12.8,7.4,12.8z"})))),v.default.createElement("g",{id:"final---dec.11-2020"},v.default.createElement("g",{id:"_x30_208-our-toggle",transform:"translate(-1275.000000, -200.000000)"},v.default.createElement("g",{id:"Final-Copy-2",transform:"translate(1275.000000, 200.000000)"},v.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#0066FF",d:"M22.6,0H7.4c-3.9,0-7,3.1-7,7s3.1,7,7,7h15.2c3.9,0,7-3.1,7-7S26.4,0,22.6,0z M1.6,7c0-3.2,2.6-5.8,5.8-5.8 h9.9l-3.1,11.6H7.4C4.2,12.8,1.6,10.2,1.6,7z"}),v.default.createElement("path",{id:"x",fill:"#FFFFFF",d:"M24.6,4c0.2,0.2,0.2,0.6,0,0.8l0,0L22.5,7l2.2,2.2c0.2,0.2,0.2,0.6,0,0.8c-0.2,0.2-0.6,0.2-0.8,0 l0,0l-2.2-2.2L19.5,10c-0.2,0.2-0.6,0.2-0.8,0c-0.2-0.2-0.2-0.6,0-0.8l0,0L20.8,7l-2.2-2.2c-0.2-0.2-0.2-0.6,0-0.8 c0.2-0.2,0.6-0.2,0.8,0l0,0l2.2,2.2L23.8,4C24,3.8,24.4,3.8,24.6,4z"}),v.default.createElement("path",{id:"y",fill:"#0066FF",d:"M12.7,4.1c0.2,0.2,0.3,0.6,0.1,0.8l0,0L8.6,9.8C8.5,9.9,8.4,10,8.3,10c-0.2,0.1-0.5,0.1-0.7-0.1l0,0 L5.4,7.7c-0.2-0.2-0.2-0.6,0-0.8c0.2-0.2,0.6-0.2,0.8,0l0,0L8,8.6l3.8-4.5C12,3.9,12.4,3.9,12.7,4.1z"}))))))}},{key:"render",value:function(){var a=this,e=this.props,t=(e.region,e.theme),n=(e.isLiveHelp,[]);["https://unity3d.com/legal/","https://unity3d.com/legal/privacy-policy","https://unity3d.com/legal/cookie-policy#cookies","https://unity3d.com/legal/terms-of-service","https://unity.com/legal/do-not-sell-my-personal-information"].forEach(function(e,t){n.push(v.default.createElement("div",{key:"link"+t,className:a.ss("link")},v.default.createElement("a",{href:e,target:"_blank",rel:"noreferrer"},a.__("link_text_"+t))))}),v.default.createElement("div",{className:this.ss("shares")},v.default.createElement("div",{className:this.ss("share","ifont","ifont-icons-twitter")}),v.default.createElement("div",{className:this.ss("share","ifont","ifont-icons-facebook")}),v.default.createElement("div",{className:this.ss("share","ifont","ifont-icons-github")}),v.default.createElement("div",{className:this.ss("share","ifont","ifont-icons-linkedin")})),y.default.MIN_LOCALES.map(function(e){return{text:(0,I.getLangText)(e),value:e}}),y.default.REGIONS.map(function(e){return{text:(0,P.i18n)(a.context,M.default,e.i18n_key),value:e.refId}}),this.context.locale;var o="play-support@unity3d.com";return v.default.createElement("div",{ref:"footer",className:this.ss("footer",t)},v.default.createElement("div",{className:this.ss("context")},v.default.createElement("div",{className:this.ss("copyright")},this.__("copyright",{year:(new Date).getFullYear()})),v.default.createElement("div",{className:this.ss("links")},v.default.createElement("div",{key:"link_onetrust_settings",className:this.ss("link","link_onetrust_settings")},this.renderPrivacyOptionsIcon(),v.default.createElement("a",{id:"ot-sdk-btn",className:"ot-sdk-show-settings"},this.__("onetrust_settings"))),n,v.default.createElement("div",{key:"link_dsa_report",className:this.ss("link","link-dsa-report")},v.default.createElement("a",{href:"https://unity-transparency.atlassian.net/servicedesk/customer/portal/1/group/1/create/4?referer=play.unity.com"},this.__("dsa_report"))),v.default.createElement("div",{key:"link_contact_us",className:this.ss("link","link-contact-us")},v.default.createElement("a",{href:"mailto:"+o+"?subject="+this.__("mail_subject")},this.__("contact_us")))),v.default.createElement("a",{className:this.ss("dsa-report"),href:"https://unity-transparency.atlassian.net/servicedesk/customer/portal/1/group/1/create/4?referer=play.unity.com"},this.__("dsa_report")),v.default.createElement("a",{className:this.ss("contact-us"),href:"mailto:"+o+"?subject="+this.__("mail_subject")},this.__("contact_us")),!1),v.default.createElement(S.default,null))}}]),(o=U).propTypes={theme:g.default.string,langStatus:g.default.bool,regionStatus:g.default.bool,height:g.default.number,region:g.default.string,locale:g.default.string,type:g.default.oneOf(["sticky","non-sticky"]),isLiveHelp:g.default.bool,languageChange:g.default.func,regionChange:g.default.func,switchLangStatus:g.default.func,switchRegionStatus:g.default.func,setHeight:g.default.func},n=o))||n)||n)||n;function U(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,U);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=D(this,(e=U.__proto__||Object.getPrototypeOf(U)).call.apply(e,[this].concat(o)))).onChangeLang=function(e){e!==a.props.locale&&a.props.languageChange({locale:e})},a.onChangeRegion=function(e){e!==a.props.region&&a.props.regionChange({regionRefId:e})},a.renderIcon=function(){return v.default.createElement("div",{className:a.ss("icon-arrow-down","ifont","ifont-material-baseline-keyboard_arrow_up")})},D(a,t)}t.default=A},,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=Object.freeze(Object.defineProperties(["header.setting.windowWidth"],{raw:{value:Object.freeze(["header.setting.windowWidth"])}})),i=h(a(2)),m=h(a(1)),l=h(a(3)),c=a(5),u=a(0),d=a(24),_=h(a(14)),g=h(a(212)),v=a(11),p=h(a(4)),f=h(a(355));function h(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=d.presets.stiff,w=["video/x-m4v","video/webm","video/x-ms-wmv","video/x-msvideo","video/3gpp","video/ogg","video/flv","video/x-flv","video/mp4","video/quicktime","video/mpeg","video/ogv"],j=(0,c.decorator)({windowWidth:(0,u.state)(s)})(n=(0,p.default)(f.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(E,l.default),o(E,[{key:"componentDidMount",value:function(){var t=this;this._handKeyDown=function(e){return t.onKeyDown(e)},window.addEventListener("keydown",this._handKeyDown,!0)}},{key:"componentWillReceiveProps",value:function(e){((e||{}).mediaData||{}).activeId&&this.setState({loading:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._handKeyDown,!0)}},{key:"onKeyDown",value:function(e){var t=e.keyCode;if((this.props.mediaData||{}).activeId)switch(t){case 37:case 38:this.onPrevious(e);break;case 39:case 40:this.onNext(e);break;case 27:this.onClose(e)}}},{key:"getMaxWidth",value:function(){var e=this.props.windowWidth;return e?Math.min(e,1e3):1e3}},{key:"renderMedia",value:function(e,t){var a,n,o,r,s,i=void 0,l=!1,c=!1,u=e.type,d=e.originalImage,p=e.image,f=e.contentType,h=e.downloadUrl;return i="img"===u?(n=(a=d||p||{}).url,o=a.gif,s=a.height,l=(r=a.width)<this.getMaxWidth(),m.default.createElement("div",{className:this.ss("image"),style:l?{width:r,height:s}:{}},m.default.createElement(_.default,{src:n,sizes:"1000px",gif:!!o,width:r,height:s,maxWidth:l?r:0}))):(c=-1!==w.indexOf(f))&&m.default.createElement("div",{className:this.ss("image","video"),onClick:function(e){return(0,v.pauseEvent)(e)}},m.default.createElement(g.default,{src:h,size:"auto",width:608,height:342,directPlay:!0,progress:!0})),m.default.createElement("div",{className:this.ss("image-inner",(l||c)&&"center"),style:t},i)}},{key:"render",value:function(){var o=this,e=this.props,r=e.className,t=e.mediaData||{},a=t.activeId;if(!a)return null;var s=t.contentMap[a]||{},n=a?{modalScale:(0,d.spring)(1,y),modalOpacity:(0,d.spring)(1,y)}:{modalScale:(0,d.spring)(.75,y),modalOpacity:(0,d.spring)(0,y)};return m.default.createElement(d.Motion,{defaultStyle:{modalScale:.75,modalOpacity:0},style:n},function(e){var t=e.modalScale,a=e.modalOpacity;if(a<.1)return null;var n={transform:"scale3d("+t+", "+t+", 1)",opacity:a};return m.default.createElement("div",{className:o.ss("image-popup-wrap")},m.default.createElement("div",{className:o.ss("image-popup-bg")}),m.default.createElement("div",{className:o.ss(r,"image-wrap"),onClick:o.onClose},o.renderMedia(s,n)))})}}]),E.propTypes={windowWidth:i.default.number,className:i.default.string,mediaData:i.default.object,mediaSignals:i.default.object,skipLoading:i.default.bool},n=E))||n)||n;function E(){var e,t,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E);for(var a=arguments.length,n=Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=o=b(this,(e=E.__proto__||Object.getPrototypeOf(E)).call.apply(e,[this].concat(n)))).state={loading:!0},o.onPrevious=function(e){e&&(0,v.pauseEvent)(e);var t=o.props,a=t.mediaData,n=t.mediaSignals;(a||{}).activeId&&n.moveToContent&&n.moveToContent({step:-1})},o.onNext=function(e){e&&(0,v.pauseEvent)(e);var t=o.props,a=t.mediaData,n=t.mediaSignals;(a||{}).activeId&&n.moveToContent&&n.moveToContent({step:1})},o.onClose=function(e){e&&(0,v.pauseEvent)(e);var t=o.props,a=t.mediaData,n=t.mediaSignals;(a||{}).activeId&&n.closeContent&&n.closeContent()},b(o,t)}t.default=j},,,,,,,function(e,t){e.exports=window.numbro},,,,,,,,,,,,,,,,,,,,,,function(e,p,f){"use strict";(function(e){Object.defineProperty(p,"__esModule",{value:!0});var t,a=d(["project.projectData.headerImage"],["project.projectData.headerImage"]),n=d(["content"],["content"]),o=d(["project.projectData.thumbnail"],["project.projectData.thumbnail"]),r=d(["project.deleteChallengeConfirmOpen"],["project.deleteChallengeConfirmOpen"]),s=d(["project.deleteChallengeConfirmUpdateStatus"],["project.deleteChallengeConfirmUpdateStatus"]),i=f(9),l=f(0),c=f(7),u=(t=c)&&t.__esModule?t:{default:t};function d(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}p.default={name:e,depends:[],signals:{toggleSettings:[function(e){var t=e.state,a=t.get("project.openSettings");t.set("project.openSettings",!a)}],closeSettings:[function(e){e.state.set("project.openSettings",!1)}],toggleMenu:[function(e){var t=e.props,a=e.state,n=t.key,o=a.get("project.openMenu."+n);a.set("project.openMenu."+n,!o)}],closeMenu:[function(e){var t=e.props,a=e.state,n=t.key;a.set("project.openMenu."+n,!1)}],openHoverMenu:[function(e){var t=e.props,a=e.state,n=t.top,o=t.left,r=t.width;a.merge("project.hoverMenu",{open:!0,top:n,left:o,width:r})}],closeHoverMenu:[function(e){e.state.set("project.hoverMenu",{open:!1,top:0,left:0,width:0})}],changeHeaderImage:[(0,i.set)((0,l.state)(a),(0,l.props)(n))],changeThumbnail:[(0,i.set)((0,l.state)(o),(0,l.props)(n))],openDeleteChallengeConfirm:[(0,i.set)((0,l.state)(r),!0)],closeDeleteChallengeConfirm:[(0,i.set)((0,l.state)(r),!1)],deleteFromChallenge:[(0,i.set)((0,l.state)(s),u.default.inProgress),function(e){var t=e.props,a=e.http,n=e.path,o=t.projectId,r=t.challengeId;return a.post("/api/p/"+o+"/deleteFromChallenge",{challengeId:r}).then(n.success).catch(n.error)},{success:[(0,i.set)((0,l.state)(s),u.default.succeeded),function(e){var t=e.state.get("project.projectData").challengeId;t&&""!==t&&(window.location.href="/showcases/"+t+"?tab=submissions&subTab=latest")}],error:[(0,i.set)((0,l.state)(s),u.default.failed),function(e){var t=e.props,a=e.controller,n=(t.result||{}).errorCode;"AdminApprovalNeeded"===n?a.getSignal("header.openNeedReviewDialog")():ReCaptchaStore.recaptchaError(n,a)||onError("project")({props:t,controller:a})}]}]},getServices:function(){},getState:function(){return{deleteChallengeConfirmOpen:!1,deleteChallengeConfirmUpdateStatus:"",openSettings:!0,openMenu:{},hoverMenu:{open:!1,top:0,left:0,width:0}}}}}).call(p,"views/v2/modules/projectV2/CreateStore.js")},,,,function(e,y,w){"use strict";(function(e){Object.defineProperty(y,"__esModule",{value:!0});var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},t=u(["project.prePost.show"],["project.prePost.show"]),a=u(["project.prePost.updateStatus"],["project.prePost.updateStatus"]),n=w(9),o=w(0),_=w(21),r=c(w(7)),g=c(w(124)),s=c(w(19)),i=w(11),l=c(w(25)),d=c(w(77));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function p(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var f=["project","prePost"],v=(0,l.default)({title:null,body:null,contentImage:null,description:null,headerImage:null,subTitle:null});function h(a){return[function(e){var t=e.props;return{field:[].concat(f,["form",a]),value:t.value,touched:!0}}].concat(p(_.chains.fieldChanged))}function b(e){var t=e.state,a=t.get("project.prePost.show");t.set("project.prePost.show",!a)}y.default={name:e,depends:[],signals:{togglePrePost:[b],togglePrePostInternal:[b],closePrePost:[(0,n.set)((0,o.state)(t),!1)],changeProjectStatus:h("status"),changeProjectGenresField:h("genres"),changeProjectPublishToTeamField:h("publishToTeam"),changeProjectTeam:h("teamId"),changeProjectGenres:[function(e){var t,a,n=e.state,o=e.props,r=e.controller,s=o.isAdd,i=o.value,l=n.get([].concat(f,["form","genres","value"])),c=l.findIndex(function(e){return e===i});s&&c<0&&(2<=l.length?r.getSignal("header.showMessage")({message:"genres_select_limit"}):(t=[].concat(p(l),[i]),r.getSignal("project.changeProjectGenresField")({value:t}))),!s&&0<=c&&((a=[].concat(p(l))).splice(c,1),r.getSignal("project.changeProjectGenresField")({value:a}))}],changeProjectMWU:h("mwu"),changeChallengeTerms:h("challengeTerms"),changeProjectPublishToTeam:[function(e){var t=e.props,a=e.controller,n=t.value;a.getSignal("project.changeProjectPublishToTeamField")({value:n}),n?a.getSignal("project.changeTeamIdFieldMetaAndInit")({required:!0}):a.getSignal("project.changeTeamIdFieldMetaAndInit")({required:!1})}],changeTeamIdFieldMetaAndInit:[function(e){var t=e.state,a=e.props.required,n=[].concat(f,["form","teamId"]),o=t.get("project"),r=o.projectData,s=o.teamId,i=r&&r.teamId||s;return a?{fieldPath:[].concat(p(n)),fieldDetails:{value:i,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0,isTouched:!0}}:{fieldPath:[].concat(p(n)),fieldDetails:{value:i}}},_.chains.addField],onPublish:[function(e){var t=e.state,a=e.path,n=e.controller,o=t.get("project.projectData"),r=o.type,s=o.headerImage,i=(0,g.default)(t),l=i.title,c=i.subTitle,u=i.body,d=i.bodyIsEmpty,p=i.headerImageId,f=i.description,h=i.contentIds,m=[];return l||m.push(v.title),u&&!d||m.push(v.body),"game"===r?(f||m.push(v.description),p||s||m.push(v.headerImage),0===h.length&&m.push(v.contentImage)):"article"===r?(c||m.push(v.subTitle),p||s||m.push(v.headerImage)):"showcase"===r?0===h.length&&m.push(v.contentImage):"webgl"===r&&(f||m.push(v.description),0===h.length&&m.push(v.contentImage)),0<m.length?(n.getSignal("header.showMessage")({message:m}),a.no()):a.yes()},{yes:[].concat(p(_.chains.formValidated),[(0,n.set)((0,o.state)(a),r.default.inProgress),[function(e){var t=e.state,a=e.http,n=e.path,o=t.get([].concat(f,["form"])),r=t.get("project.canPublish"),s=t.get("project.enableMobile");if(!r)return n.error({result:{errorCode:"OwnerOnlyPublish"}});if((0,_.isValidForm)(o)){var i=t.get("project.projectData").id,l=(0,g.default)(t),c=m({},l,{status:o.status.value,genres:o.genres.value,teamId:o.teamId.value,mwu:o.mwu.value,enableMobile:s}),u=d.default.getRequestHeaderOption(t);return a.put("/api/p/"+i+"/publish",c,u).then(n.success).catch(n.error)}return n.error()},{success:[(0,n.set)((0,o.state)(a),r.default.succeeded),function(e){var t=e.state,a=e.project,n=t.get("project"),o=n.projectData,r=o.id,s=o.type,i=n.challengeId,l=!i||""===i||s&&"webgl"===s?"/p/"+r:"/showcases/"+i+"?tab=submissions&subTab=latest";a.locationHref(l)}],error:[(0,n.set)((0,o.state)(a),r.default.failed),function(e){var t=e.props,a=e.state,n=e.controller,o=(t.result||{}).errorCode;"AdminApprovalNeeded"===o?(a.set("project.prePost.disablePostButton",!0),n.getSignal("header.openNeedReviewDialog")()):d.default.recaptchaError(o,n)||(0,i.onError)("project")({props:t,controller:n})}]}]]),no:[]}],onTeamCreateSuccess:[function(e){var t=e.state,a=e.props,n=e.controller,o=(a||{}).team,r=t.get("project.teams");o&&(r?t.unshift("project.teams",o):t.set("project.teams",[o])),n.getSignal("team.closeBasicForm")()}]},getServices:function(){return{locationHref:s.default}},getState:function(e){var t,a,n=e.project,o=n.projectData,r=n.teamId,s=n.isMWU,i=n.challengeId,l=n.submission,c=e.canPublish,u=void 0!==c&&c,d=(t=s,"game"===(a=o||{}).type?{status:{value:a.status,validations:["isValue"],errorMessages:["error_isRequired"]},genres:{value:a.genreIds||[],validations:["isValue"],errorMessages:["error_isRequired"]},mwu:{value:t}}:{status:{value:""},genres:{value:[]},mwu:{value:t}}),p=o&&o.teamId||r,f=o&&o.challengeId||i,h=l&&l.agreeTerms||!1;return{prePost:{show:!1,canPublish:u,updateStatus:"",disablePostButton:!1,disableChangeOwnerButton:!!p,form:(0,_.Form)(m({},d,{publishToTeam:{value:!!p},teamId:{value:p},challengeId:{value:f},challengeTerms:{value:h}}))}}}}}).call(y,"views/v2/modules/projectV2/PrePostStore.js")},,,function(e,u,d){"use strict";(function(e){Object.defineProperty(u,"__esModule",{value:!0});var t=Object.freeze(Object.defineProperties(["project.autoSave.updateStatus"],{raw:{value:Object.freeze(["project.autoSave.updateStatus"])}})),a=d(9),n=d(0),i=d(7),o=s(i),l=s(d(124)),r=d(11);function s(e){return e&&e.__esModule?e:{default:e}}var c=["project","autoSave"];u.default={name:e,depends:[],signals:{draftChanged:[function(e){e.state.merge(c,{changedAt:Date.now()})},(0,a.debounce)(2e3),{continue:[function(e){var t=e.state,a=e.path,n=t.get(c),o=n.changedAt,r=n.savedAt,s=t.get("project.prePost.updateStatus");return!(0,i.isLoadingOrSucceeded)(s)&&r<o?a.yes():a.no()},{yes:[(0,a.set)((0,n.state)(t),o.default.inProgress),function(e){var t=e.state,a=e.http,n=e.path,o=t.get("project.projectData").id,r=(0,l.default)(t),s=Date.now();return a.put("/api/p/"+o,r).then(function(e){return t.get(c).savedAt<s&&t.merge(c,{savedAt:s}),n.success(e)}).catch(n.error)},{success:[(0,a.set)((0,n.state)(t),o.default.succeeded)],error:[(0,r.onError)("project"),(0,a.set)((0,n.state)(t),o.default.failed)]}],no:[]}],discard:[]}]},getState:function(){return{autoSave:{changedAt:0,savedAt:0,updateStatus:""}}}}}).call(u,"views/v2/modules/projectV2/AutoSaveStore.js")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=a(244);var r=[((n=o)&&n.__esModule?n:{default:n}).default];t.default={profile:r}},function(e,d,p){"use strict";(function(e){Object.defineProperty(d,"__esModule",{value:!0});var t,a=u(["profile.tagsDialog.show"],["profile.tagsDialog.show"]),n=u(["profile.tagsDialog.error"],["profile.tagsDialog.error"]),o=u(["profile.tagsDialog.updateStatus"],["profile.tagsDialog.updateStatus"]),r=p(9),s=p(0),i=p(7),l=(t=i)&&t.__esModule?t:{default:t},c=p(11);function u(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}d.default={name:e,depends:[],signals:{openTagsDialog:[function(e){var t=e.state,a=e.props.tags||[];t.merge("profile.tagsDialog",{show:!0,error:"",tags:[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(a))})}],closeTagsDialog:[(0,r.set)((0,s.state)(a),!1)],addTag:[function(e){var t=e.props,a=e.path,n=t.name;return n&&100<n.length?a.no():a.yes()},{yes:[(0,r.set)((0,s.state)(n),""),function(e){var t=e.props,a=e.state,n=e.controller,o=t.value,r=o.id,s=o.name,i=t.maxCount,l=a.get("profile.tagsDialog.tags");l.findIndex(function(e){return e.id===r})<0&&(0<i&&l.length>=i?n.getSignal("header.showMessage")({message:"project_tags_limit"}):a.unshift("profile.tagsDialog.tags",{id:r,name:s}))}],no:[(0,r.set)((0,s.state)(n),"error_max_length_100")]}],selectTag:[function(e){var t=e.props,a=e.state,n=t.id;a.set("profile.tagsDialog.selectedId",n)}],deleteTag:[function(e){var t=e.props,a=e.state,n=t.id,o=a.get("profile.tagsDialog.tags").findIndex(function(e){return e.id===n});0<=o&&a.splice("profile.tagsDialog.tags",o,1)}],submitSkill:[(0,r.set)((0,s.state)(o),l.default.inProgress),function(e){var t=e.props,a=e.state,n=e.http,o=e.path,r=t.id,s=t.type,i=a.get("profile.tagsDialog.tags").map(function(e){return e.id});return"user"===s?n.post("/api/updateUserSkills",{skillIds:i}).then(o.success).catch(o.error):"project"===s?n.post("/api/p/"+r+"/tags",{id:r,skillIds:i}).then(o.success).catch(o.error):"group"===s?n.post("/api/group/"+r+"/updateTags",{tags:i}).then(o.success).catch(o.error):n.post("/api/t/"+r+"/updateTags",{skillIds:i}).then(o.success).catch(o.error)},{success:[(0,r.set)((0,s.state)(o),l.default.succeeded),(0,r.set)((0,s.state)(a),!1),function(e){var t,a,n,o,r,s,i,l,c,u,d=e.state,p=e.props,f=p.result,h=p.type;"user"===h?(t=f.skillIds,a=f.skillMap,n=f.profilePercent,o=f.nextStep,d.set("profile.user.skillIds",t),d.merge("profile.skillMap",a),d.set("profile.profilePercent",n),d.set("profile.nextStep",o)):"project"===h?(r=f.skillIds,s=f.skillMap,d.set("project.projectData.skillIds",r),d.merge("project.skillMap",s)):"group"===h?(i=f.skillMap,l=f.group,d.set("group.group",l),d.merge("group.skillMap",i||{})):(c=f.skills,d.set("teamData.skillIds",c.map(function(e){return e.id})),u={},c.forEach(function(e){u[e.id]=e}),d.merge("skillMap",u))}],error:[(0,r.set)((0,s.state)(o),l.default.failed),(0,c.onError)("profile")]}]},getState:function(){return{tagsDialog:{show:!1,updateStatus:l.default.initial,tags:[],selectedId:"",error:""}}}}}).call(d,"views/v2/modules/profile/TagsStore.js")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=a(246);var r=[((n=o)&&n.__esModule?n:{default:n}).default];t.default={socialLinksDialog:r}},function(e,g,v){"use strict";(function(e){Object.defineProperty(g,"__esModule",{value:!0});var t,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},a=p(["socialLinksDialog.show"],["socialLinksDialog.show"]),n=p(["socialLinksDialog.updateStatus"],["socialLinksDialog.updateStatus"]),o=p(["socialLinksDialog.removeStatus"],["socialLinksDialog.removeStatus"]),r=v(9),s=v(0),c=v(21),i=v(7),l=(t=i)&&t.__esModule?t:{default:t};function d(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function p(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h=["socialLinksDialog","form"],m=["google","twitter","facebook","linkedin","instagram","github","personal","flickr","indiedb","pinterest","reddit","steam","tumblr","twitch","vimeo","vk","weibo","qq","youtube","medium","behance","artstation","sketchfab","dribbble"];function _(a){return m.reduce(function(e,t){return u({},e,f({},t,{value:a[t],validations:["isSocialUrl:"+t],errorMessages:["error_link"]}))},{})}g.default={name:e,depends:[],signals:{openSocialLinksDialog:[function(e){var t=e.state,a=e.props.links||{},n=(0,c.Form)(_(a));t.set(h,n)},(0,r.set)((0,s.state)(a),!0)],closeSocialLinksDialog:[(0,r.set)((0,s.state)(a),!1)],changeSocialLink:[function(e){var t=e.props;return{field:[].concat(h,[t.fieldName]),value:t.value,touched:!0}}].concat(d(c.chains.fieldChanged)),updateSocialLinks:[].concat(d(c.chains.formValidated),[(0,r.set)((0,s.state)(n),l.default.inProgress),function(e){var t=e.props,a=e.state,n=e.http,o=e.path,r=a.get(h);if((0,c.isValidForm)(r)){var s=m.reduce(function(e,t){return u({},e,f({},t,r[t].value))},{}),i=t.teamId,l=t.projectId;return i?n.post("/api/t/"+i+"/updateSocialLinks",s).then(o.success).catch(o.error):l?n.post("/api/p/"+l+"/updateSocialLinks",s).then(o.success).catch(o.error):n.post("/api/updateUserSocialLinks",s).then(o.success).catch(o.error)}return o.error()},{success:[(0,r.set)((0,s.state)(n),l.default.succeeded),(0,r.set)((0,s.state)(a),!1),function(e){var t=e.props,a=e.state,n=t.result,o=t.teamId,r=t.projectId;o?a.set("teamData.referenceUrls",n):r?a.set("project.projectData.socialUrl",n):a.set("profile.user.referenceUrls",n)}],error:[(0,r.set)((0,s.state)(n),l.default.failed)]}]),removeProjectSocialLinks:[(0,r.set)((0,s.state)(o),l.default.succeeded),function(e){var t=e.state,a=e.props,n=e.http,o=e.path,r=a.site,s=t.get("project.projectData"),i=s.id,l=s.socialUrl,c=(void 0===l?[]:l).reduce(function(e,t){return u({},e,f({},t.site,t.url))},{});return c[r]="",n.post("/api/p/"+i+"/updateSocialLinks",c).then(o.success).catch(o.error)},{success:[(0,r.set)((0,s.state)(o),l.default.succeeded),function(e){var t=e.state,a=e.props;t.set("project.projectData.socialUrl",a.result)}],error:[(0,r.set)((0,s.state)(o),l.default.failed)]}]},getState:function(){return{show:!1,updateStatus:l.default.initial,form:(0,c.Form)(_({}))}}}}).call(g,"views/v2/modules/socialLinks/SocialLinksStore.js")},function(e,_,g){"use strict";(function(e){Object.defineProperty(_,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},t=f(["project.likeStatus"],["project.likeStatus"]),a=f(["project.loadMoreStatus"],["project.loadMoreStatus"]),n=f(["project.publishedStatus"],["project.publishedStatus"]),o=f(["project.updateThumbnailStatus"],["project.updateThumbnailStatus"]),r=g(9),s=g(0),i=g(7),c=p(i),u=p(g(19)),d=p(g(31));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(o){return function(e){var t=e.props,a=e.state,n=t.followeeId;a.set("project.followStatus."+n,o)}}_.default={name:e,depends:[],signals:{toggleReaction:d.default.LoginRequired([function(e){var t=e.state,a=e.props,n=e.path,o=e.http,r=a.messageId,s=a.reactionType,i=t.get("project.comments.items"),l=i.findIndex(function(e){return e.id===r}),c=i[l].reactions,u=t.get("loginUser.id");return c.some(function(e){return e.user.id===u})?o.post("/api/messages/"+r+"/removeReaction",{reactionType:s}).then(n.success).catch(n.error):o.post("/api/messages/"+r+"/addReaction",{reactionType:s}).then(n.success).catch(n.error)},{success:[function(e){var t,a=e.props,n=e.state,o=a.result,r=a.messageId,s=n.get("project.comments.items"),i=s.findIndex(function(e){return e.id===r});-1<i&&((t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(s))).splice(i,1,o),n.set("project.comments.items",t))}],error:[]}]),doRating:d.default.LoginRequired([function(e){var t=e.props,a=e.state,n=e.http,o=e.path,r=a.get(["project"]).projectData.id,s={rating:t.rating,projectId:r};return n.post("/api/submission/rating",s).then(o.success).catch(o.error)},{success:[function(e){var t=e.props,a=e.state,n=t.result.rating;a.set("project.rating",n)}],error:[]}]),updateReplysShow:[function(e){var t=e.props,a=e.state,n=t.id,o=t.show;a.merge("project.replysShow",h({},n,o))}],updateMoreListShow:[function(e){var t=e.props,a=e.state,n=t.id,o=t.show;a.merge("project.moreListShow",h({},n,o))}],updateReplyShow:[function(e){var t=e.props,a=e.state,n=t.id,o=t.show;a.merge("project.replyShow",h({},n,o)),o||a.merge("project.inputValues",h({},n,""))}],changeReply:[function(e){var t=e.props,a=e.state,n=t.id,o=t.parentMessageId;a.set("project.replyId",{id:n,parentMessageId:o})}],toggleLike:d.default.LoginRequired([(0,r.set)((0,s.state)(t),c.default.inProgress),[function(e){var t=e.state,a=e.http,n=e.path,o=t.get(["project"]),r=o.like,s=o.projectData.id;return!0===r?a.post("/api/dislike",{itemId:s}).then(n.success).catch(n.error):a.post("/api/like",{type:"project",itemId:s}).then(n.success).catch(n.error)},{success:[(0,r.set)((0,s.state)(t),c.default.succeeded)],error:[(0,r.set)((0,s.state)(t),c.default.failed)]}],function(e){var t,a,n,o,r=e.props,s=e.state,i=r.result;200===r.status&&i&&!0===i.success&&(a=(t=s.get(["project"])).like,n=t.projectData.likeCount,o=!a,s.set(["project","like"],o),!0==o?s.set(["project","projectData","likeCount"],(n||0)+1):s.set(["project","projectData","likeCount"],Math.max(n-1,0)))}]),toggleFollow:d.default.LoginRequired([m(c.default.inProgress),[function(e){var t=e.props,a=e.state,n=e.http,o=e.path,r=t.followeeId,s=t.type,i=void 0===s?"team":s;return!0===a.get("project").followMap[r]?n.post("/api/unfollow",{followeeId:r}).then(o.success).catch(o.error):n.post("/api/follow",{type:i,followeeId:r}).then(o.success).catch(o.error)},{success:[m(c.default.succeeded)],error:[m(c.default.failed)]}],function(e){var t,a,n,o=e.props,r=e.state,s=o.followeeId,i=o.result;200===o.status&&i&&!0===i.success&&(a=(t=r.get("project").followMap)[s],n=l({},t),!0===a?(delete n[s],r.set(["project","followMap"],n)):r.merge(["project","followMap"],h({},s,!0)))}]),mouseOver:[function(e){var t=e.props,a=e.state,n=t.authorId;a.set("project.mouseOver."+n,!0)}],mouseOut:[function(e){var t=e.props,a=e.state,n=t.authorId;a.set("project.mouseOver."+n,!1)}],download:d.default.LoginRequired(function(e){var t=e.props,a=e.state,n=t.id,o=a.get("project.projectData.id");n&&o&&(0,u.default)("/api/p/"+o+"/attachments/"+n)}),getProjects:[function(e){var t=e.state,a=e.path,n=t.get("project.loadMoreStatus");return(0,i.isLoading)(n)?a.no():a.yes()},{yes:[(0,r.set)((0,s.state)(a),c.default.inProgress),[function(e){var t=e.state,a=e.props,n=e.http,o=e.path,r=t.get("project.projects")||[],s=a.userId,i=a.teamId,l={offset:r.length,userId:s,teamId:i};return n.get("/api/u/getProjects",l).then(o.success).catch(o.error)},{success:[(0,r.set)((0,s.state)(a),c.default.succeeded),function(e){var t=e.props,a=e.state,n=t.result;a.concat("project.projects",n.projects),a.set("project.projectsHasMore",n.projectsHasMore)}],error:[(0,r.set)((0,s.state)(a),c.default.failed)]}]],no:[]}],updateProjectPublicStatus:[function(e){var t=e.props,a=e.state,n=t.projectId,o=t.public,r=(a.get("projects")||[]).findIndex(function(e){return e.id===n});0<=r&&a.set(["projects",r,"public"],o)},(0,r.set)((0,s.state)(n),c.default.inProgress),[function(e){var t=e.props,a=e.http,n=e.path,o=t.projectId,r=t.public;return o?a.put("/api/p/"+o+"/public",{public:r}).then(n.success).catch(n.error):n.dummy()},{success:[(0,r.set)((0,s.state)(n),c.default.succeeded)],error:[(0,r.set)((0,s.state)(n),c.default.failed)],dummy:[]}]],updateThumbnail:[(0,r.set)((0,s.state)(o),c.default.inProgress),[function(e){var t=e.state,a=e.props,n=e.http,o=e.path,r=t.get("project.projectData.id"),s=a.result,i=(JSON.parse(s)||{}).id;return n.post("/api/p/"+r+"/thumbnail",{thumbnailId:i}).then(o.success).catch(o.error)},{success:[(0,r.set)((0,s.state)(o),c.default.succeeded),function(e){var t=e.state,a=e.props,n=a.result,o=a.uploadId;t.set("project.thumbnailURL",n),t.set(["project","uploads",o,"status"],c.default.succeeded)}],error:[(0,r.set)((0,s.state)(o),c.default.failed),function(e){var t=e.state,a=e.props.uploadId;t.set(["project","uploads",a,"status"],c.default.succeeded)}]}]]},getServices:function(){},getState:function(){return{replyShow:{},replysShow:{},moreListShow:{},followStatus:{},mouseOver:{},thumbnailURL:""}}}}).call(_,"views/v2/modules/projectV2/DetailStore.js")},function(e,a,n){"use strict";(function(e){Object.defineProperty(a,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=t(n(23)),p=t(n(158)),f=t(n(159));function t(e){return e&&e.__esModule?e:{default:e}}var u=["project","textAreaAutocomplete"],h=new RegExp("@"),m=/(\t|\s)/;function _(e,t){return e.fullname<t.fullname?-1:e.fullname>t.fullname?1:0}function g(e,t){var a=function(o,r,e){var s=2<arguments.length&&void 0!==e?e:5;r=r&&r.toLowerCase()||"";var i=new RegExp("^"+p.default.escape(r),"i"),l=[],c=[],u=o.get(["project","mentionUsers"]);return(0,d.default)(u).values().takeWhile(function(e){var t=e.id,a=u[t];if(!a||t===o.get("loginUser").id)return!0;var n=a.fullname.toLowerCase();return i.test(n)?l.push({fullname:n,user:a}):(0,f.default)(r,n)&&c.push({fullname:n,user:a}),l.length<s}).value(),l.sort(_),c.sort(_),l.concat(c.slice(0,Math.max(0,s-l.length))).map(function(e){return e.user})}(e,t),n={},o=[];return a.forEach(function(e){e.fullname in n?o.push(e.fullname):n[e.fullname]=!0}),a.map(function(e){var t,a=e;return-1!==o.indexOf(e.fullname)&&((t=r({},e)).isDup=!0,t.fullnameWithTitle=e.fullname.concat("#",e.title),a=t),a})}a.default={name:e,depends:[],signals:{maybeShowAutocomplete:[function(e){for(var t=e.props,r=e.state,s=t.value,a=t.selectionStart,i=t.selectionEnd,l=r.get(u),c=a;0<=c&&!m.test(s[c]);c--)if(h.test(s[c])){var n=function(){var e=s.slice(c,i);if(l&&l.prefix===e)return{v:void 0};var t,a=new RegExp("^"+p.default.escape(e.slice(1)),"i"),n=void 0,o=void 0;switch(e[0]){case"@":n="mention",(o=g(r,e.slice(1))).length<10&&(t="everyone",a.test(t))&&o.push({content:"everyone"})}return n?(r.set(u,{type:n,query:"",prefix:e,results:o,loading:!1,selectedIndex:0,selectionStart:c,selectionEnd:i}),{v:void 0}):void 0}();if("object"===(void 0===n?"undefined":o(n)))return n.v}l&&r.unset(u)}],textAreaAutocompleteUnset:[function(e){var t=e.state;t.get(u)&&t.unset(u)}],textAreaAutocompleteSelectPrev:[function(e){var t,a,n,o=e.state,r=o.get(u);r&&(t=r.results,a=r.loading,t&&t.length&&!a&&(n=r.selectedIndex,--n<0&&(n=t.length-1),o.set([].concat(u,["selectedIndex"]),n)))}],textAreaAutocompleteSelectNext:[function(e){var t,a,n,o=e.state,r=o.get(u);r&&(t=r.results,a=r.loading,t&&t.length&&!a&&(n=r.selectedIndex,++n>=t.length&&(n=0),o.set([].concat(u,["selectedIndex"]),n)))}],textAreaAutocompleteSelectIndex:[function(e){var t,a,n=e.props,o=e.state,r=n.selectedIndex,s=o.get(u);s&&(t=s.results,a=s.loading,t&&t.length&&!a&&0<=r&&r<t.length&&o.set([].concat(u,["selectedIndex"]),r))}]},getState:function(){return{textAreaAutocomplete:{}}},getMentionUsers:function(e){return e.get(["project","mentionUsers"])}}}).call(a,"views/v2/modules/projectV2/TextAreaAutocompleteStore.js")},function(e,E,k){"use strict";(function(e){Object.defineProperty(E,"__esModule",{value:!0});var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},t=m(["project.commentsLoaded"],["project.commentsLoaded"]),a=m(["project.loadMoreStatus"],["project.loadMoreStatus"]),n=m(["project.commentStatus"],["project.commentStatus"]),o=m(["project.deleteCommentStatus"],["project.deleteCommentStatus"]),r=m(["project.deleteCommentConfirmId"],["project.deleteCommentConfirmId"]),s=m(["deleteAsAdmin"],["deleteAsAdmin"]),i=m(["id"],["id"]),l=m(["project.deleteCommentAsSysAdmin"],["project.deleteCommentAsSysAdmin"]),c=k(9),u=k(0),y=h(k(78)),g=h(k(34)),d=h(k(7)),p=h(k(50)),f=h(k(31));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function w(e){var t=e.props,a=e.state,n=e.http,o=e.path,r=t.content,s=t.emojiReaction,i=t.channelId,l=t.nonce,c=t.attachementContent,u=t.unParse;if(!r)return o.dummy();var d=a.get("loginUser"),p=a.get(["project","mentionUsers"]),f=b({},p);delete f[d.id];var h=a.get("project.replyId")||{},m=h.id,_=h.parentMessageId,g=y.default.parse(r,{users:f}).content,v={content:u?r:g,emojiReaction:s,nonce:l,attachementContent:c};return m&&(v.parentMessageId=m,_&&(v.parentMessageId=_,m&&(v.upperMessageId=m))),n.post("/api/channels/"+i+"/messages",v).then(o.success).catch(o.error)}function j(e){var t=e.controller,a=e.props,n=a.cb;t.getSignal("project.syncCommentResult")(a),t.getSignal("project.getSelfMessage")(a),n&&t.getSignal(n)()}E.default={name:e,depends:[],signals:{loadMore:[(0,c.set)((0,u.state)(t),!0),(0,c.set)((0,u.state)(a),d.default.inProgress),[function(e){var t=e.state,a=e.http,n=e.path,o=t.get(["project","comments"]),r=o.hasMore,s=o.currOldestMessageId,i=t.get(["project","channelId"]);return r?a.get("/api/channels/"+i+"/messages",{before:s,limit:5}).then(n.success).catch(n.error):n.dummy()},{success:[(0,c.set)((0,u.state)(a),d.default.succeeded),function(e){var t=e.controller,a=e.props;t.getSignal("project.syncLoadMoreResult")(a)}],error:[(0,c.set)((0,u.state)(a),d.default.failed)],dummy:[]}]],createComment:f.default.LoginRequired([(0,c.set)((0,u.state)(n),d.default.inProgress),function(e){var t,a,n,o,r,s,i,l,c,u,d,p,f=e.state;"webgl"!==f.get("project.projectData").type&&(n=(t=f.get("project.replyId")||{}).parentMessageId,(a=t.id)&&(r=(o=f.get("project.comments")).items,s=o.parents,i=o.uppers,l=f.get("project.hottestComments").items,n?i.findIndex(function(e){return e.id===a})<0&&(c=r.findIndex(function(e){return e.id===a}),u=l.findIndex(function(e){return e.id===a}),-1<c?f.set("project.comments.uppers",[].concat(_(i),[r[c]])):-1<u&&f.set("project.comments.uppers",[].concat(_(i),[l[u]]))):s.findIndex(function(e){return e.id===a})<0&&(d=r.findIndex(function(e){return e.id===a}),p=l.findIndex(function(e){return e.id===a}),-1<d?f.set("project.comments.parents",[].concat(_(s),[r[d]])):-1<p&&f.set("project.comments.parents",[].concat(_(s),[l[p]])))))},function(e){var t=e.props,a=e.state,n=g.default.createNonce(),o=t.content,r=t.channelId,s=t.id,i=!!t.attachementContent,l=a.get("loginUser"),c=a.get(["project","mentionUsers"]),u=a.get("project.replyId")||{},d=u.id,p=u.parentMessageId,f=a.get("project.edit"),h=b({},c);delete h[l.id];var m=y.default.parse(o,{users:h}).content,_={nonce:n,type:"normal",channelId:r,author:{id:l.id,fullname:l.name,title:l.title,jobRoleIds:l.jobRoleIds,isStaff:f,avatar:l.avatar,presenceStatus:l.presenceStatus},content:m,attachments:[],mentionEveryone:!1,mentions:[],state:"SENDING",skip:i};return d&&(_.parentMessageId=d,p&&(_.parentMessageId=p,d&&(_.upperMessageId=d))),a.unshift("project.comments.items",_),a.merge("project.inputValues",v({},s,"")),{nonce:n}},[w,{success:[(0,c.set)((0,u.state)(n),d.default.succeeded),j],error:[(0,c.set)((0,u.state)(n),d.default.failed)],dummy:[]}]]),createCommentInMultiProject:f.default.LoginRequired([(0,c.set)((0,u.state)(n),d.default.inProgress),function(e){var t=e.props,a=e.state,n=g.default.createNonce(),o=t.content,r=t.projectId,s=t.id,i=!!t.attachementContent,l=a.get("loginUser"),c=a.get(["project","mentionUsers"]),u=a.get("project.edit"),d=b({},c);delete d[l.id];var p=y.default.parse(o,{users:d}).content,f={id:l.id,fullname:l.name,title:l.title,jobRoleIds:l.jobRoleIds,isStaff:u,avatar:l.avatar,presenceStatus:l.presenceStatus},h=a.get(["profile","projectMap",r]).channelId,m={nonce:n,type:"normal",channelId:h,author:f,content:p,attachments:[],mentionEveryone:!1,mentions:[],state:"SENDING",skip:i};return a.unshift(["profile","projectCommentMap",r,"items"],m),a.merge("project.inputValues",v({},s,"")),{nonce:n,channelId:h}},[w,{success:[(0,c.set)((0,u.state)(n),d.default.succeeded),j],error:[(0,c.set)((0,u.state)(n),d.default.failed)],dummy:[]}]]),deleteComment:[(0,c.set)((0,u.state)(o),d.default.inProgress),[function(e){var t=e.state,a=e.http,n=e.path,o=t.get("project.deleteCommentConfirmId"),r=t.get("project.deleteCommentAsSysAdmin");return o?r?a.post("/api/messages/"+o+"/adminDelete").then(n.success).catch(n.error):a.post("/api/messages/"+o+"/delete").then(n.success).catch(n.error):n.error()},{success:[(0,c.set)((0,u.state)(o),d.default.succeeded),function(e){var t=e.controller,a=e.props;t.getSignal("project.syncDeleteCommentResult")(a)},(0,c.set)((0,u.state)(r),"")],error:[(0,c.set)((0,u.state)(o),d.default.failed)]}]],syncCommentResult:[function(e){var t,a,n,o,r,s,i,l,c=e.props,u=e.state,d=c.result,p=c.status,f=c.channelId,h=c.projectId;200===p&&d&&(t=u.get(["project","channelId"]),a=d.content,n=d.author.id,o=d.channelId,r=d.nonce,t===o?0<=(s=u.get(["project","comments"]).items.findIndex(function(e){return e.author.id===n&&e.content===a&&r===e.nonce}))&&(u.splice(["project","comments","items"],s,1,d),i=u.get(["project","projectData"]).commentCount,u.set(["project","projectData","commentCount"],i+1)):f!==o||""===h||0<=(l=u.get(["profile","projectCommentMap",h]).items.findIndex(function(e){return e.author.id===n&&r===e.nonce}))&&(u.splice(["profile","projectCommentMap",h,"items"],l,1,d),u.set(["profile","commentUpdated"],d.nonce)))}],createCommentWithEmoji:[function(e){var t,a,n=e.props,o=e.state,r=e.controller,s=n.content,i=n.emoji,l=n.channelId,c=n.nonce,u=n.attachementContent,d=n.unParse;r.getSignal("project.createComment")({content:s,emojiReaction:i,channelId:l,attachementContent:u,nonce:c,unParse:d}),i&&o.get("currentUserId")&&(t=o.get(["project","projectData"]).reactionCount,a=o.get(["project","projectData"]).reactionsUsed,o.set(["project","projectData","reactionCount"],(t||0)+1),(a=a||[])[i]=(a[i]||0)+1,o.set(["project","projectData","reactionsUsed"],a))}],syncDeleteCommentResult:[function(e){var t=e.props,s=e.state,i=t.result;i&&i.id&&s.get(["project","comments"]).items.forEach(function(e,t){var a,n,o,r;e.id===i.id&&(s.splice(["project","comments","items"],t,1),n=(a=s.get(["project","projectData"])).commentCount,o=a.reactionsUsed,r=a.reactionCount,s.set(["project","projectData","commentCount"],Math.max(n-1,0)),e.emojiReaction&&(--o[e.emojiReaction],o[e.emojiReaction]<=0&&delete o[e.emojiReaction],s.set(["project","projectData","reactionsUsed"],o),s.set(["project","projectData","reactionCount"],r-1)))})}],syncLoadMoreResult:[function(e){var t,a,n,o,r,s,i,l,c,u,d,p=e.props,f=e.state,h=p.result;200===p.status&&h&&(t=f.get(["project","comments"]),a=h.items,n=h.hasMore,o=h.parents,r=h.uppers,s=t.items.map(function(e){return e.id}),i=t.parents.map(function(e){return e.id}),l=t.uppers.map(function(e){return e.id}),c=a.filter(function(e){return s.lastIndexOf(e.id)<0}),u=o.filter(function(e){return i.lastIndexOf(e.id)<0}),d=r.filter(function(e){return l.lastIndexOf(e.id)<0}),f.set(["project","comments"],{items:[].concat(_(t.items),_(c)),hasMore:n,currOldestMessageId:c[c.length-1].id,parents:[].concat(_(t.parents),_(u)),uppers:[].concat(_(t.uppers),_(d))}))}],changeInputValue:[function(e){var t=e.props,a=e.state,n=t.id,o=t.value;a.merge("project.inputValues",v({},n,o))}],toggleChannelReadonly:[[function(e){var t=e.props,a=e.http,n=e.path,o=t.channelId,r=t.value?"/api/channels/"+o+"/makeReadonly":"/api/channels/"+o+"/cancelReadonly";return a.post(r).then(n.success).catch(n.error)},{success:[function(e){var t=e.state,a=e.props,n=a.result;200===a.status&&n&&t.set("project.isChannelReadonly",n.readonly)}],error:[]}]],openDeleteCommentConfirmDialog:[(0,c.when)((0,u.props)(s),function(e){return e}),{true:[p.default.TfaRequired([(0,c.set)((0,u.state)(o),d.default.initial),(0,c.set)((0,u.state)(r),(0,u.props)(i)),(0,c.set)((0,u.state)(l),!0)])],false:[(0,c.set)((0,u.state)(o),d.default.initial),(0,c.set)((0,u.state)(r),(0,u.props)(i)),(0,c.set)((0,u.state)(l),!1)]}],closeDeleteCommentConfirmDialog:[(0,c.set)((0,u.state)(r),"")]},getState:function(){return{commentsLoaded:!1,comments:{},inputValues:{},deleteCommentConfirmId:"",deleteCommentIsSysAdmin:!1}},getComments:function(e){return e.get(["project","comments"])}}}).call(E,"views/v2/modules/projectV2/CommentStore.js")},function(e,v,b){"use strict";(function(e){Object.defineProperty(v,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},t=c(["project.commentsLoaded"],["project.commentsLoaded"]),a=c(["project.loadMoreStatus"],["project.loadMoreStatus"]),n=c(["project.reactionsLoaded"],["project.reactionsLoaded"]),o=c(["project.loadMoreReactionsStatus"],["project.loadMoreReactionsStatus"]),r=b(9),s=b(0),f=l(b(78)),i=l(b(7));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function h(e){var t=e.state,a=e.http,n=e.path,o=t.get("project.projectData").type,r=t.get("pageType")||{};if("webgl"!==o||"detail"===r.pageType)return n.dummy();var s=t.get(["project","channelId"]);return a.get("/api/channels/"+s+"/messagesV2/self").then(n.success).catch(n.dummy)}function m(e){var t,a,n,o,r,s=e.props,i=e.state,l=s.result,c=s.status,u=s.loading;200===c&&l&&(t=i.get(["project","comments"]),a=l.items,n=l.hasMore,o=t.items.map(function(e){return e.id}),r=a.filter(function(e){return o.lastIndexOf(e.id)<0}),u?i.set(["project","comments"],{items:[].concat(d(t.items),d(r)),hasMore:n,currOldestMessageId:r[r.length-1].id}):i.set(["project","comments"],{items:[].concat(d(r),d(t.items)),hasMore:t.hasMore,currOldestMessageId:t.currOldestMessageId}))}function _(e){var t,a,n,o,r,s=e.props,i=e.state,l=s.result;200!==s.status||!l||(t=l.items)&&(a=i.get(["project","comments"]),n=a.items.map(function(e){return e.id}),o=a.items.map(function(e){return e.id===t[0].id?t[0]:e}),r=t.filter(function(e){return n.lastIndexOf(e.id)<0}),i.set(["project","selfComments"],{items:t}),i.set("project.comments.items",[].concat(d(r),d(o))))}function g(e){var t=e.state,a=e.props,n=a.id,o=a.value;t.merge("project.commentEditing",u({},n,o))}v.default={name:e,depends:[],signals:{INITIAL_DATA:[h,{success:[_],dummy:[]}],webglLoadMore:[(0,r.set)((0,s.state)(t),!0),(0,r.set)((0,s.state)(a),i.default.inProgress),[function(e){var t=e.state,a=e.http,n=e.path,o=t.get(["project","comments"]),r=o.hasMore,s=o.currOldestMessageId,i=t.get(["project","channelId"]);return r?a.get("/api/channels/"+i+"/messagesV2",{before:s,limit:5,includeReply:!1}).then(n.success).catch(n.error):n.dummy()},{success:[(0,r.set)((0,s.state)(a),i.default.succeeded),m],error:[(0,r.set)((0,s.state)(a),i.default.failed)],dummy:[]}]],webglLoadMoreReactions:[(0,r.set)((0,s.state)(n),!0),(0,r.set)((0,s.state)(o),i.default.inProgress),[function(e){var t=e.state,a=e.http,n=e.path,o=t.get(["project","reactions"])||{},r=o.hasMore,s=o.currOldestMessageId,i=t.get(["project","channelId"]);return!1!==r?a.get("/api/channels/"+i+"/messages/reactions",{before:s,limit:20}).then(n.success).catch(n.error):n.dummy()},{success:[(0,r.set)((0,s.state)(o),i.default.succeeded),function(e){var t,a,n,o,r,s=e.props,i=e.state,l=s.result,c=s.status,u=s.loading;200===c&&l&&(t=i.get(["project","reactions"]),a=t&&t.items||[],n=l.items,o=l.hasMore,r=[],r=n.filter(function(e){return a.map(function(e){return e.id}).lastIndexOf(e.id)<0}),u?i.set(["project","reactions"],{items:[].concat(d(a),d(r)),hasMore:o,currOldestMessageId:r[r.length-1].id}):i.set(["project","reactions"],{items:[].concat(d(r),d(a)),hasMore:t.hasMore||!0,currOldestMessageId:t.currOldestMessageId}))}],error:[(0,r.set)((0,s.state)(o),i.default.failed)],dummy:[(0,r.set)((0,s.state)(o),i.default.succeeded)]}]],getSelfMessage:[h,{success:[_],dummy:[]}],loadMoreChild:[(0,r.set)((0,s.state)(a),i.default.inProgress),[function(e){var t=e.state,a=e.http,n=e.path,o=e.props.messageIds,r=t.get(["project","channelId"]);return a.get("/api/channels/"+r+"/messagesV2/child",{messageIds:o}).then(n.success).catch(n.error)},{success:[(0,r.set)((0,s.state)(a),i.default.succeeded),m],error:[(0,r.set)((0,s.state)(a),i.default.failed)]}]],updateEditing:[g],sendEditComment:[function(e){var t=e.props,a=e.state,n=e.http,o=e.path,r=t.message,s=t.id,i=t.newContent,l=a.get(["project","mentionUsers"]),c=a.get("loginUser"),u=p({},l);delete u[c.id];var d=f.default.parse(i,{users:u});return r.content=d.content,n.post("/api/messages/"+s,r).then(o.success).catch(o.error)},{success:[g,function(e){var t=e.props,a=e.state,n=t.message,o=t.id,r=a.get("project.comments").items,s=r.findIndex(function(e){return e.id===o});r[s]=n,a.set("project.comments.items",r)}],error:[]}],changeCommentValue:[function(e){var t=e.props,a=e.state,n=t.id,o=t.value;a.merge("project.commentValue",u({},n,o))}]},getState:function(){return{commentEditing:{},commentValue:{}}}}}).call(v,"views/v2/modules/projectV2/WebglCommentStore.js")},function(e,C,S){"use strict";(function(e){Object.defineProperty(C,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},t=b(["project.activeId"],["project.activeId"]),a=b(["projectId"],["projectId"]),n=b(["project.getProjectStatus"],["project.getProjectStatus"]),o=b(["project.projectIds"],["project.projectIds"]),r=b(["projectIds"],["projectIds"]),s=b(["project.activeContentId"],["project.activeContentId"]),i=S(9),l=S(0),u=v(S(165)),d=v(S(166)),p=v(S(167)),f=v(S(7)),h=v(S(19)),m=S(26),_=v(S(31)),g=v(S(42));function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var y=!1,w=[];function j(e){var t,a,n=e.props,o=e.project,r=n.projectId,s=n.options;(void 0===s?{}:s).isPOP||(t=window.location,a=c({},t),r&&(w.push(a),a={pathname:"p/"+r}),o.syncToHistory(a))}function E(e){var t=e.props,a=e.http,n=e.path,o=t.projectId;return a.get("/api/p/"+o,{view:"true"}).then(n.success).catch(n.error)}function k(e){var t=e.props;e.controller.getSignal("project.setActiveProject")(t)}C.default={name:e,depends:[],signals:{openProject:[function(e){var t=e.props,a=e.path,n=t.onlyDraft;return void 0!==n&&n?a.yes():a.no()},{yes:[function(e){var t,a=e.props;(0,m.isTouch)()||(t=a.projectId,(0,h.default)("/p/"+t+"/edit"))}],no:[function(e){var t=e.props,a=e.path;return"webgl"===t.type?a.yes():a.no()},{yes:[function(e){var t=e.props,a=t.projectId,n=t.from;n?(0,h.default)("/p/"+a+"?from="+n):(0,h.default)("/p/"+a)}],no:[(0,i.set)((0,l.state)(t),(0,l.props)(a)),(0,i.set)((0,l.state)(n),f.default.inProgress),j,[E,{success:[(0,i.set)((0,l.state)(n),f.default.succeeded),k],error:[(0,i.set)((0,l.state)(n),f.default.failed)]}]]}]}],closeProject:[(0,i.unset)((0,l.state)(t)),function(e){e.project.backToHistory()}],setProjectIds:[(0,i.set)((0,l.state)(o),(0,l.props)(r))],moveToProject:[function(e){var t=e.props,a=e.state,n=e.path,o=t.step,r=a.get("project"),s=r.activeId,i=r.projectIds,l=i.findIndex(function(e){return e===s})+o;return 0<=l&&l<i.length?n.open({projectId:i[l]}):n.dummy()},{open:[(0,i.set)((0,l.state)(t),(0,l.props)(a)),(0,i.set)((0,l.state)(n),f.default.inProgress),function(e){var t,a=e.props,n=e.project,o=a.projectId;o&&(t="p/"+o,n.replaceToHistory({pathname:t}))},[E,{success:[(0,i.set)((0,l.state)(n),f.default.succeeded),k],error:[(0,i.set)((0,l.state)(n),f.default.failed)]}]],dummy:[]}],syncToLocation:[j],syncFromLocation:[function(e){var t,a,n=e.props,o=e.state,r=e.controller,s=n.pathname,i=s&&s.trim().split("/");i&&0<i.length?(t=i[0],a=i[1],"p"===t&&a?r.getSignal("project.openProject")({projectId:a,options:{isPOP:!0}}):window.location.reload()):o.unset(["project","activeId"])}],setActiveProject:[function(e){var t=e.props,a=e.state,n=e.controller,o=e.path,r=t.result;if(200===t.status&&r){var s=r.project,i=r.relationship,l=(s||{}).projectData;if(i&&a.set("connection.relationship",i),l)return a.merge("project",c({},s,{currentIndex:0})),o.success();return n.getSignal("header.showMessage")({message:"project_hidden_or_removed"}),o.error()}return o.dummy()},{success:[],error:[(0,i.set)((0,l.state)(n),f.default.failed)],dummy:[]}],openContent:[function(e){var t=e.state,a=e.props,n=a.contentId,o=a.url,r=void 0===o?"":o;r?(0,g.default)(r,"_blank"):t.set("project.activeContentId",n)}],closeContent:[(0,i.unset)((0,l.state)(s))],setContentIds:[function(e){var t=e.props,a=e.state,n=t.contentIds,o=a.get("project").contentMap,r=n&&n.filter(function(e){return o&&o[e]&&"img"===o[e].type});r&&0<r.length&&a.set(["project","contentIds"],r)}],moveToContent:[function(e){var t=e.props,a=e.state,n=t.step,o=a.get("project"),r=o.activeContentId,s=o.contentIds,i=s.findIndex(function(e){return e===r})+n;0<=i&&i<s.length&&a.set(["project","activeContentId"],s[i])}],openWebGL:[function(e){var t,a,n,o=e.props,r=e.state,s=o.id;r.merge("project.openWebGL",(n=!0,(a=s)in(t={})?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t))}],closeWebGL:[function(e){var t=e.props,a=e.state,n=t.id;a.set("project.openWebGL."+n,!1)}],addLike:_.default.LoginRequired([function(e){var t=e.props,a=e.state,n=e.http,o=e.path,r=a.get("loginUser"),s=t.like,i=t.userId,l=t.itemId,c=r.id;return!0!==s&&c!==i?n.post("/api/like",{type:"project",itemId:l}).then(o.success).catch(o.error):o.success()},{success:[function(e){var t=e.props,a=e.controller,n=t.slug;a.getSignal("project.openProject")({projectId:n})}],error:[]}])},getServices:function(n){var t=(0,d.default)((0,p.default)(u.default))({basename:"/"});function a(e){t.replace(e)}return t.listen(function(e){var t=e.action,a=e.pathname;y&&"POP"===t&&n.getSignal("project.syncFromLocation")({pathname:a})}),y=!0,{syncToHistory:function(e){t.push(e)},replaceToHistory:a,backToHistory:function(){var e=w.pop();e&&a({pathname:e.pathname,search:e.search})}}},getState:function(){return{activeId:"",projectIds:[],activeContentId:"",contentIds:[],openWebGL:{},projectData:{}}}}}).call(C,"views/v2/modules/projectV2/BrowseStore.js")},function(e,n,t){"use strict";(function(e){function t(e){var t=e.state,a=e.http,n=e.path,o=t.get("project.projectData"),r=o.id;return"webgl"===o.type?a.get("/api/webgl/pkg",{projectID:r}).then(n.success).catch(n.error):n.dummy()}function a(e){var t=e.state,a=e.props.result;t.set("project.webglPKG",a)}Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:e,depends:[],signals:{INITIAL_DATA:[t,{success:[a],error:[],dummy:[]}],getWebglPKG:[t,{success:[a],error:[],dummy:[]}]},getState:function(){return{webglPKG:{}}}}}).call(n,"views/v2/modules/projectV2/WebglPKGStore.js")},function(e,c,u){"use strict";(function(e){Object.defineProperty(c,"__esModule",{value:!0});var t,a=l(["project.submitWebglDialog.show"],["project.submitWebglDialog.show"]),n=l(["project.submitWebglDialog.updateStatus"],["project.submitWebglDialog.updateStatus"]),o=u(9),r=u(0),s=u(7),i=(t=s)&&t.__esModule?t:{default:t};function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}c.default={name:e,depends:[],signals:{openSubmitWebglDialog:[(0,o.set)((0,r.state)(a),!0),(0,o.set)((0,r.state)(n),i.default.initial)],closeSubmitWebglDialog:[(0,o.set)((0,r.state)(a),!1)],submitProjectToChallenge:[(0,o.set)((0,r.state)(n),i.default.inProgress),[function(e){var t=e.state,a=e.http,n=e.path,o=(t.get("project.projectData")||{}).id,r=(t.get("project.globalChallenge")||{}).id;return a.post("/api/p/"+o+"/submitToChallenge",{challengeId:r}).then(n.success).catch(n.error)},{success:[(0,o.set)((0,r.state)(n),i.default.succeeded),function(e){var t=e.state,a=e.controller,n=(t.get("project.globalChallenge")||{}).id;t.set("project.projectData.challengeId",n),a.getSignal("project.getUnlockedAssets")()},(0,o.set)((0,r.state)(a),!1)],error:[(0,o.set)((0,r.state)(a),!1),(0,o.set)((0,r.state)(n),i.default.failed),function(e){var t=e.state,a=e.props.result,n=a.errorCode,o=a.message,r=a.target;"ReSubmitChallengeError"===n?(t.set("project.submitDuplicated.projectId",r),t.set("project.submitDuplicated.show",!0)):alert(o)}]}]]},getState:function(){return{submitWebglDialog:{show:!1}}}}}).call(c,"views/v2/modules/projectV2/SubmitWebglStore.js")},function(e,o,r){"use strict";(function(e){Object.defineProperty(o,"__esModule",{value:!0});var t=Object.freeze(Object.defineProperties(["project.submitDuplicated.show"],{raw:{value:Object.freeze(["project.submitDuplicated.show"])}})),a=r(9),n=r(0);o.default={name:e,depends:[],signals:{closeSubmitDuplicated:[(0,a.set)((0,n.state)(t),!1)]},getState:function(){return{submitDuplicated:{show:!1,projectId:""}}}}}).call(o,"views/v2/modules/projectV2/SubmitDuplicatedStore.js")},function(e,n,o){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0});var t,a=o(492);var r=new((t=a)&&t.__esModule?t:{default:t}).default,s="close_popup_learn";n.default={name:e,depends:[],signals:{hidePopupLearn:[function(e){var t=e.state,a=t.get("currentUserId"),n=s+"_"+a;t.set("project.popupLearnShow",!1),r.setItem(n,!0)}],initData:[function(e){var t,a,n=e.state,o=n.get("currentUserId");n.get("project.edit")?(t=s+"_"+o,a=r.getItem(t),n.set("project.popupLearnShow",void 0===a)):n.set("project.popupLearnShow",!1)}]},getServices:function(){},getState:function(){return{popupLearnShow:!1}}}}).call(n,"views/v2/modules/projectV2/PopupLearnStore.js")},function(e,s,i){"use strict";(function(e){Object.defineProperty(s,"__esModule",{value:!0});var t,a=i(15),o=(t=a)&&t.__esModule?t:{default:t};function n(e){var t,a=e.state,n=e.http,o=e.path,r=a.get("currentUserId"),s=a.get("project.projectData"),i=s.id,l=s.type,c=s.userId;return!i&&a.get("challenge.userProject")&&(i=(t=a.get("challenge.userProject")).id,l=t.type,c=t.userId),"webgl"===l&&i&&c===r?n.get("/api/p/"+i+"/unlockedAssets").then(o.success).catch(o.error):o.dummy()}function r(e){var t,n=e.state,a=e.props.result||[];a&&0!==a.length&&(n.set("project.unlockedAsset.all",a),t=a[0].assetType,n.set("project.unlockedAsset.type",t),a.forEach(function(a){(function(e){switch(e){case"FPS":return[{id:o.default.ASSET_UNLOCK_FPS_FIRST},{id:o.default.ASSET_UNLOCK_FPS_SECOND},{id:o.default.ASSET_UNLOCK_FPS_THIRD}];case"Karting":return[{id:o.default.ASSET_UNLOCK_KARTING_FIRST},{id:o.default.ASSET_UNLOCK_KARTING_SECOND},{id:o.default.ASSET_UNLOCK_KARTING_THIRD}];case"LEGO":return[{id:o.default.ASSET_UNLOCK_LEGO_FIRST},{id:o.default.ASSET_UNLOCK_LEGO_SECOND},{id:o.default.ASSET_UNLOCK_LEGO_THIRD}];default:return[]}})(t).forEach(function(e,t){return e.id===a.assetId&&(n.set("project.unlockedAsset.asset.unlocked."+e.id,!0),!1===a.confirmed&&(n.set("project.unlockedAsset.modalIsOpen",!0),n.set("project.unlockedAsset.asset.index",t),n.set("project.unlockedAsset.asset.textIndex",t))),e})}))}s.default={name:e,depends:[],signals:{INITIAL_DATA:[n,{success:[r],dummy:[]}],closeModal:[function(e){e.state.set("project.unlockedAsset.modalIsOpen",!1)}],getUnlockedAssets:[n,{success:[r],dummy:[]}]},getState:function(){return{unlockedAsset:{all:[],type:null,modalIsOpen:!1,asset:{index:null,textIndex:null,unlocked:!1}}}}}}).call(s,"views/v2/modules/projectV2/UnlockedAssetsStore.js")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=a(258);var r=[((n=o)&&n.__esModule?n:{default:n}).default];t.default={report:r}},function(e,m,_){"use strict";(function(e){Object.defineProperty(m,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},t=u(["report.processStatus"],["report.processStatus"]),a=u(["report.status"],["report.status"]),n=_(9),o=_(0),c=_(21),r=l(_(7)),s=l(_(31));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function d(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var p=["report","reportForm"];function f(a){return[function(e){var t=e.props;return{field:[].concat(p,[a]),value:t.value,touched:!0}}].concat(d(c.chains.fieldChanged),[(0,n.set)((0,o.state)(t),r.default.initial)])}function h(){return[function(){return{fieldPath:[].concat(p,["inputReasons"]),fieldDetails:{value:""}}},c.chains.addField]}m.default={name:e,depends:[],signals:{changeType:[].concat(d(f("type")),[function(e){var t=e.state,a=e.path;return"other"!==t.get([].concat(p,["type","value"]))?(t.set("report.reportForm.inputReasons.value",""),a.no()):a.yes()},{yes:[function(){return{fieldPath:[].concat(p,["inputReasons"]),fieldDetails:{value:"",validations:["isValue","minLength:10","maxLength:80"],errorMessages:["error_isRequired","error_minLength10","error_maxLength80"],isRequired:!0}}},c.chains.addField],no:h()}]),changeInputReasons:f("inputReasons"),submitReport:[].concat(d(c.chains.formValidated),[function(e){var t=e.state,a=e.path,n=t.get(p);return(0,c.isValidForm)(n)?a.yes():a.no()},{yes:[(0,n.set)((0,o.state)(t),r.default.inProgress),[function(e){var t=e.state,a=e.http,n=e.path,o=t.get(p),r=t.get("report"),s=r.itemId,i=r.itemType;if((0,c.isValidForm)(o)){var l={itemId:s,itemType:i,reasons:["other"!==o.type.value?o.type.value:"other:"+o.inputReasons.value]};return a.post("/api/report",l).then(n.success).catch(n.error)}return n.dummy()},{success:[(0,n.set)((0,o.state)(t),r.default.succeeded),(0,n.set)((0,o.state)(a),!1)],error:[(0,n.set)((0,o.state)(t),r.default.failed)],dummy:[]}]],no:[(0,n.set)((0,o.state)(t),r.default.failed)]}]),open:s.default.LoginRequired(function(e){var t=e.props,a=e.state,n=t.itemId,o=t.itemType,r=t.reportTitle,s=a.get("report");a.set("report",i({},s,{status:!0,itemId:n,reportTitle:r,itemType:o}))}),close:[function(e){e.state.set("report.status",!1)}].concat(d(c.chains.reset),d(h()))},getServices:function(){return{}},getState:function(){return{itemId:null,itemType:null,status:!1,reportForm:(0,c.Form)({type:{value:"spam"},inputReasons:{value:""}})}}}}).call(m,"views/v2/modules/report/ReportStore.js")},,,,,,,function(e,t){e.exports={container:"container_1jacuxI3"}},function(e,t){e.exports={label_name:"label_name_1z_z",admin:"admin_2r83",moderator:"moderator_moeW",staff:"staff_-63S"}},function(e,t){e.exports={statusBar:"statusBar_284yD1_g",searchInProgress:"searchInProgress_glYpjHcR",more:"more_2AyTuBWo",loading:"loading_P46rnZ1H",livehelp:"livehelp_2Ug3Q1nu","loading-text":"loading-text_1BybrYfj",post:"post_rvDOd4-O",flex:"flex_25UUnuqF"}},function(e,t){e.exports={more:"more_3Uxl",view_more:"view_more_1Qkl",loading_text:"loading_text_2i6A"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,o=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw r}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e};function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=C(["header.popoutsTicks"],["header.popoutsTicks"]),l=C(["header.popouts"],["header.popouts"]),c=w(a(2)),u=w(a(1)),p=w(a(3)),f=a(18),h=a(5),m=a(0),_=a(24),g=w(a(23)),v=w(a(146)),b=w(a(4)),y=w(a(270));function w(e){return e&&e.__esModule?e:{default:e}}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function C(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var S=_.presets.noWobble,O=["top","right","bottom","left"],N=["0","-1","1"],P=(0,h.decorator)({popoutsTicks:(0,m.state)(i)})(n=(0,b.default)(y.default)((k(T,p.default),r(T,[{key:"componentWillMount",value:function(){var e=v.default.get(this.props.popout.popoutElementId);"function"==typeof e&&(e=e(this.props.popout.id)),this.setState({popoutElement:e,popoutStyle:{}})}},{key:"componentDidMount",value:function(){var t=this;this._handleClick=function(e){return t.handleClick(e)},window.addEventListener("click",this._handleClick,!0),this.updatePosition()}},{key:"componentWillReceiveProps",value:function(){var e=v.default.get(this.props.popout.popoutElementId);"function"==typeof e&&(e=e(this.props.popout.id)),this.setState({popoutElement:e})}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.updatePosition()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this._handleClick,!0)}},{key:"getPosParam",value:function(e){var t=e.width,a=e.height,n=[[t/2,0,-50,-100,0,-1],[t,0,-100,-100,0,-1],[0,0,0,-100,0,-1],[t,a/2,0,-50,1,0],[t,a,0,-100,1,0],[t,0,0,0,1,0],[t/2,a,-50,0,0,1],[0,a,0,0,0,1],[t,a,-100,0,0,1],[0,a/2,-100,-50,-1,0],[0,0,-100,0,-1,0],[0,a,-100,-100,-1,0]],o=this.props.popout,r=O.findIndex(function(e){return e===o.pos}),s=N.findIndex(function(e){return e===o.align});return n[r*N.length+s]}},{key:"updatePosition",value:function(){var e=this.props,t=e.popout,a=e.progress,n=this.getPosParam({width:t.targetWidth,height:t.targetHeight}),o=d(n,4),r=o[0],s=o[1],i=o[2],l=o[3],c=n[4],u=n[5];r+=t.left,s+=t.top,i+=a/100*5*c,l+=a/100*5*u,this.setState({popoutStyle:{left:r,top:s,transform:"translate3d("+i+"%, "+l+"%, 0)"}})}},{key:"handleClick",value:function(e){var t=this;(0,f.ClickOutside)(e,this.refs.popout,function(){t.popoutClose()})}},{key:"popoutClose",value:function(){var e=this.props,t=e.popout;e.signals.header.popoutClose({id:t.id})}},{key:"render",value:function(){var e=this.props.popout,t=this.state,a=t.popoutElement,n=t.popoutStyle;return a?u.default.createElement("div",{ref:"popout",className:this.ss("popout"),style:n},u.default.cloneElement(a,{popoutId:e.id})):null}}]),T.propTypes={popout:c.default.object.isRequired,progress:c.default.number.isRequired,signals:c.default.object.isRequired},n=T))||n)||n;function T(){return j(this,T),E(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}var x=(0,h.decorator)({popouts:(0,m.state)(l)})(o=(0,b.default)(y.default)((k(M,p.default),r(M,[{key:"willEnter",value:function(){return{progress:100}}},{key:"render",value:function(){var t=this,e=this.props.popouts,a=g.default.map(e,function(e){return{key:e.id,style:{progress:(0,_.spring)(0,S)},data:e}});return u.default.createElement(_.TransitionMotion,{styles:a,willEnter:this.willEnter},function(e){return u.default.createElement("div",{className:t.ss("popouts")},e.map(function(e){var t=e.style,a=e.data;return u.default.createElement(P,{key:a.id,popout:a,progress:t.progress})}))})}}]),M.propTypes={popouts:c.default.object.isRequired},o=M))||o)||o;function M(){return j(this,M),E(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}t.default=x},function(e,t){e.exports={popouts:"popouts_13qiuyRV",popout:"popout_3pgNn4Cr"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=T(["notification.status"],["notification.status"]),i=T(["notification.firstLoad"],["notification.firstLoad"]),l=T(["notification.page"],["notification.page"]),u=T(["notification.pageTotal"],["notification.pageTotal"]),d=T(["notification.results"],["notification.results"]),p=T(["notification.processStatus"],["notification.processStatus"]),f=T(["currentHost"],["currentHost"]),h=T(["notification.setRead"],["notification.setRead"]),m=P(a(2)),_=P(a(1)),g=a(5),v=a(0),b=a(24),y=P(a(3)),w=a(7),j=P(a(4)),E=P(a(272)),k=a(6),C=P(k),S=P(a(273)),O=P(a(117)),N=P(a(118));function P(e){return e&&e.__esModule?e:{default:e}}function T(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var x=b.presets.noWobble,M=(0,g.decorator)({status:(0,v.state)(s),firstLoad:(0,v.state)(i),page:(0,v.state)(l),pageTotal:(0,v.state)(u),results:(0,v.state)(d),processStatus:(0,v.state)(p),currentHost:(0,v.state)(f),setRead:(0,v.signal)(h)})(n=(0,j.default)(E.default)(n=(0,C.default)(S.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(I,y.default),o(I,[{key:"onNotificationItemClick",value:function(e,t,a,n){if(""===a)return this.props.setRead({id:t}),void e.stopPropagation();a+=(-1<a.indexOf("?")?"&":"?")+"_nid="+t,"proposal_approved"!==n&&"invitation_accepted"!==n||(a+="#messages"),window.location.href=a}},{key:"isEnd",value:function(){var e=this.props,t=e.page;return e.pageTotal<=t}},{key:"notificationsTranslate",value:function(e){var i=this,l=[];return this.props.currentHost,!e||e.length<=0||e.forEach(function(e){var t=e.type,a=c({},e.data),n=a.role,o=a.isAdmin,r=(0,N.default)(t,n,a);a&&a.questionType&&(a.questionType=(0,k.i18n)(i.context,O.default,a.questionType));var s=(0,k.i18n)(i.context,O.default,t+"_"+n+(o?"_admin":"")+"_text",a);l.push({id:e.id,read:e.read,type:e.type,href:r,text:s,createdTime:e.createdTime})}),l}},{key:"prepareList",value:function(e){var n=this,o=[{index:0,exp:function(e){var t=n.moment(e).hours(0).minutes(0).seconds(0);return n.moment().hours(0).minutes(0).seconds(0).diff(t,"days")<=0},text:"",items:[]},{index:1,exp:function(e){var t=n.moment(e).hours(0).minutes(0).seconds(0);return 1===n.moment().hours(0).minutes(0).seconds(0).diff(t,"days")},text:"time_yesterday",items:[]},{index:2,exp:function(){return!0},text:"time_more",items:[]}];this.notificationsTranslate(e).forEach(function(e){for(var t=0;t<o.length;t++){var a=o[t];if(a.exp(e.createdTime)){a.items.push(n.renderItem(e,0===a.items.length&&0!==t?a.text:void 0));break}}});var a=[];return o.forEach(function(e,t){0<e.items.length?a=a.concat(e.items):0===t&&a.push(n.renderEmptyItem())}),a}},{key:"renderList",value:function(){var e=this.props,t=e.results,a=void 0===t?[]:t,n=e.firstLoad,o=[];return 0<a.length&&(o=this.prepareList(a)),o.push(this.renderStatus()),n||0!==a.length||(o=_.default.createElement("div",{key:"noData",className:this.ss("footer")},this.__("no_data"))),_.default.createElement("div",{className:this.ss("list")},o)}},{key:"renderItem",value:function(t,e){var a=this,n=e&&_.default.createElement("div",{className:this.ss("item-date")},_.default.createElement("span",{className:this.ss("item-date-c")},_.default.createElement("div",{className:this.ss("item-date-txt")},this.__(e))));return _.default.createElement("a",{key:t.id,className:this.ss("item",t.read&&"read"),onClick:function(e){return a.onNotificationItemClick(e,t.id,t.href,t.type)}},_.default.createElement("div",{className:this.ss("item-icon")}),_.default.createElement("div",{className:this.ss("item-context")},_.default.createElement("div",{className:this.ss("item-context-txt")},t.text),_.default.createElement("div",{className:this.ss("item-context-time")},this.__("created_time",{time:t.createdTime}))),n)}},{key:"renderEmptyItem",value:function(){return _.default.createElement("div",{key:"emptyItem",className:this.ss("item")},_.default.createElement("div",{className:this.ss("item-empty")},this.__("time_today_no")))}},{key:"renderStatus",value:function(){var a=this,e=this.props,t=e.firstLoad,n=e.processStatus;if(!t&&this.isEnd())return null;var o=(0,w.isLoading)(n);return _.default.createElement("div",{key:"status",className:this.ss("footer")},_.default.createElement(b.Motion,{defaultStyle:{opacity:0},style:{opacity:(0,b.spring)(o?1:0,x)}},function(e){var t=e.opacity;return t<.01?null:_.default.createElement("span",{className:a.ss("loading"),style:{opacity:t}})}))}},{key:"render",value:function(){return this.renderList()}}]),I.propTypes={status:m.default.bool,firstLoad:m.default.bool,page:m.default.number,pageTotal:m.default.number,results:m.default.array,processStatus:m.default.string,currentHost:m.default.string,setRead:m.default.func},n=I))||n)||n)||n;function I(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,I),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}t.default=M},function(e,t){e.exports={list:"list_1yIQJCam",item:"item_1dIrve2T",read:"read_2N4_CpeK","item-icon":"item-icon_3A445R0s","item-context":"item-context_1dk8R68r","item-context-txt":"item-context-txt_2iMi8wJy","item-context-time":"item-context-time_2afeiy45","item-empty":"item-empty_1ujn7Jo8","item-date":"item-date_2EL98Uoq","item-date-c":"item-date-c_3B2wEJR6","item-date-txt":"item-date-txt_1yYMhsA-",footer:"footer_2TOpPjmG",loading:"loading_1TN53ZFk","animation-loading":"animation-loading_Y6x4PnF9"}},function(e,t){e.exports={no_data:"no_data_3fC_",created_time:"created_time_3rPJ",time_today_no:"time_today_no_1es6",time_yesterday:"time_yesterday_1T-G",time_more:"time_more_G5SY"}},function(e,t){e.exports={"notifications-wrap":"notifications-wrap_3lVlA8zK",open:"open_zhGWBB1Q",notifications:"notifications_2KFSgZqj",header:"header_2Y0cmdbC",title:"title_eifgW-1U","title-txt":"title-txt_3prGJdAM",count:"count_zWPbNn2B","make-all":"make-all_1UI_Wxv4","icon-button":"icon-button_1lVMKQfH","make-all-btn":"make-all-btn_2lA6Lh0C"}},function(e,t){e.exports={title:"title_32Mz",tooltip_make_all:"tooltip_make_all_3-HP"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,r=function(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e};function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=Object.freeze(Object.defineProperties(["header.inPageNotification"],{raw:{value:Object.freeze(["header.inPageNotification"])}})),l=_(a(2)),c=_(a(1)),u=_(a(3)),d=_(a(277)),p=(_(a(279)),_(a(282)),a(5)),f=a(0),h=_(a(4)),m=_(a(285));function _(e){return e&&e.__esModule?e:{default:e}}var g=(0,p.decorator)({inPageNotification:(0,f.state)(i)})(n=(0,h.default)(m.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(v,u.default),r(v,[{key:"renderItems",value:function(){var e=this.props.inPageNotification,t=d.default;return e[0]?c.default.createElement(t,{key:e[0].id,bind:e[0]}):c.default.createElement("noscript",null)}},{key:"render",value:function(){return c.default.createElement("div",{className:this.ss("anchor")},this.renderItems())}}]),(o=v).propTypes={inPageNotification:l.default.arrayOf(l.default.shape({id:l.default.string.isRequired}))},n=o))||n)||n;function v(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}t.default=g},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,r=function(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e};function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=b(["header.requestInPageNotificationShow"],["header.requestInPageNotificationShow"]),l=b(["header.requestInPageNotificationHide"],["header.requestInPageNotificationHide"]),c=b(["header.requestInPageNotificationToRemove"],["header.requestInPageNotificationToRemove"]),u=b(["header.requestInPageNotificationRemove"],["header.requestInPageNotificationRemove"]),d=v(a(2)),p=v(a(1)),f=v(a(3)),h=a(5),m=a(0),_=v(a(4)),g=v(a(278));function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var y=(0,h.decorator)({requestInPageNotificationShow:(0,m.signal)(i),requestInPageNotificationHide:(0,m.signal)(l),requestInPageNotificationToRemove:(0,m.signal)(c),requestInPageNotificationRemove:(0,m.signal)(u)})(n=(0,_.default)(g.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(w,f.default),r(w,[{key:"componentDidMount",value:function(){var e=this,t=this.props.bind.id;setTimeout(function(){e._mounted&&(e.props.requestInPageNotificationShow({id:t}),e.hideTimeoutId=setTimeout(function(){e._mounted&&e.props.requestInPageNotificationHide({id:t})},1e4))}),this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"onTransitionEnd",value:function(){var e=this,t=this.props.bind,a=t.show,n=t.toRemove,o=t.id;a||n?!a&&n&&setTimeout(function(){e._mounted&&e.props.requestInPageNotificationRemove({id:o})}):setTimeout(function(){e._mounted&&e.props.requestInPageNotificationToRemove({id:o})})}},{key:"onMouseEnter",value:function(){window.clearTimeout(this.hideTimeoutId)}},{key:"onMouseLeave",value:function(){var e,t=this;this.clickToClose||(e=this.props.bind.id,this.hideTimeoutId=setTimeout(function(){t._mounted&&t.props.requestInPageNotificationHide({id:e})},1e4))}},{key:"onCloseBtnClick",value:function(e){var t=this;e.stopPropagation();var a=this.props.bind.id;this.clickToClose=!0,setTimeout(function(){t._mounted&&t.props.requestInPageNotificationHide({id:a})})}},{key:"render",value:function(){var t=this,e=this.props.bind,a=e.icon,n=e.body,o=e.options,r=e.show,s=e.toRemove,i=o.onClick,l=void 0,l=r?this.ss("item-animation","show"):s?this.ss("item-animation","crush"):this.ss("item-animation");return p.default.createElement("div",{className:l,onClick:function(){return i()},onTransitionEnd:function(){return t.onTransitionEnd()},onMouseEnter:function(){return t.onMouseEnter()},onMouseLeave:function(){return t.onMouseLeave()}},p.default.createElement("div",{className:this.ss("item")},p.default.createElement("div",{className:this.ss("ifont","ifont-icon-close","close-btn"),onClick:function(e){return t.onCloseBtnClick(e)}}),p.default.createElement("img",{src:a,role:"presentation",className:this.ss("image")}),p.default.createElement("div",{className:this.ss("text")},n)))}}]),(o=w).propTypes={bind:d.default.shape({id:d.default.string,icon:d.default.string,body:d.default.string,options:d.default.shape({onClick:d.default.func}),show:d.default.bool,toRemove:d.default.bool}).isRequired,requestInPageNotificationShow:d.default.func.isRequired,requestInPageNotificationHide:d.default.func.isRequired,requestInPageNotificationToRemove:d.default.func.isRequired,requestInPageNotificationRemove:d.default.func.isRequired},n=o))||n)||n;function w(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}t.default=y},function(e,t){e.exports={"item-animation":"item-animation_2CsgFSF-",item:"item_2l65CHva","close-btn":"close-btn_2tCn3dVr",show:"show_342o-JpK",crush:"crush_1q4VdRJO",image:"image_3Qf5yY3v",text:"text_XVlAfWCp"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,r=function(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e};function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=P(["header.acceptRequestStatus"],["header.acceptRequestStatus"]),l=P(["header.declineRequestStatus"],["header.declineRequestStatus"]),c=P(["header.requestInPageNotificationShow"],["header.requestInPageNotificationShow"]),u=P(["header.requestInPageNotificationHide"],["header.requestInPageNotificationHide"]),d=P(["header.requestInPageNotificationToRemove"],["header.requestInPageNotificationToRemove"]),p=P(["header.requestInPageNotificationRemove"],["header.requestInPageNotificationRemove"]),f=P(["header.acceptRequest"],["header.acceptRequest"]),h=P(["header.declineRequest"],["header.declineRequest"]),m=N(a(2)),v=N(a(1)),_=N(a(3)),g=a(5),b=a(0),y=N(a(16)),w=N(a(13)),j=a(7),E=N(a(52)),k=N(a(4)),C=N(a(280)),S=N(a(6)),O=N(a(281));function N(e){return e&&e.__esModule?e:{default:e}}function P(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var T=(0,g.decorator)({acceptRequestStatus:(0,b.state)(i),declineRequestStatus:(0,b.state)(l),requestInPageNotificationShow:(0,b.signal)(c),requestInPageNotificationHide:(0,b.signal)(u),requestInPageNotificationToRemove:(0,b.signal)(d),requestInPageNotificationRemove:(0,b.signal)(p),acceptRequest:(0,b.signal)(f),declineRequest:(0,b.signal)(h)})(n=(0,k.default)(C.default)(n=(0,S.default)(O.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(x,_.default),r(x,[{key:"componentDidMount",value:function(){var e=this,t=this.props.bind.id;setTimeout(function(){e._mounted&&(e.props.requestInPageNotificationShow({id:t}),e.hideTimeoutId=setTimeout(function(){e._mounted&&e.props.requestInPageNotificationHide({id:t})},1e4))}),this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"onTransitionEnd",value:function(){var e=this,t=this.props.bind,a=t.show,n=t.toRemove,o=t.id;a||n?!a&&n&&setTimeout(function(){e._mounted&&e.props.requestInPageNotificationRemove({id:o})}):setTimeout(function(){e._mounted&&e.props.requestInPageNotificationToRemove({id:o})})}},{key:"onMouseEnter",value:function(){window.clearTimeout(this.hideTimeoutId)}},{key:"onMouseLeave",value:function(){var e,t=this;this.clickToClose||(e=this.props.bind.id,this.hideTimeoutId=setTimeout(function(){t._mounted&&t.props.requestInPageNotificationHide({id:e})},1e4))}},{key:"onCloseBtnClick",value:function(e){var t=this;e.stopPropagation();var a=this.props.bind.id;this.clickToClose=!0,setTimeout(function(){t._mounted&&t.props.requestInPageNotificationHide({id:a})})}},{key:"renderButtons",value:function(e,t,a,n){var o=this.props,r=o.bind.id,s=o.acceptRequestStatus,i=o.declineRequestStatus,l=o.acceptRequest,c=o.declineRequest,u=(0,j.isLoadingOrSucceeded)(i[e]),d=(0,j.isLoadingOrSucceeded)(s[e]);return"fixed_later"===n?v.default.createElement("div",{className:this.ss("buttons")},v.default.createElement(w.default,{label:this.__("view"),theme:"blue",size:"xsmall",loading:d,onClick:function(){return(0,E.default)("/guru?status=accepted")}})):v.default.createElement("div",{className:this.ss("buttons")},v.default.createElement(w.default,{label:this.__("decline"),size:"xsmall",loading:u,onClick:function(){return c({id:e,questionId:t,popupId:r})}}),v.default.createElement(w.default,{label:this.__("accept"),theme:"blue",size:"xsmall",loading:d,onClick:function(){return l({id:e,questionId:t,popupId:r,questionType:a,payMode:n})}}))}},{key:"render",value:function(){var t=this,e=this.props.bind,a=e.show,n=e.data,o=e.toRemove,r=void 0,r=a?this.ss("item-animation","show"):o?this.ss("item-animation","crush"):this.ss("item-animation"),s=n.budget,i=n.fullName,l=n.avatar,c=n.skillIds,u=n.skillMap,d=n.title,p=n.questionType,f=n.requestId,h=n.questionId,m=n.payMode,_=c.map(function(e){return v.default.createElement("div",{key:e,className:t.ss("tag")},u[e].name)}),g="fixed_later"===m?this.__("total_budget",{budget:s}):this.__("budget",{budget:s});return v.default.createElement("div",{className:r,onTransitionEnd:function(){return t.onTransitionEnd()},onMouseEnter:function(){return t.onMouseEnter()},onMouseLeave:function(){return t.onMouseLeave()}},v.default.createElement("div",{className:this.ss("item")},v.default.createElement("div",{className:this.ss("ifont","ifont-icon-close2","close-btn"),onClick:function(e){return t.onCloseBtnClick(e)}}),v.default.createElement("div",{className:this.ss("head-wrapper")},v.default.createElement(y.default,{user:{fullName:i,avatar:l},size:"xxxsmall"}),v.default.createElement("div",{className:this.ss("title")},this.__("live_help_request_from",{fullName:i})),v.default.createElement("div",{className:this.ss("type",p)},this.__(p))),v.default.createElement("div",{className:this.ss("description")},d),v.default.createElement("div",{className:this.ss("tags")},_),v.default.createElement("div",{className:this.ss("bottom")},v.default.createElement("div",{className:this.ss("budget")},g),this.renderButtons(f,h,p,m))))}}]),(o=x).propTypes={bind:m.default.shape({id:m.default.string,data:m.default.object,show:m.default.bool,toRemove:m.default.bool}).isRequired,acceptRequestStatus:m.default.object,declineRequestStatus:m.default.object,requestInPageNotificationShow:m.default.func.isRequired,requestInPageNotificationHide:m.default.func.isRequired,requestInPageNotificationToRemove:m.default.func.isRequired,requestInPageNotificationRemove:m.default.func.isRequired,acceptRequest:m.default.func.isRequired,declineRequest:m.default.func.isRequired},n=o))||n)||n)||n;function x(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,x),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}t.default=T},function(e,t){e.exports={"item-animation":"item-animation_1grrVr6e",item:"item_FbNl2u2p","close-btn":"close-btn_3BRPLDQu",show:"show_290L9IJn",crush:"crush_3gsgE987","head-wrapper":"head-wrapper_1F7HcwUp",title:"title_vn8Crnsf",type:"type_2iZBNUP-",realtime:"realtime_1Nn60e7b",schedule:"schedule_2UIKW_L2",description:"description_1HoxuI6F",tags:"tags_1geBwEza",tag:"tag_p4-B0pSn",bottom:"bottom_sUVp2SWR",budget:"budget_bLNigxCw",buttons:"buttons_1rHeG738"}},function(e,t){e.exports={live_help_request_from:"live_help_request_from_36hk",realtime:"realtime_aAEm",schedule:"schedule_2R9g",budget:"budget_1rpj",decline:"decline_21VW",accept:"accept_3Yvj",view:"view_WORU",total_budget:"total_budget_1c1E"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,r=function(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e};function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=E(["header.requestInPageNotificationShow"],["header.requestInPageNotificationShow"]),l=E(["header.requestInPageNotificationHide"],["header.requestInPageNotificationHide"]),c=E(["header.requestInPageNotificationToRemove"],["header.requestInPageNotificationToRemove"]),u=E(["header.requestInPageNotificationRemove"],["header.requestInPageNotificationRemove"]),d=j(a(2)),p=j(a(1)),f=j(a(3)),h=a(5),m=a(0),_=j(a(13)),g=j(a(52)),v=j(a(4)),b=j(a(283)),y=j(a(6)),w=j(a(284));function j(e){return e&&e.__esModule?e:{default:e}}function E(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var k=(0,h.decorator)({requestInPageNotificationShow:(0,m.signal)(i),requestInPageNotificationHide:(0,m.signal)(l),requestInPageNotificationToRemove:(0,m.signal)(c),requestInPageNotificationRemove:(0,m.signal)(u)})(n=(0,v.default)(b.default)(n=(0,y.default)(w.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(C,f.default),r(C,[{key:"componentDidMount",value:function(){var e=this,t=this.props.bind.id;setTimeout(function(){e._mounted&&(e.props.requestInPageNotificationShow({id:t}),e.hideTimeoutId=setTimeout(function(){e._mounted&&e.props.requestInPageNotificationHide({id:t})},1e4))}),this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"onTransitionEnd",value:function(){var e=this,t=this.props.bind,a=t.show,n=t.toRemove,o=t.id;a||n?!a&&n&&setTimeout(function(){e._mounted&&e.props.requestInPageNotificationRemove({id:o})}):setTimeout(function(){e._mounted&&e.props.requestInPageNotificationToRemove({id:o})})}},{key:"onMouseEnter",value:function(){window.clearTimeout(this.hideTimeoutId)}},{key:"onMouseLeave",value:function(){var e,t=this;this.clickToClose||(e=this.props.bind.id,this.hideTimeoutId=setTimeout(function(){t._mounted&&t.props.requestInPageNotificationHide({id:e})},1e4))}},{key:"onCloseBtnClick",value:function(e){var t=this;e.stopPropagation();var a=this.props.bind.id;this.clickToClose=!0,setTimeout(function(){t._mounted&&t.props.requestInPageNotificationHide({id:a})})}},{key:"renderButtons",value:function(){var e=this.props.bind.data,t=e.questionId,a="client"===e.role?"/client/requests?status=ongoing":"/guru",n="/workspace/"+t;return p.default.createElement("div",{className:this.ss("buttons")},p.default.createElement(_.default,{label:this.__("view_detail"),size:"xsmall",loading:!1,onClick:function(){return(0,g.default)(a)}}),p.default.createElement(_.default,{label:this.__("enter_workspace"),theme:"blue",size:"xsmall",loading:!1,onClick:function(){return(0,g.default)(n)}}))}},{key:"renderBottom",value:function(){var e=this.props.bind.data.sessionTime;return p.default.createElement("div",{className:this.ss("bottom")},p.default.createElement("div",{className:this.ss("icon-calender","ifont","ifont-filled-calendar")}),p.default.createElement("div",{className:this.ss("session-time")},this.__("session_time",{time:e})),this.renderButtons())}},{key:"render",value:function(){var t=this,e=this.props.bind,a=e.show,n=e.data,o=e.toRemove,r=void 0,r=a?this.ss("item-animation","show"):o?this.ss("item-animation","crush"):this.ss("item-animation"),s=n.role;return p.default.createElement("div",{className:r,onTransitionEnd:function(){return t.onTransitionEnd()},onMouseEnter:function(){return t.onMouseEnter()},onMouseLeave:function(){return t.onMouseLeave()}},p.default.createElement("div",{className:this.ss("item")},p.default.createElement("div",{className:this.ss("ifont","ifont-icon-close2","close-btn"),onClick:function(e){return t.onCloseBtnClick(e)}}),p.default.createElement("div",{className:this.ss("head-wrapper")},p.default.createElement("div",{className:this.ss("icon-reminder","ifont","ifont-filled-alarm")}),p.default.createElement("div",{className:this.ss("title")},this.__("session_start_reminder"))),p.default.createElement("div",{className:this.ss("description")},this.__("join_tips_"+s,n)),this.renderBottom()))}}]),(o=C).propTypes={bind:d.default.shape({id:d.default.string,data:d.default.object,show:d.default.bool,toRemove:d.default.bool}).isRequired,requestInPageNotificationShow:d.default.func.isRequired,requestInPageNotificationHide:d.default.func.isRequired,requestInPageNotificationToRemove:d.default.func.isRequired,requestInPageNotificationRemove:d.default.func.isRequired},n=o))||n)||n)||n;function C(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}t.default=k},function(e,t){e.exports={"item-animation":"item-animation_1_OylgIk",item:"item_29xVf28v","close-btn":"close-btn_1KuG7o-i",show:"show_25va-NWz",crush:"crush_ahTGEcXj","head-wrapper":"head-wrapper_yrfhBPVS","icon-reminder":"icon-reminder_kzy5ggVZ",title:"title_3FQlTzX8",description:"description_2TOSGGhg",bottom:"bottom_BcDVQtID","icon-calender":"icon-calender_1Gy0r0So","session-time":"session-time_3_YtZQyD",buttons:"buttons_2ZncTaau"}},function(e,t){e.exports={session_start_reminder:"session_start_reminder_1ySa",join_tips_client:"join_tips_client_oRVH",join_tips_guru:"join_tips_guru_3ZEs",session_time:"session_time_3_XH",view_detail:"view_detail_pTzv",enter_workspace:"enter_workspace_1gJB"}},function(e,t){e.exports={anchor:"anchor_2mfSIdDx"}},function(e,t){e.exports={login:"login_3i6Ldx-n","title-wrap":"title-wrap_1Bg6sImN",logo:"logo_3bjLoAX9","logo-image":"logo-image_13IqSCGm","button-close":"button-close_3a65ZuYL","content-wrap":"content-wrap_L1s83tSJ","loading-wrap":"loading-wrap_2HiMXoKE",loading:"loading_28nWbdZ_"}},function(e,t){e.exports={title:"title_1UoH"}},function(e,t,a){e.exports=a(8)(1010)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=M(["suggest.candidate.followMap"],["suggest.candidate.followMap"]),i=M(["header.recentSearch"],["header.recentSearch"]),l=M(["header.popularSearch"],["header.popularSearch"]),c=M(["header.getRecentSearchStatus"],["header.getRecentSearchStatus"]),u=M(["header.getPopularSearchStatus"],["header.getPopularSearchStatus"]),d=M(["suggest.candidate"],["suggest.candidate"]),p=M(["header.deleteSearchLog"],["header.deleteSearchLog"]),f=M(["header.initSearchData"],["header.initSearchData"]),h=T(a(2)),m=T(a(1)),_=T(a(3)),g=a(5),v=a(0),b=T(a(19)),y=T(a(56)),w=T(a(16)),j=T(a(14)),E=a(18),k=T(a(119)),C=a(7),S=T(a(4)),O=T(a(290)),N=T(a(6)),P=T(a(66));function T(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var I=a(49),R=(0,g.decorator)({followMap:(0,v.state)(s),recentSearch:(0,v.state)(i),popularSearch:(0,v.state)(l),recentSearchStatus:(0,v.state)(c),popularSearchStatus:(0,v.state)(u),candidate:(0,v.state)(d),deleteSearchLog:(0,v.signal)(p),initSearchData:(0,v.signal)(f)})(n=(0,S.default)(O.default)(n=(0,N.default)(P.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(D,_.default),o(D,[{key:"componentDidMount",value:function(){var e=this,t=this.refs.input,a=this.refs.defaultSearch;this.removeClickOutside=(0,E.addClickOutside)([t,a],function(){e.setState({showDefaultSearch:!1})})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"onSelected",value:function(e){var t=e.type,a=e.text,n=e.value,o=e.id;this.setState({showDefaultSearch:!1});var r="";switch(t){case"u":r="/u/"+o;break;case"t":r="/t/"+o;break;case"fullTime":case"partTime":case"internship":case"freelance":r="/jobs/"+o;break;case"q":r="/search?k="+encodeURIComponent('["q:'+a+'"]');break;case"game":case"showcase":case"article":r="/p/"+o;break;case"g":r="/g/"+(n||o);break;case"s":r="/s/"+o;break;case"c":r="/messages/c/"+o;break;case"autocomplete":case"autocomplete_header":r="/search?k="+encodeURIComponent('["q:'+n+'"]');break;default:return}(0,b.default)(r)}},{key:"onKeyDown",value:function(e){var t=e.keyCode,a=(this.props.candidate||{}).header;13!==t||a&&0!==a.length||(0,b.default)("/search")}},{key:"onSearchBoxClick",value:function(){var e=this.state.haveInitSearchData;this.setState({showDefaultSearch:!0}),e||(this.props.initSearchData(),this.setState({haveInitSearchData:!0}))}},{key:"renderUser",value:function(e){var t=e||{},a=t.id,n=t.name,o=t.text,r=this.props.followMap;return m.default.createElement("div",{className:this.ss("candidate")},m.default.createElement(w.default,{user:e,size:"xxxsmall",shape:"circle",isFollowed:!(!r||!r[a])}),m.default.createElement("div",{className:this.ss("candidate-info")},m.default.createElement("div",{className:this.ss("name")},n),o&&m.default.createElement("div",{className:this.ss("split")}),o&&m.default.createElement("div",{className:this.ss("description")},o)))}},{key:"renderItem",value:function(e){var t=e||{},a=t.type,n=t.name;return m.default.createElement("div",{className:this.ss("candidate")},m.default.createElement(w.default,{user:e,size:"xxxsmall",shape:"square"}),m.default.createElement("div",{className:this.ss("candidate-info")},m.default.createElement("div",{className:this.ss("name")},n),m.default.createElement("div",{className:this.ss("split")}),m.default.createElement("div",{className:this.ss("description")},this.__("candidate_type_"+a))))}},{key:"renderJob",value:function(e){var t=e||{},a=t.type,n=t.value;return m.default.createElement("div",{className:this.ss("candidate")},m.default.createElement(w.default,{user:e,size:"xxxsmall",shape:"square"}),m.default.createElement("div",{className:this.ss("candidate-info")},m.default.createElement("div",{className:this.ss("name")},n),m.default.createElement("div",{className:this.ss("split")}),m.default.createElement("div",{className:this.ss("description")},this.__("candidate_type_"+a))))}},{key:"renderProject",value:function(e){var t=e||{},a=t.type,n=t.name,o=t.avatar;return m.default.createElement("div",{className:this.ss("candidate")},m.default.createElement("div",{className:this.ss("image-wrapper")},m.default.createElement(j.default,{src:o||I,alt:n,sizes:"24px",width:24,height:24})),m.default.createElement("div",{className:this.ss("candidate-info")},m.default.createElement("div",{className:this.ss("name")},n),m.default.createElement("div",{className:this.ss("split")}),m.default.createElement("div",{className:this.ss("description")},this.__("candidate_type_"+a))))}},{key:"renderGroup",value:function(e){var t=e||{},a=t.type,n=t.name,o=t.avatar;return m.default.createElement("div",{className:this.ss("candidate")},m.default.createElement("div",{className:this.ss("image-wrapper")},m.default.createElement(j.default,{src:o||I,alt:n,sizes:"24px",width:24,height:24})),m.default.createElement("div",{className:this.ss("candidate-info")},m.default.createElement("div",{className:this.ss("name")},n),m.default.createElement("div",{className:this.ss("split")}),m.default.createElement("div",{className:this.ss("description")},this.__("candidate_type_"+a))))}},{key:"renderChannelAvatar",value:function(e){return e.avatar?m.default.createElement(w.default,{user:e,size:"xxxsmall",shape:"square"}):m.default.createElement("div",{className:this.ss("lobby-avatar")},m.default.createElement("span",{className:this.ss("icon","ifont","ifont-icons-open-eye")}))}},{key:"renderChannel",value:function(e){var t=e||{},a=t.type,n=t.name,o=n.startsWith("lobby_default")?this.__(n):n;return m.default.createElement("div",{className:this.ss("candidate")},this.renderChannelAvatar(e),m.default.createElement("div",{className:this.ss("candidate-info")},m.default.createElement("div",{className:this.ss("name")},o),m.default.createElement("div",{className:this.ss("split")}),m.default.createElement("div",{className:this.ss("description")},this.__("candidate_type_"+a))))}},{key:"renderSuggest",value:function(e){var t=(e||{}).name;return m.default.createElement("div",{className:this.ss("candidate")},m.default.createElement("div",{className:this.ss("candidate-info","suggest")},m.default.createElement("div",{className:this.ss("name")},(0,k.default)(t))))}},{key:"renderRecentSearch",value:function(){var n=this,e=this.props,t=e.recentSearch,a=void 0===t?[]:t,o=e.deleteSearchLog;if(0===a.length)return null;var r=a.map(function(e){var t=e.id,a=e.keyword;return m.default.createElement("div",{key:t,className:n.ss("item")},m.default.createElement("a",{className:n.ss("link"),href:"/search?k="+encodeURIComponent('["q:'+a+'"]')},m.default.createElement("div",{className:n.ss("icon","search","ifont","ifont-material-baseline-search")}),a),m.default.createElement("a",{className:n.ss("icon","close","ifont","ifont-icon-close"),onClick:function(){return o({keyword:a})}}))});return m.default.createElement("div",{className:this.ss("group")},m.default.createElement("div",{className:this.ss("group-title")},this.__("recent_searches"),m.default.createElement("a",{className:this.ss("clear"),onClick:function(){return o({deleteAll:!0})}},this.__("clear_all"))),r)}},{key:"renderPopularSearch",value:function(){var n=this,e=this.props.popularSearch,t=void 0===e?[]:e;if(0===t.length)return null;var a=[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(t));4<a.length&&(a=a.slice(0,4));var o=a.map(function(e){var t=e.id,a=e.keyword;return m.default.createElement("a",{key:t,className:n.ss("item","popular"),href:"/search?k="+encodeURIComponent('["q:'+a+'"]')},a)});return m.default.createElement("div",{className:this.ss("group")},m.default.createElement("div",{className:this.ss("group-title")},this.__("popular_searches")),o)}},{key:"renderDefaultSearch",value:function(){var e=this.props,t=e.popularSearch,a=void 0===t?[]:t,n=e.recentSearch,o=void 0===n?[]:n,r=e.recentSearchStatus,s=e.popularSearchStatus;return this.state.showDefaultSearch?(0,C.isLoading)(r)||(0,C.isLoading)(s)?m.default.createElement("div",{ref:"defaultSearch",className:this.ss("default-search")},m.default.createElement("div",{className:this.ss("loading-wrapper")},m.default.createElement("div",{className:this.ss("loading")}))):0===a.length&&0===o.length?null:m.default.createElement("div",{ref:"defaultSearch",className:this.ss("default-search")},m.default.createElement("div",{className:this.ss("scroller")},this.renderRecentSearch(),this.renderPopularSearch())):null}},{key:"render",value:function(){var t=this,e=this.props,a=e.hideMobileSearch,n=e.autoFocus,o=(e.candidate||{}).header,r=(void 0===o?[]:o).length-1;return m.default.createElement("div",{className:this.ss("search-wrap")},m.default.createElement("a",{className:this.ss("search-icon","ifont","ifont-material-baseline-search"),href:"/search"}),m.default.createElement(y.default,{st:"header",hintText:this.__("search_placeholder"),inputType:"single",ref:"input",addInputValue:!0,defaultIndex:0<=r?r:0,autoFocus:!!n,className:this.ss("search-box"),inputClassName:this.ss("search-input"),borderClassName:this.ss("search-border"),closeIconClassName:this.ss("close"),candidateClassName:this.ss("candidates-wrap"),activeClassName:this.ss("candidate-active"),onFocus:function(){return t.onSearchBoxClick()},onChange:function(){return t.setState({showDefaultSearch:!1})},onKeyDown:function(e){return t.onKeyDown(e)},onRenderCandidate:this.renderCandidate,onSelected:function(e){return t.onSelected(e)}}),m.default.createElement("button",{className:this.ss("mobile-button"),onClick:function(){return a&&a()}},this.__("cancel")),this.renderDefaultSearch())}}]),D.propTypes={followMap:h.default.object,recentSearch:h.default.array,recentSearchStatus:h.default.string,popularSearch:h.default.array,popularSearchStatus:h.default.string,candidate:h.default.object,autoFocus:h.default.bool,deleteSearchLog:h.default.func,hideMobileSearch:h.default.func,initSearchData:h.default.func},n=D))||n)||n)||n;function D(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,D);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=x(this,(e=D.__proto__||Object.getPrototypeOf(D)).call.apply(e,[this].concat(o)))).state={haveInitSearchData:!1},n.renderCandidate=function(e){var t=e||{},a=t.name;switch(t.type){case"q":return m.default.createElement("li",null,m.default.createElement("div",{className:n.ss("query")},n.__("view_results_for",{name:a})));case"u":return m.default.createElement("li",null,n.renderUser(e));case"t":case"s":return m.default.createElement("li",null,n.renderItem(e));case"fullTime":case"partTime":case"internship":case"freelance":return m.default.createElement("li",null,n.renderJob(e));case"game":case"showcase":case"article":return m.default.createElement("li",null,n.renderProject(e));case"g":return m.default.createElement("li",null,n.renderGroup(e));case"c":return m.default.createElement("li",null,n.renderChannel(e));case"autocomplete":return m.default.createElement("li",null,n.renderSuggest(e));case"autocomplete_header":return m.default.createElement("li",null,m.default.createElement("div",{className:n.ss("header")},n.__("search")),n.renderSuggest(e));default:return null}},x(n,t)}t.default=R},function(e,t){e.exports={"search-wrap":"search-wrap_D0fqU9nj","search-icon":"search-icon_L61rVVxd","search-box":"search-box_1vJf_gD9","search-border":"search-border_11vujxSW","search-input":"search-input_3nLoPTQo","candidates-wrap":"candidates-wrap_nG21aKsl",active:"active_3D32M6oe",close:"close_2O9nnLYy",header:"header_3lRuFfXA",candidate:"candidate_3dAL5ENV","image-wrapper":"image-wrapper_1_CDUvLi","lobby-avatar":"lobby-avatar_2bsIZ_m9",icon:"icon_3GuJymyP","candidate-info":"candidate-info_1ujcRrbs",suggest:"suggest_2WE1JH62",name:"name_2allSzZq",split:"split_eoHfxN2A",description:"description_mE0PKcmm",query:"query_12KDLPvw","default-search":"default-search_1WePwEnL",scroller:"scroller_1kJWz2RA",group:"group__6pGhXLM","group-title":"group-title_2xNS6m9L",clear:"clear_2cObBaFs",item:"item_11u3AyI1",link:"link_1BIOcGCd",search:"search_1qTRJ4SP",popular:"popular_3DvA6Z4u","loading-wrapper":"loading-wrapper_7PK2qPso",loading:"loading_1C0VceFA",hide:"hide_2o9uDsUm","mobile-button":"mobile-button_3h5v46Lh"}},function(e,t){e.exports={drawer:"drawer_3t3udqtQ",children:"children_UyaEgFF9",right:"right_ZNamn0lh","right-hidden":"right-hidden_3unyuOup","right-hidden-inner":"right-hidden-inner_1CQU6meH"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=M(["loginUser"],["loginUser"]),i=M(["messages.workspaces"],["messages.workspaces"]),l=M(["messages.channels"],["messages.channels"]),c=M(["messages.users"],["messages.users"]),u=M(["messages.lastMessages"],["messages.lastMessages"]),d=M(["messages.channelMembers"],["messages.channelMembers"]),p=M(["messages.readState"],["messages.readState"]),f=M(["messages.channelJobs"],["messages.channelJobs"]),h=M(["messages.channelTeams"],["messages.channelTeams"]),m=M(["messages.relationships"],["messages.relationships"]),_=M(["messages.connected"],["messages.connected"]),g=M(["header.messagesClose"],["header.messagesClose"]),v=x(a(2)),b=x(a(1)),y=x(a(3)),w=a(5),j=a(0),E=x(a(293)),k=a(18),C=a(500),S=x(a(15)),O=x(a(4)),N=x(a(298)),P=x(a(6)),T=x(a(66));function x(e){return e&&e.__esModule?e:{default:e}}function M(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var I=(0,w.decorator)({loginUser:(0,j.state)(s),workspaces:(0,j.state)(i),channels:(0,j.state)(l),users:(0,j.state)(c),lastMessages:(0,j.state)(u),channelMembers:(0,j.state)(d),readState:(0,j.state)(p),channelJobs:(0,j.state)(f),channelTeams:(0,j.state)(h),relationships:(0,j.state)(m),connected:(0,j.state)(_),messagesClose:(0,j.signal)(g)})(n=(0,O.default)(N.default)(n=(0,P.default)(T.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(R,y.default),o(R,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,k.addClickOutside)([this,"messages-action"],function(){e.props.messagesClose()})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"getDefaultChannelList",value:function(){var e=this.props,t=e.channels,a=e.readState,n=e.channelJobs,o=e.relationships,r=e.loginUser;return(0,C.getDefaultChannelList)({channels:t,readState:a,channelJobs:n,relationships:o,loginUser:r})}},{key:"renderNormalContent",value:function(){var r=this,e=this.props,s=e.channelJobs,i=e.channelTeams,l=e.lastMessages,c=e.users,u=e.channelMembers,d=e.readState,t=this.getDefaultChannelList().sort(function(e,t){var a=d[e.id],n=d[t.id],o=a.lastMessageId,r=n.lastMessageId;return o<r?1:r<o?-1:0}).filter(function(e,t){return t<5}).map(function(e){var t=e.id,a=e.type,n=e.liveChannelId,o=n?l[n]:l[t];return!e.recipientId&&e.recipient&&(e.recipientId=e.recipient.id),b.default.createElement(E.default,{type:"header",channel:e,key:t||a,active:!1,usersMap:c,lastMessage:o,members:u[t],channelJob:s[t],channelTeam:i[t],channelName:r.renderChannelName(e)})});return 0===t.length?b.default.createElement("div",{className:this.ss("no-messages")},this.__("no_messages")):t}},{key:"renderChannelName",value:function(e){var t=this.props,a=t.users,n=t.channelMembers,o=t.channelJobs,r=t.loginUser;return(0,C.getChannelName)({context:this.context,users:a,channelMembers:n,channelJobs:o,loginUser:r,channel:e})}},{key:"render",value:function(){var e=void 0,e=this.props.connected?this.renderNormalContent():b.default.createElement("div",{className:this.ss("loading")},b.default.createElement("div",{className:this.ss("loading-circle")},b.default.createElement("div",{className:this.ss("loading-circle-inner")})));return b.default.createElement("div",{className:this.ss("messages-preview")},b.default.createElement("div",{className:this.ss("pointer")}),b.default.createElement("div",{className:this.ss("cards-container")},e,b.default.createElement("a",{className:this.ss("all-messages"),target:"_blank",href:S.default.DEFAULT_URL+"/messages"},this.__("all_messages"))))}}]),R.propTypes={loginUser:v.default.object,channels:v.default.object,users:v.default.object,lastMessages:v.default.object,channelMembers:v.default.object,readState:v.default.object,channelJobs:v.default.object,channelTeams:v.default.object,relationships:v.default.object,connected:v.default.bool,workspaces:v.default.object,messagesClose:v.default.func},n=R))||n)||n)||n;function R(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,R),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}t.default=I},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e};function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=H(["loginUser"],["loginUser"]),c=H(["messages.relationships"],["messages.relationships"]),u=H(["messages.inProgressText"],["messages.inProgressText"]),d=H(["messages.selectedChannelIds.",""],["messages.selectedChannelIds.",""]),p=H(["messages.selectedWorkspaceId"],["messages.selectedWorkspaceId"]),f=H(["messages.exploreInfo.",""],["messages.exploreInfo.",""]),h=H(["messages.showCardOptionKey"],["messages.showCardOptionKey"]),m=H(["messages.workspaces"],["messages.workspaces"]),_=H(["messages.stickChannel"],["messages.stickChannel"]),g=H(["messages.unStickChannel"],["messages.unStickChannel"]),v=H(["messages.muteChannel"],["messages.muteChannel"]),b=H(["messages.unMuteChannel"],["messages.unMuteChannel"]),y=H(["messages.leaveChannel"],["messages.leaveChannel"]),w=H(["messages.setShowCardOptionKey"],["messages.setShowCardOptionKey"]),j=H(["message_btn"],["message_btn"]),E=W(a(2)),k=W(a(1)),C=a(5),S=a(0),O=W(a(3)),N=W(a(16)),P=a(18),T=W(a(15)),x=W(a(14)),M=W(a(4)),I=W(a(294)),R=a(6),D=W(R),L=W(a(295)),A=W(a(296)),U=W(a(79));function W(e){return e&&e.__esModule?e:{default:e}}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function H(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var q=/image\/(jpeg|pjpeg|gif|png)$/i,B=(0,C.decorator)({loginUser:(0,S.state)(l),relationships:(0,S.state)(c),inProgressText:(0,S.state)(u),selectedChannelId:(0,S.state)(d,(0,S.state)(p)),selectedWorkspaceId:(0,S.state)(p),exploreInfo:(0,S.state)(f,(0,S.state)(p)),showCardOptionKey:(0,S.state)(h),workspaces:(0,S.state)(m),stickChannel:(0,S.signal)(_),unStickChannel:(0,S.signal)(g),muteChannel:(0,S.signal)(v),unMuteChannel:(0,S.signal)(b),leaveChannel:(0,S.signal)(y),setShowCardOptionKey:(0,S.signal)(w)})(n=(0,M.default)(I.default)(n=(0,D.default)(L.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(F,O.default),r(F,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleClick)}},{key:"onGearClick",value:function(e,t){e.stopPropagation(),(0,this.props.setShowCardOptionKey)({channelId:t})}},{key:"onCardMouseOver",value:function(){this.setState({cardHover:!0})}},{key:"onCardMouseLeave",value:function(){this.setState({cardHover:!1})}},{key:"onMsgBtnClick",value:function(e,t){e.stopPropagation(),window.sendSignalToHost&&window.sendSignalToHost("channel_selected",{channelId:t})}},{key:"getLastDayMillis",value:function(e){var t=new Date(e);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()}},{key:"clearShowCardOptionKey",value:function(){var e=this.props,t=e.showCardOptionKey,a=e.setShowCardOptionKey;t&&a({channelId:""})}},{key:"handleStick",value:function(e){e.stopPropagation();var t=this.props,a=t.channel,n=t.stickChannel,o=t.unStickChannel;this.setState({cardHover:!1}),this.clearShowCardOptionKey(),(a.stickTimestamp?o:n)({channelId:a.id})}},{key:"handleMute",value:function(e){e.stopPropagation();var t=this.props,a=t.channel,n=t.muteChannel,o=t.unMuteChannel;this.setState({cardHover:!1}),this.clearShowCardOptionKey(),(a.isMute?o:n)({channelId:a.id})}},{key:"handleLeave",value:function(e){e.stopPropagation();var t=this.props,a=t.channel,n=t.leaveChannel;this.clearShowCardOptionKey(),n({channelId:a.id})}},{key:"renderThumbnail",value:function(e){var t=this.props,a=t.channel,n=t.channelJob,o=t.channelTeam,r=t.usersMap,s=t.loginUser,i=t.members,l=a.type,c=a.recipientId,u=a.thumbnail;if("direct"===l)return k.default.createElement(N.default,{user:r[c],size:"small"});if("private"===l){if(a.proposalId&&n.freelancerId===s.id)return k.default.createElement(N.default,{user:o,size:"small"});if(a.proposalId&&n.freelancerId!==s.id){var d=n.freelancerId;return k.default.createElement(N.default,{user:r[d]})}var p=Object.values(i).sort(function(e,t){return e.id<t.id?-1:e.id>t.id?1:0}).map(function(e){return r[e.userId]}),f=this.state.cardHover;return k.default.createElement(A.default,{highlight:f,active:e,users:p,type:this.props.type})}if("public"===l)return k.default.createElement("div",{className:this.ss("public-thumbnail")},k.default.createElement(x.default,{src:u,sizes:"100px"}));if("public-list"===l)return k.default.createElement("div",{className:this.ss("highlight-icon","projects-icon")},k.default.createElement("span",{className:this.ss("ifont","ifont-icons-project")}));if("applied-list"===l||"recruit-list"===l)return k.default.createElement("div",{className:this.ss("highlight-icon","job-icon")},k.default.createElement("span",{className:this.ss("ifont","ifont-icons-job")}));if("lobby"!==l)return null;var h=k.default.createElement("div",{className:this.ss("default-lobby-icon")},k.default.createElement("span",{className:this.ss("ifont","ifont-icons-open-eye")}));return u&&(h=k.default.createElement("div",{className:this.ss("lobby-thumbnail")},k.default.createElement(x.default,{src:u,sizes:"100px"}))),h}},{key:"renderName",value:function(){var e=this.props,t=e.channelName,a=e.channel.type,n=e.active,o="";return"public-list"===a?o="highlight-public":"recruit-list"===a||"applied-list"===a?o="highlight-job":"lobby"===a&&(o="highlight-lobby"),k.default.createElement("div",{className:this.ss("name",o,n&&"active")},t)}},{key:"renderTimestamp",value:function(){var e,t,a=this.props,n=a.lastMessage,o=a.active,r=a.type,s=void 0;return T.default.DISPLAY_TIME_IN_MESSENGER&&n?"header"===r||"hub-entry"===r?s=this.moment().isSame(n.timestamp,"day")?this.moment(n.timestamp).locale("en").format("hh:mm A"):(e=Math.floor((new Date-this.getLastDayMillis(n.timestamp))/864e5),this.__("header_time_span",{time:e})):"home"===r&&(s=this.moment().isSame(n.timestamp,"day")?this.moment(n.timestamp).locale("en").format("hh:mm A"):(t=Math.floor((new Date-this.getLastDayMillis(n.timestamp))/864e5),this.__("last_message_date",{days:t}))):s="",s?k.default.createElement("div",{className:this.ss("timestamp",o&&"active",r)},s):null}},{key:"renderLastMsg",value:function(){var e,t,a=this.props,n=a.lastMessage,o=a.channel,r=o.type,s=o.id,i=o.meetUpEventId,l=a.usersMap,c=a.active,u=a.members,d=a.loginUser,p=a.inProgressText,f=a.selectedChannelId,h=void 0,m=null;if("lobby"!==r||!u||u[d.id]&&u[d.id].guideFinished&&n){if(p&&p[s]&&f!==s)return k.default.createElement("div",{className:this.ss("desc-last-message","desc",c&&"active")},k.default.createElement("div",{className:this.ss("draft-hint")},this.__("draft_hint")),k.default.createElement("div",{className:this.ss("last-message-content")},p[s]));if(!n)return k.default.createElement("div",{className:this.ss("desc-last-message","desc",c&&"active")});h=n.deletedTime?this.__("deleted_message"):!n.contentParsedPlainText&&n.attachments.length?(e=n.attachments[0],q.test(e.contentType)?this.__("image_message"):this.__("file_message")):n.contentParsedPlainText,"direct"!==r&&(m=(t=l[n.authorId])?k.default.createElement("div",{className:this.ss("author-name")},this.__("author_name",{author:t.fullname})):null)}else m=null,h=i?this.__("meetup_welcome"):this.__("lobby_welcome");return k.default.createElement("div",{className:this.ss("desc-last-message","desc",c&&"active")},m,k.default.createElement("div",{className:this.ss("last-message-content")},h))}},{key:"renderCandidateCount",value:function(){var e=this.props,t=e.channel.candidateCount,a=e.active;return k.default.createElement("div",{className:this.ss("desc-candidate-count","desc",a&&"active")},this.__("candidate_count",{candidateCount:t}))}},{key:"renderDesc",value:function(){return"recruit-list"===this.props.channel.type?this.renderCandidateCount():this.renderLastMsg()}},{key:"renderOption",value:function(){var t=this,e=this.props,a=e.channel,n=e.members,o=e.loginUser,r=e.showCardOptionKey;if("direct"!==a.type&&"private"!==a.type&&"public"!==a.type&&"lobby"!==a.type)return null;var s=(a||{}).groupId,i=!!a.stickTimestamp,l=i?"unStick_option":"stick_option",c=a.isMute?"unMute_option":"mute_option",u=null;i?u=k.default.createElement("div",{className:this.ss("pin-or-mute-wrapper","pin-wrapper")},k.default.createElement("span",{className:this.ss("ifont","ifont-icons-pin","pin-icon")})):a.isMute&&(u=k.default.createElement("div",{className:this.ss("pin-or-mute-wrapper","mute-wrapper")},k.default.createElement("span",{className:this.ss("ifont","ifont-icons-mute","mute-icon")})));var d=k.default.createElement("span",{className:this.ss("ifont","ifont-icons-settings","gear-icon"),onClick:function(e){return t.onGearClick(e,a.id)}}),p=!1;("lobby"===a.type&&!s||"private"===a.type&&!a.proposalId)&&(n&&n[o.id]&&"owner"===n[o.id].role||(p=!0));var f=k.default.createElement("div",{className:this.ss("option-menu",r!==a.id&&"hidden")},k.default.createElement("div",{className:this.ss("stick-option","option-item"),onClick:function(e){return t.handleStick(e)}},this.__(l)),k.default.createElement("div",{className:this.ss("mute-option","option-item"),onClick:function(e){return t.handleMute(e)}},this.__(c)),p?k.default.createElement("div",{className:this.ss("leave-option","option-item"),onClick:function(e){return t.handleLeave(e)}},this.__("leave_btn")):null);return k.default.createElement("div",{className:this.ss("option",(i||a.isMute)&&"isStickOrMute",a.isMute&&"isMute")},u,d,f)}},{key:"renderStatus",value:function(e){var t=this.props,a=t.channel,n=a.type,o=a.recipientId,r=t.relationships,s=t.usersMap;if("direct"===n&&r[o]&&"accepted"===r[o].status){var i=s[o].presenceStatus;return k.default.createElement("div",{className:this.ss("status","status-"+i,e&&"active")})}return null}},{key:"renderUnread",value:function(e){var t=this.props.channel,a=t.hasUnread,n=t.mentionCount,o=t.type;return 0!==n?k.default.createElement("div",{className:this.ss("unread-count",e&&"active")},n<=99?n:"99+"):a?k.default.createElement("div",{className:this.ss("unread-hint",e&&"active",("public"===o||"lobby"===o)&&"public")}):null}},{key:"renderWorkspaceName",value:function(){var e=this.props,t=e.channel,a=e.workspaces,n=a&&t.workspaceId&&a[t.workspaceId];return k.default.createElement("div",{className:this.ss("workspace-name")},n&&n.organizationId?n.name:(0,R.i18n)(this.context,U.default,"workspace_connect",{}))}},{key:"render",value:function(){var t=this,e=this.props,a=e.active,n=e.onSelected,o=e.type,r=e.channel.id,s={};return"home"===o&&(s.onClick=function(){return n()}),"header"===o&&(s.target="_blank",s.href=r?T.default.DEFAULT_URL+"/messages/c/"+r:T.default.DEFAULT_URL+"/messages"),k.default.createElement("a",i({className:this.ss("card",o,a&&"active",this.state.cardHover&&"highlight")},s,{onMouseOver:function(){return t.onCardMouseOver()},onMouseLeave:function(){return t.onCardMouseLeave()}}),k.default.createElement("div",{className:this.ss("thumbnail")},this.renderThumbnail(a),this.renderUnread(a)),k.default.createElement("div",{className:this.ss("text")},k.default.createElement("div",{className:this.ss("card-top-wrapper",o)},k.default.createElement("div",{className:this.ss("card-top-left",o)},this.renderName(),this.renderStatus(a)),this.renderTimestamp()),k.default.createElement("div",{className:this.ss("card-bottom-wrapper")},this.renderDesc(),"header"===o?this.renderWorkspaceName():this.renderOption())),k.default.createElement("div",{className:this.ss("msg-btn",o),onClick:function(e){return t.onMsgBtnClick(e,r)}},this.__(j)))}}]),(o=F).propTypes={channel:E.default.object.isRequired,active:E.default.bool.isRequired,relationships:E.default.object,inProgressText:E.default.object,selectedChannelId:E.default.string,selectedWorkspaceId:E.default.string,exploreInfo:E.default.object,usersMap:E.default.object,members:E.default.object,lastMessage:E.default.object,channelJob:E.default.object,channelTeam:E.default.object,loginUser:E.default.object,channelName:E.default.string,type:E.default.oneOf(["header","home","hub-entry"]).isRequired,showCardOptionKey:E.default.string,workspaces:E.default.object,onSelected:E.default.func,stickChannel:E.default.func,unStickChannel:E.default.func,muteChannel:E.default.func,unMuteChannel:E.default.func,leaveChannel:E.default.func,setShowCardOptionKey:E.default.func},n=o))||n)||n)||n;function F(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,F);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=z(this,(e=F.__proto__||Object.getPrototypeOf(F)).call.apply(e,[this].concat(o)))).state={cardHover:!1},a.handleClick=function(e){(0,P.ClickOutside)(e,a,function(){a.clearShowCardOptionKey()})},z(a,t)}t.default=B},function(e,t){e.exports={card:"card_2G4pcnJT",header:"header_1cz55Y2o",active:"active_ishkVvem",status:"status_U5ku7dKT","unread-count":"unread-count_27XmPPdL","unread-hint":"unread-hint_XehkRdfh",name:"name_184TA-fE","card-top-wrapper":"card-top-wrapper_3C0vXDQ9",option:"option_2FK7Xufq",isStickOrMute:"isStickOrMute_vXs-E8Jo","gear-icon":"gear-icon_421_JT6B","option-menu":"option-menu_i7LI8BZU","pin-or-mute-wrapper":"pin-or-mute-wrapper_y7y5M-T_","pin-wrapper":"pin-wrapper_TAjp81Oa","mute-wrapper":"mute-wrapper_1HQA9Glw",text:"text_3kC_Oaop",home:"home_3ZTxyIMe",highlight:"highlight_2TAS4LAi",hidden:"hidden_1XS12JsR","option-item":"option-item_OZWzJerP","hub-entry":"hub-entry_2jXXuYmJ",desc:"desc_FCLgbQVj",thumbnail:"thumbnail_2x0OtVLV","public-thumbnail":"public-thumbnail_2tzGDoUs","lobby-thumbnail":"lobby-thumbnail_2i182iOJ","highlight-icon":"highlight-icon_pdedcrRh","projects-icon":"projects-icon_33gx3pbS","job-icon":"job-icon_27ZNa_J2","lobby-list-icon":"lobby-list-icon_Z5yEQ5lh","default-lobby-icon":"default-lobby-icon_2h5Qa0vV","status-online":"status-online_3Of5N2wU","status-offline":"status-offline_-Yc3Qw0k","status-idle":"status-idle_YrGTT4Yx","card-top-left":"card-top-left_zo5jRvmB","highlight-public":"highlight-public_3-xh2-Kd","highlight-job":"highlight-job_I3W3r6ar","highlight-lobby":"highlight-lobby_1og23ZY6",timestamp:"timestamp_2yPLkKkq","card-bottom-wrapper":"card-bottom-wrapper_3HnWFD3D","desc-last-message":"desc-last-message_2_86B9zC","author-name":"author-name_2PnUkJd6","last-message-content":"last-message-content_18ohi8d4",public:"public_2c5Njt0J","draft-hint":"draft-hint_3fK94MAb","msg-btn":"msg-btn_37EALoOz","workspace-name":"workspace-name_1ou7pmrP"}},function(e,t){e.exports={projects:"projects_22py",my_job:"my_job_296R",candidate_count:"candidate_count_34Sc",image_message:"image_message_2fxR",file_message:"file_message_kYEs",mute_option:"mute_option_nPpA",unMute_option:"unMute_option_3a4i",stick_option:"stick_option_2Lmz",unStick_option:"unStick_option_2f8Z",last_message_time:"last_message_time_3nCP",last_message_date:"last_message_date_1qan",author_name:"author_name_1sQ1",header_time_span:"header_time_span_1RFh",welcome_to_lobby:"welcome_to_lobby_1eyv",lobby_welcome:"lobby_welcome_2zpq",meetup_welcome:"meetup_welcome_1we6",draft_hint:"draft_hint_2cUa",lobby_list_desc:"lobby_list_desc_1qlA",deleted_message:"deleted_message_3389",leave_btn:"leave_btn_1cst",message_btn:"message_btn_1pb0"}},function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=m(l(2)),c=m(l(1)),i=m(l(3)),u=l(5),d=m(l(14)),p=l(11),f=m(l(4)),h=m(l(297));function m(e){return e&&e.__esModule?e:{default:e}}var _=(0,u.decorator)({})(a=(0,f.default)(h.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(g,i.default),o(g,[{key:"render",value:function(){var n=this,e=this.props,t=e.users,o=e.active,a=e.type,r=e.highlight,s=[],i=0;return t.forEach(function(e){var t,a;i++<3&&(a=t=void 0,e.isBot?t=c.default.createElement(d.default,{src:l(183),sizes:"60px"}):(t=e.avatar&&c.default.createElement(d.default,{src:e.avatar,sizes:"60px"}),a=!e.avatar&&(0,p.extractName)(e.name||e.fullName||e.fullname)),s.push(c.default.createElement("div",{key:"user_"+e.id,className:n.ss("user-avatar",!e.avatar&&"default-avatar",{1:"first",2:"second",3:"third"}[i],o&&"active",r&&"highlight")},t,a)))}),c.default.createElement("div",{className:this.ss("avatar-container",a)},s)}}]),(n=g).propTypes={active:s.default.bool,highlight:s.default.bool,users:s.default.arrayOf(s.default.object),type:s.default.oneOf(["header","home","search","hub-entry"]).isRequired},a=n))||a)||a;function g(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}t.default=_},function(e,t){e.exports={"avatar-container":"avatar-container_1aVivL1e",header:"header_mZU1hl7o","user-avatar":"user-avatar_3ou09lEO",active:"active_gDQI4Num",highlight:"highlight_3ueUQhZr","hub-entry":"hub-entry_3J64H7OA",first:"first_3cgVLDTq",second:"second_11a5RFzl",third:"third_37umiXfA","avatar-placeholder":"avatar-placeholder_2d0ho-8z","default-avatar":"default-avatar_BMT9uRPt",search:"search_3VJ3noBz"}},function(e,t){e.exports={"messages-preview":"messages-preview_3GVMRpM3",pointer:"pointer_GNdvpY-F","cards-container":"cards-container_3ossuHjJ","all-messages":"all-messages_2hyCuqZU","no-messages":"no-messages_1KYpFJVE",loading:"loading_3CEQoEwG","loading-circle":"loading-circle_BMuLrZcq","circle-rotate":"circle-rotate_3Id5q70I","loading-circle-inner":"loading-circle-inner_2cwhLUg0"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=v(["loginUser"],["loginUser"]),i=v(["currentUrl"],["currentUrl"]),l=g(a(2)),c=g(a(1)),u=g(a(3)),d=a(5),p=a(0),f=g(a(4)),h=g(a(300)),m=g(a(6)),_=g(a(301));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var b=(0,d.decorator)({loginUser:(0,p.state)(s),currentUrl:(0,p.state)(i)})(n=(0,f.default)(h.default)(n=(0,m.default)(_.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(y,u.default),o(y,[{key:"render",value:function(){var e=this.props,t=e.loginUser,a=e.currentUrl;if(!t)return null;if(!0!==t.emailRequired)return null;var n="/auth/email?redirect_to="+encodeURIComponent(a);return c.default.createElement("div",{className:this.ss("info-bar")},c.default.createElement("div",{className:this.ss("text")},this.__("text_prefix")),c.default.createElement("a",{className:this.ss("link"),href:n},this.__("link_fill")),c.default.createElement("div",{className:this.ss("text")},this.__("text_suffix")))}}]),y.propTypes={loginUser:l.default.object,currentUrl:l.default.string},n=y))||n)||n)||n;function y(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}t.default=b},function(e,t){e.exports={"info-bar":"info-bar_PzV5rWik",hide:"hide_1abUTxoy",link:"link_2ytBLggM",text:"text_3DKifsFk"}},function(e,t){e.exports={text_prefix:"text_prefix_2pHd",text_suffix:"text_suffix_21D6",link_fill:"link_fill_G2Db"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,r,s=function(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),e};function i(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=O(["currentUrl"],["currentUrl"]),c=O(["header.emailRequiredDialog.open"],["header.emailRequiredDialog.open"]),u=O(["header.doAddEmailStatus"],["header.doAddEmailStatus"]),d=O(["header.doAddEmail"],["header.doAddEmail"]),p=O(["header.closeEmailRequiredDialog"],["header.closeEmailRequiredDialog"]),f=C(a(2)),h=C(a(1)),m=C(a(3)),_=a(5),g=a(0),v=C(a(20)),b=C(a(13)),y=a(7),w=C(a(4)),j=C(a(303)),E=C(a(6)),k=C(a(304));function C(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var N=(0,_.decorator)({currentUrl:(0,g.state)(l),open:(0,g.state)(c),updateStatus:(0,g.state)(u),doAddEmail:(0,g.signal)(d),closeEmailRequiredDialog:(0,g.signal)(p)})(n=(0,w.default)(j.default)(n=(0,E.default)(k.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(P,m.default),s(P,[{key:"renderHead",value:function(){var e=this.props.currentUrl,t="/auth/email?redirect_to="+encodeURIComponent(e);return h.default.createElement("div",{className:this.ss("head")},h.default.createElement("div",{className:this.ss("text")},this.__("text_prefix")),h.default.createElement("a",{className:this.ss("link"),href:t},this.__("link_fill")),h.default.createElement("div",{className:this.ss("text")},this.__("text_suffix")))}},{key:"renderBody",value:function(){var a=this,e=[this.__("item_post_job"),this.__("item_post_article"),this.__("item_post_showcase"),this.__("item_post_game"),this.__("item_create_company"),this.__("item_create_school"),this.__("item_create_chat"),this.__("item_other")].map(function(e,t){return h.default.createElement("div",{key:"item"+t,className:a.ss("item")},e)});return h.default.createElement("div",{className:this.ss("body")},h.default.createElement("div",{className:this.ss("description")},this.__("description")),h.default.createElement("div",{className:this.ss("items")},e))}},{key:"renderFoot",value:function(){var e=this.props.updateStatus,t=(0,y.isLoadingOrSucceeded)(e),a=[];return a.push(h.default.createElement("div",{key:"ok",className:this.ss("button-ok")},h.default.createElement(b.default,{loading:t,theme:"blue",size:"xlarge",widthType:"full",label:this.__("button_ok"),onClick:this.onConfirm}))),h.default.createElement("div",{className:this.ss("foot")},a)}},{key:"render",value:function(){var e=this.props.open;return h.default.createElement(v.default,{open:e,position:"center",onCloseModal:this.onClose},h.default.createElement("div",{className:this.ss("content")},this.renderHead(),this.renderBody(),this.renderFoot(),h.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},h.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close2")}))))}}]),r=o=P,o.propTypes={currentUrl:f.default.string,open:f.default.bool,updateStatus:f.default.string,doAddEmail:f.default.func,closeEmailRequiredDialog:f.default.func},o.defaultProps={},n=r))||n)||n)||n;function P(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,P);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=S(this,(e=P.__proto__||Object.getPrototypeOf(P)).call.apply(e,[this].concat(o)))).state={},a.onConfirm=function(){a.props.doAddEmail&&a.props.doAddEmail()},a.onClose=function(){a.props.closeEmailRequiredDialog&&a.props.closeEmailRequiredDialog()},S(a,t)}t.default=N},function(e,t){e.exports={content:"content_2hX3k17u","button-close":"button-close_2CXdjA3t",head:"head_2CWAHYJP",link:"link_1ngpa4Lx",body:"body_3qEmSGQN",description:"description_1TLO8mzS",items:"items_3j9YBaDI",item:"item_BB8lpUWX",foot:"foot_33gBn0GV","button-ok":"button-ok_2HEPGnWz"}},function(e,t){e.exports={text_prefix:"text_prefix_2PeQ",text_suffix:"text_suffix_xT36",link_fill:"link_fill_Yj9F",description:"description_1hDP",item_post_job:"item_post_job_2_NU",item_post_article:"item_post_article_1ANi",item_post_showcase:"item_post_showcase_TEju",item_post_game:"item_post_game_1-HS",item_create_company:"item_create_company_1QNo",item_create_school:"item_create_school_2CYU",item_create_chat:"item_create_chat_2_tZ",item_other:"item_other_2LjZ",button_ok:"button_ok_35US"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=C(["messages.users"],["messages.users"]),i=C(["messages.bubbleMessages.messagesQueue"],["messages.bubbleMessages.messagesQueue"]),l=C(["messages.bubbleMessages.messageToReply"],["messages.bubbleMessages.messageToReply"]),c=C(["messages.bubbleMessages.messageToReplyStatus"],["messages.bubbleMessages.messageToReplyStatus"]),u=C(["messages.bubbleTryToReplyMessage"],["messages.bubbleTryToReplyMessage"]),d=C(["messages.bubbleReplyMessage"],["messages.bubbleReplyMessage"]),p=C(["messages.bubbleCloseMessage"],["messages.bubbleCloseMessage"]),f=k(a(2)),b=k(a(1)),h=k(a(3)),m=a(5),_=a(0),y=k(a(16)),w=a(7),g=k(a(4)),v=k(a(306)),j=k(a(6)),E=k(a(307));function k(e){return e&&e.__esModule?e:{default:e}}function C(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var S=(0,m.decorator)({users:(0,_.state)(s),messagesQueue:(0,_.state)(i),messageToReply:(0,_.state)(l),messageToReplyStatus:(0,_.state)(c),bubbleTryToReplyMessage:(0,_.signal)(u),bubbleReplyMessage:(0,_.signal)(d),bubbleCloseMessage:(0,_.signal)(p)})(n=(0,g.default)(v.default)(n=(0,j.default)(E.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(O,h.default),o(O,[{key:"componentDidUpdate",value:function(e){var t,a,n=e.messagesQueue,o=e.messageToReply,r=e.messageToReplyStatus,s=this.props,i=s.messagesQueue,l=s.messageToReply,c=s.messageToReplyStatus,u=s.bubbleCloseMessage,d=!1;l!==o?(this._messageToReplyTimeout&&(clearTimeout(this._messageToReplyTimeout),this._messageToReplyTimeout=null),d=!0):c!==r&&(d=!0),d&&null!==l&&["succeeded","failed"].includes(c)&&(this._messageToReplyTimeout&&(clearTimeout(this._messageToReplyTimeout),this._messageToReplyTimeout=null),t=l.id,this._messageToReplyTimeout=setTimeout(function(){return u({messageIds:[t]})},(0,w.isSucceeded)(c)?2e3:1e4)),i!==n&&(this._messagesQueueTimeout&&(clearTimeout(this._messagesQueueTimeout),this._messagesQueueTimeout=null),i.length&&(a=i.map(function(e){return e.id}),this._messagesQueueTimeout=setTimeout(function(){return u({messageIds:a})},1e4)))}},{key:"onKeyDown",value:function(e){e.stopPropagation();var t,a,n=e.keyCode,o=e.target;13===n&&(t=this.props.messageToReply,a=this.props.bubbleReplyMessage,t&&""!==o.value&&a({messageId:t.id,content:o.value}))}},{key:"render",value:function(){var a=this,e=this.props,t=e.messagesQueue,n=e.messageToReply,o=e.messageToReplyStatus,r=e.users,s=this.props,i=s.bubbleTryToReplyMessage,l=s.bubbleCloseMessage;if(!t.length&&!n)return null;var c,u,d,p,f,h,m,_,g,v=[];return n&&((0,w.isSucceeded)(o)?v.push(b.default.createElement("div",{key:"replySucceeded",className:this.ss("reply-succeeded")},b.default.createElement("div",{className:this.ss("success-logo","ifont","ifont-selected")}),b.default.createElement("div",{className:this.ss("success-hint")},this.__("success_hint")),b.default.createElement("a",{href:"/messages/c/"+n.channelId,target:"_blank",className:this.ss("to-messenger")},this.__("to_messenger")),b.default.createElement("div",{className:this.ss("close-btn","ifont","ifont-icon-close"),onClick:function(){return l({messageIds:[n.id]})}}))):(c=r[n.authorId],u=n.contentParsedPlainText,n.attachments.forEach(function(e){""!==u&&(u+="\n"),u+=e.contentType.startsWith("image/")?a.__("image"):a.__("attachment")}),v.push(b.default.createElement("div",{key:"messageToReply",className:this.ss("message-to-reply")},b.default.createElement("div",{className:this.ss("close-btn","ifont","ifont-icon-close"),onClick:function(){return l({messageIds:[n.id]})}}),b.default.createElement("div",{className:this.ss("bubble-header"),onClick:function(){return window.open("/messages/c/"+n.channelId,"_blank")}},b.default.createElement("div",{className:this.ss("avatar-wrapper")},b.default.createElement(y.default,{user:c,size:"xsmall"})),b.default.createElement("div",{className:this.ss("desc-wrapper")},b.default.createElement("a",{className:this.ss("user-name")},c.fullname),b.default.createElement("div",{className:this.ss("timestamp")},this.__("message_time",{time:n.timestamp})))),b.default.createElement("div",{className:this.ss("message-content")},u),""===o&&b.default.createElement("div",{className:this.ss("input-wrapper")},b.default.createElement("input",{className:this.ss("message-input"),onKeyDown:function(e){return a.onKeyDown(e)},placeholder:this.__("message_hint",{name:c.fullname})})),(0,w.isLoading)(o)&&b.default.createElement("div",{className:this.ss("sending")},b.default.createElement("span",{className:this.ss("sending-inner")})),"failed"===o&&b.default.createElement("a",{href:"/messages/c/"+n.channelId,target:"_blank",className:this.ss("to-messenger")},this.__("to_messenger")))))),n||1!==t.length?t.length&&(d={},p=[],t.forEach(function(e){d[e.authorId]||(d[e.authorId]=1,p.push(r[e.authorId].fullname))}),3<p.length&&(p=p.slice(0,2).concat([this.__("other_people",{count:p.length-2})])),f="",p.forEach(function(e,t){0<t&&t===p.length-1?f+=a.__("and"):0<t&&(f+=", "),f+=e}),h=this.__("message_summary",{messagesCount:t.length,usersStr:f}),v.push(b.default.createElement("div",{key:"messagesSummary",className:this.ss("messages-summary")},b.default.createElement("div",{className:this.ss("bubble-header")},b.default.createElement("span",{className:this.ss("close-btn","ifont","ifont-icon-close"),onClick:function(){return l({messageIds:t.map(function(e){return e.id})})}})),b.default.createElement("div",{className:this.ss("message-content")},h),b.default.createElement("a",{href:"/messages/c/"+t[t.length-1].channelId,target:"_blank",className:this.ss("to-messenger")},this.__("to_messenger"))))):(m=t[0],_=r[m.authorId],g=m.contentParsedPlainText,m.attachments.forEach(function(e){""!==g&&(g+="\n"),g+=e.contentType.startsWith("image/")?a.__("image"):a.__("attachment")}),v.push(b.default.createElement("div",{key:"messageToReply",className:this.ss("message-to-reply")},b.default.createElement("div",{className:this.ss("close-btn","ifont","ifont-icon-close"),onClick:function(){return l({messageIds:[m.id]})}}),b.default.createElement("div",{className:this.ss("bubble-header"),onClick:function(){return window.open("/messages/c/"+m.channelId,"_blank")}},b.default.createElement("div",{className:this.ss("avatar-wrapper")},b.default.createElement(y.default,{user:_,size:"xsmall"})),b.default.createElement("div",{className:this.ss("desc-wrapper")},b.default.createElement("div",{className:this.ss("user-name")},_.fullname),b.default.createElement("div",{className:this.ss("timestamp")},this.__("message_time",{time:m.timestamp})))),b.default.createElement("div",{className:this.ss("message-content")},g),b.default.createElement("div",{className:this.ss("input-wrapper")},b.default.createElement("input",{className:this.ss("message-input"),onFocus:function(){return i({messageId:m.id})},placeholder:this.__("message_hint",{name:_.fullname})}))))),b.default.createElement("div",{className:this.ss("bubble-wrapper")},v)}}]),O.propTypes={users:f.default.object,messagesQueue:f.default.array,messageToReply:f.default.object,messageToReplyStatus:f.default.string,bubbleTryToReplyMessage:f.default.func,bubbleReplyMessage:f.default.func,bubbleCloseMessage:f.default.func},n=O))||n)||n)||n;function O(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}t.default=S},function(e,t){e.exports={"bubble-wrapper":"bubble-wrapper_1ljdZiWC","messages-summary":"messages-summary_r3i0_hZv","message-to-reply":"message-to-reply_2QwgigXQ","reply-succeeded":"reply-succeeded_VSJ_OUxi","bubble-header":"bubble-header_37GysP6F","desc-wrapper":"desc-wrapper_2rDkUVWU","user-name":"user-name_KZ-pmf8n",timestamp:"timestamp_22lOm9xw","close-btn":"close-btn_1zBa3TNi","message-content":"message-content_22M9kLb8","input-wrapper":"input-wrapper_26EcdLy8","message-input":"message-input_1Q2DUdHR","to-messenger":"to-messenger_h1dI_7cb","success-logo":"success-logo_3-a8chgy","success-hint":"success-hint_2ERFlWxi",sending:"sending_3HcaI_dO",spinner:"spinner_3EKJua4G","sending-inner":"sending-inner_3kGmIJQ6","animation-loading":"animation-loading_2trKxt4o"}},function(e,t){e.exports={message_hint:"message_hint_3V1i",success_hint:"success_hint_2s22",message_time:"message_time_2TI1",to_messenger:"to_messenger_1vCn",and:"and_mXsJ",other_people:"other_people_qZhL",message_summary:"message_summary_3ZDY",image:"image_3Z_0",attachment:"attachment_1ZYm"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=E(["loginUser"],["loginUser"]),i=E(["loginUser.expiredJobs"],["loginUser.expiredJobs"]),l=w(a(2)),c=w(a(1)),u=w(a(3)),d=a(5),p=a(0),f=w(a(48)),h=w(a(17)),m=w(a(20)),_=w(a(13)),g=w(a(4)),v=w(a(309)),b=w(a(6)),y=w(a(310));function w(e){return e&&e.__esModule?e:{default:e}}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var k=(0,d.decorator)({loginUser:(0,p.state)(s),expiredJobs:(0,p.state)(i)})(n=(0,g.default)(v.default)(n=(0,b.default)(y.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(C,u.default),o(C,[{key:"onRemind",value:function(){this.close()}},{key:"onManage",value:function(){this.close(),location.href="/my/jobs?type=closed"}},{key:"onOpenJob",value:function(e){f.default.set("EJ",this.props.loginUser.id+"=skip"),window.open("/jobs/"+e)}},{key:"close",value:function(){f.default.set("EJ",this.props.loginUser.id+"=skip"),this.setState({show:!1})}},{key:"renderItem",value:function(e,t){var a=this,n=null;return"freelance"===t.jobType&&(n=c.default.createElement("span",{className:this.ss("tag-task")},this.__("tag_task"))),c.default.createElement("div",{key:e,className:this.ss("item")},c.default.createElement("div",{className:this.ss("item-title")},c.default.createElement("a",{onClick:function(){return a.onOpenJob(t.id)}},t.title),n),c.default.createElement("div",{className:this.ss("company-name")},t.teamName))}},{key:"render",value:function(){var a=this,e=this.props.expiredJobs;if(!e||0===e.length)return null;var t=(e||[]).map(function(e,t){return a.renderItem(t,e)});return c.default.createElement(m.default,{open:this.state.show,className:this.ss("dialog"),position:"center",title:this.__("title")},c.default.createElement("div",{className:this.ss("content-wrap")},c.default.createElement("div",{className:this.ss("header")},c.default.createElement("div",{className:this.ss("title")},this.__("title")),c.default.createElement("div",{className:this.ss("close","ifont","ifont-icons_close","icon-close"),onClick:function(){return a.onRemind()}})),c.default.createElement(h.default,null,c.default.createElement("div",{className:this.ss("content")},c.default.createElement("div",{className:this.ss("note")},this.__("note",{count:e.length})),c.default.createElement("div",{className:this.ss("list")},t))),c.default.createElement("div",{className:this.ss("button-wrap")},c.default.createElement(_.default,{className:this.ss("btn","btn--remind"),label:this.__("btn_remind"),onClick:function(){return a.onRemind()}}),c.default.createElement(_.default,{theme:"thirdly",className:this.ss("btn","btn--manage"),label:this.__("btn_manage"),onClick:function(){return a.onManage()}}))))}}]),C.propTypes={loginUser:l.default.object,expiredJobs:l.default.array},n=C))||n)||n)||n;function C(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=j(this,(e=C.__proto__||Object.getPrototypeOf(C)).call.apply(e,[this].concat(o)))).state={show:a.props.expiredJobs&&0<a.props.expiredJobs.length},j(a,t)}t.default=k},function(e,t){e.exports={btn:"btn_uzkPBq-V","btn--remind":"btn--remind_1YJzNH7U",dialog:"dialog_1hD8_PnF","content-wrap":"content-wrap_H_jGcy5r",header:"header_xq_gZ-Xe",title:"title_2u_X5r_F","icon-close":"icon-close_2A7S_1D4",content:"content_1MksersL",note:"note_32izEHqr",list:"list_1a2dP0YD",item:"item_1YWUBQQM","item-title":"item-title_3kmzZr20","company-name":"company-name_2leXbCl-","tag-task":"tag-task_3_UKP4ad","button-wrap":"button-wrap_2HNYMzWc"}},function(e,t){e.exports={title:"title_2imo",note:"note_Rl6s",btn_remind:"btn_remind_1m1q",btn_manage:"btn_manage_2x23",tag_task:"tag_task_fA30"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=x(["currentPath"],["currentPath"]),i=x(["loginUser"],["loginUser"]),l=x(["messages.channels"],["messages.channels"]),c=x(["messages.call.ringing"],["messages.call.ringing"]),u=x(["messages.call.callInfo"],["messages.call.callInfo"]),d=x(["messages.users"],["messages.users"]),p=x(["messages.sessionId"],["messages.sessionId"]),f=x(["messages.window.isMaster"],["messages.window.isMaster"]),h=x(["messages.createCall"],["messages.createCall"]),m=x(["messages.declineCall"],["messages.declineCall"]),_=x(["messages.channelSelect"],["messages.channelSelect"]),g=T(a(2)),v=T(a(1)),b=T(a(3)),y=a(5),w=a(0),j=T(a(19)),E=T(a(16)),k=T(a(4)),C=T(a(312)),S=T(a(6)),O=T(a(313)),N=T(a(155)),P=T(a(156));function T(e){return e&&e.__esModule?e:{default:e}}function x(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var M=(0,y.decorator)({currentPath:(0,w.state)(s),loginUser:(0,w.state)(i),channels:(0,w.state)(l),ringing:(0,w.state)(c),callInfo:(0,w.state)(u),users:(0,w.state)(d),sessionId:(0,w.state)(p),windowIsMaster:(0,w.state)(f),createCall:(0,w.signal)(h),declineCall:(0,w.signal)(m),channelSelect:(0,w.signal)(_)})(n=(0,k.default)(C.default)(n=(0,S.default)(O.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(I,b.default),o(I,[{key:"needsIncomingRing",value:function(){var e=this.props,t=e.ringing,a=e.windowIsMaster;return!!t.length&&!!a}},{key:"needsOutgoingRing",value:function(){var e=this.props,t=e.callInfo,n=e.sessionId,o=e.loginUser;return!!Object.values(t).find(function(t){if(t[o.id]&&1<Object.values(t).length&&t[o.id].sessionId===n&&t[o.id].isFirst){var a=0;return Object.keys(t).forEach(function(e){e!==o.id&&"RINGING"!==t[e].status||(a+=1)}),a===Object.values(t).length}return!1})}},{key:"acceptCall",value:function(e,t){var a=this.props,n=a.currentPath,o=a.createCall,r=a.channelSelect;n.startsWith("/messages")?(o({channelId:e}),r({channelId:e,workspaceId:t})):(0,j.default)("/messages/c/"+e)}},{key:"render",value:function(){var r=this,e=this.props,s=e.users,t=e.ringing,i=e.declineCall,l=e.channels;return v.default.createElement("div",{className:this.ss("container")},t.map(function(e){var t=e.channelId,a=e.fromUserId,n=s[a],o=l[t];return v.default.createElement("div",{key:t,className:r.ss("call-inform","show")},v.default.createElement("div",{className:r.ss("title")},r.__("title")),n&&v.default.createElement("div",{className:r.ss("avatar-wrapper")},v.default.createElement(E.default,{user:n,size:"large"}),v.default.createElement("div",{className:r.ss("circle")},v.default.createElement("div",{className:r.ss("point")}))),n&&v.default.createElement("div",{className:r.ss("status")},r.__("making_call",{fullname:n.fullname})),v.default.createElement("div",{className:r.ss("buttons")},v.default.createElement("div",{className:r.ss("accept-btn"),onClick:function(){return r.acceptCall(t,o.workspaceId)}},r.__("accept_btn_label")),v.default.createElement("div",{className:r.ss("decline-btn"),onClick:function(){return i({channelId:t})}},r.__("decline_btn_label"))))}),this.needsIncomingRing()&&v.default.createElement("audio",{src:N.default,autoPlay:!0,loop:!0}),this.needsOutgoingRing()&&v.default.createElement("audio",{src:P.default,autoPlay:!0,loop:!0}))}}]),I.propTypes={currentPath:g.default.string,loginUser:g.default.object,channels:g.default.object,ringing:g.default.array,callInfo:g.default.object,users:g.default.object,sessionId:g.default.string,windowIsMaster:g.default.bool,createCall:g.default.func,declineCall:g.default.func,channelSelect:g.default.func},n=I))||n)||n)||n;function I(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,I),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}t.default=M},function(e,t){e.exports={container:"container_315YV4jY","call-inform":"call-inform_1quSUqmO",show:"show_1TOrhKUJ",buttons:"buttons_ZZB2pd5w","accept-btn":"accept-btn_2bfyCr0R","decline-btn":"decline-btn_LTgY0ZrQ",title:"title_1lxMcSqH",status:"status_1G3xaugZ","avatar-wrapper":"avatar-wrapper_2B1EeYaS",circle:"circle_2oTzXmUM","call-rotate":"call-rotate_vEZm0UQm",point:"point_1m6f5jan"}},function(e,t){e.exports={title:"title_PAN6",making_call:"making_call_1ANy",accept_btn_label:"accept_btn_label_1ani",decline_btn_label:"decline_btn_label_cgGc"}},function(e,t){e.exports={"content-wrap":"content-wrap_2BVvXVFj",content:"content_1t0tE2rR",title:"title_1TLkYxHM","description-top":"description-top_1jjQRxCK","description-bottom":"description-bottom_1F2ScTJr","post-later":"post-later_3MZQ5in-","type-cards":"type-cards_2_LGOyRy",card:"card_1dBBoTqX",game:"game_11cXBfbg","card-icon":"card-icon_3fW2lqKE",article:"article_sLKK9hOz",showcase:"showcase_1tABhI1E","card-title":"card-title_3GfeVIY-","card-description":"card-description_1eAKFUq8","card-button":"card-button_2b7HYOjw","webgl-cards":"webgl-cards_21HUOqFt",icon:"icon_2tJ8uuhA",webgl:"webgl_3oBVHPg2",hide:"hide_PWWSLJUC",notice:"notice_2usEkPgI","notice-info":"notice-info_nl_AR3Ta","notice-title":"notice-title_1xeXA-tu","notice-description":"notice-description_3m9bllep","notice-button":"notice-button_1iu4SOc2",button:"button_3nnMOXQl"}},function(e,t){e.exports={title:"title_d0Lr",title_game_select:"title_game_select_1VDV",description_top:"description_top_Alsm",description_bottom:"description_bottom_2MVi",description_game_select:"description_game_select_4n-D",return_to_main:"return_to_main_b570",article_title:"article_title_3fFx",article_description:"article_description_3jl5",article_create_button:"article_create_button_3tzm",game_title:"game_title_26v0",game_description:"game_description_1A4B",game_create_button:"game_create_button_1uay",showcase_title:"showcase_title_2hti",showcase_description:"showcase_description_3r7v",showcase_create_button:"showcase_create_button_28WK",notice_title:"notice_title_24c8",notice_description:"notice_description_2LzL",button_ok:"button_ok_O190",select_webgl_title:"select_webgl_title_1h63",select_webgl_description:"select_webgl_description_3bEe",select_webgl_post:"select_webgl_post_2dT_",select_game_title:"select_game_title_3NZC",select_game_description:"select_game_description_3ONl",select_game_post:"select_game_post_2Tb6"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=v(["currentPath"],["currentPath"]),i=v(["homeType"],["homeType"]),l=g(a(2)),c=g(a(1)),u=g(a(3)),d=a(5),p=a(0),f=g(a(4)),h=g(a(317)),m=g(a(6)),_=g(a(318));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var b=(0,d.decorator)({currentPath:(0,p.state)(s),homeType:(0,p.state)(i)})(n=(0,f.default)(h.default)(n=(0,m.default)(_.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(y,u.default),o(y,[{key:"isActive",value:function(e,t){var a=1<arguments.length&&void 0!==t?t:"/",n=this.props,o=n.currentPath,r=void 0===o?"/":o,s=n.homeType;if(a===r)return!0;var i=a.split("?");return 1<i.length&&i[0]===r&&"/"===i[0]&&e===s}},{key:"renderNew",value:function(){return c.default.createElement("div",{className:this.ss("new")},this.__("new"))}},{key:"render",value:function(){var r=this,e=this.props.onClose,t=[{id:"groups",icon:"icons-group",link:"/groups/discover"},{id:"hottest",icon:"hot",link:"/?path=hottest"},{id:"feed",icon:"icons-feed",link:"/?path=feed"},{id:"connections",icon:"icons-connection",link:"/connections"},{id:"projects",icon:"icons-project",link:"/p"},{id:"jobs",icon:"icons-job",link:"/jobs"},{id:"recruit",icon:"icons-recruit",link:"/my/jobs"},{id:"talents",icon:"icons-talent",link:"/search?t=user"},{id:"companies",icon:"icons-company-v2",link:"/search?t=team"},{id:"schools",icon:"icons-school",link:"/search?t=school"},{id:"channels",icon:"icons-channel",link:"/search?t=channel"},{id:"contests",icon:"icons-contest",link:"/showcases"},{id:"events",icon:"icons_calendar",link:"/events"}].map(function(e){var t=e.id,a=e.icon,n=e.link,o=e.renderChild;return c.default.createElement("a",{key:"menu_"+t,className:r.ss("menu",r.isActive(t,n)&&"active"),href:n},c.default.createElement("div",{className:r.ss("icons-wrapper",t)},c.default.createElement("div",{className:r.ss("icons","ifont","ifont-"+a)})),c.default.createElement("div",{className:r.ss("text")},r.__(t)),o&&o())});return c.default.createElement("div",{className:this.ss("mobile-menu")},c.default.createElement("div",{className:this.ss("close-wrapper")},c.default.createElement("div",{className:this.ss("icon-close","ifont","ifont-icon-close2"),onClick:function(){return e&&e()}})),c.default.createElement("div",{className:this.ss("scroller-wrapper")},c.default.createElement("div",{className:this.ss("scroller")},t)))}}]),y.propTypes={currentPath:l.default.string,homeType:l.default.string,onClose:l.default.func},n=y))||n)||n)||n;function y(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}t.default=b},function(e,t){e.exports={"mobile-menu":"mobile-menu_1dgGzNED","scroller-wrapper":"scroller-wrapper_2CGwELGx",scroller:"scroller_MizhnjwE","close-wrapper":"close-wrapper_2lLZPl57","icon-close":"icon-close_1Im3ux6C",menu:"menu_2T9H78zH",active:"active_13E7sSc2","icons-wrapper":"icons-wrapper_1AZKmhWm",hottest:"hottest_3KOVWtcA",icons:"icons_2NSk762E",feed:"feed_P__CBzPI",connections:"connections_3wWt19w6",projects:"projects_1wg-qij8",jobs:"jobs_xOVhZD9C",recruit:"recruit_385HuvCO",talents:"talents_1eRxbcLQ",companies:"companies_h_G2yeyM",schools:"schools_1Ug8zj56",channels:"channels_3ABmr6nf",contests:"contests_3XNnJRG1",events:"events_3YdEfqAL",groups:"groups_2na6kppb",text:"text_30T1BGhi","icons-arrow":"icons-arrow_3ZaR5_dq",new:"new_1FiF0PTY"}},function(e,t){e.exports={hottest:"hottest_33cV",feed:"feed_2wgt",connections:"connections_1KT8",projects:"projects_nqMW",jobs:"jobs_9HtD",recruit:"recruit_1rqf",discover:"discover_XiC_",talents:"talents_2NZg",companies:"companies_1V3V",schools:"schools_3Rll",channels:"channels_3433",contests:"contests_2DWo",events:"events_HkZ-",new:"new_381A"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=E(["liveHelpEnabled"],["liveHelpEnabled"]),i=E(["header.loginTo"],["header.loginTo"]),l=E(["loginUser"],["loginUser"]),c=E(["currentPath"],["currentPath"]),u=E(["header.sendCDPRequest"],["header.sendCDPRequest"]),d=j(a(2)),p=j(a(1)),f=j(a(3)),h=a(5),m=a(0),_=j(a(67)),g=j(a(68)),v=j(a(4)),b=j(a(321)),y=j(a(6)),w=j(a(322));function j(e){return e&&e.__esModule?e:{default:e}}function E(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var k=(0,h.decorator)({liveHelpEnabled:(0,m.state)(s),loginTo:(0,m.signal)(i),loginUser:(0,m.state)(l),currentPath:(0,m.state)(c),sendCDPRequest:(0,m.signal)(u)})(n=(0,v.default)(b.default)(n=(0,y.default)(w.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(C,f.default),o(C,[{key:"onMenuClick",value:function(e,t,a){var n=2<arguments.length&&void 0!==a&&a,o={menuType:"discover",subtype:e};this.props.sendCDPRequest({type:"menu",data:o,redirectUrl:t,loginRequired:n})}},{key:"getItems",value:function(){var e=this,t=this.props,a=t.liveHelpEnabled,n=(t.loginUser||{}).myGroups,o=n&&0<n.length?"/groups":"/groups/discover";return[{key:"groups",text:this.__("menu_groups"),menuPath:o,onClick:function(){return e.onMenuClick("groups",o)}},{key:"talents",text:this.__("menu_talents"),menuPath:"/search?t=user",onClick:function(){return e.onMenuClick("talents","/search?t=user")}},{key:"live_help",text:this.__("menu_live_help"),menuPath:"livehelp",onClick:function(){return e.onMenuClick("live_help",(0,g.default)("/"))},disable:!a},{key:"companies",text:this.__("menu_companies"),menuPath:"/search?t=team",onClick:function(){return e.onMenuClick("companies","/search?t=team")}},{key:"schools",text:this.__("menu_schools"),menuPath:"/search?t=school",onClick:function(){return e.onMenuClick("schools","/search?t=school")}},{key:"channels",text:this.__("menu_channels"),menuPath:"/search?t=channel",onClick:function(){return e.onMenuClick("channels","/search?t=channel")}},{key:"showcases",text:this.__("menu_challenges"),menuPath:"/showcases",onClick:function(){return e.onMenuClick("showcases","/showcases")}},{key:"events",text:this.__("menu_events"),menuPath:"/events",onClick:function(){return e.onMenuClick("events","/events")}},{key:"connections",text:this.__("menu_connections"),menuPath:"/connections",onClick:function(){return e.onMenuClick("connections","/connections",!0)}}]}},{key:"render",value:function(){var e=this.props,t=e.liveHelpEnabled,a=e.currentPath,n=t,o=this.getItems(),r=!1;return-1<o.findIndex(function(e){return(e.menuPath||"").startsWith(a)})&&"/"!==a&&(r=!0),p.default.createElement("div",{className:this.ss("first-menu")},p.default.createElement("div",{className:this.ss("icon-wrapper",r&&"active")},this.__("menu_text"),n&&p.default.createElement("div",{className:this.ss("new")})),p.default.createElement("div",{className:this.ss("menu-wrap")},p.default.createElement(_.default,{items:o,parent:this,showNew:n})))}}]),C.propTypes={liveHelpEnabled:d.default.bool,loginTo:d.default.func,loginUser:d.default.object,currentPath:d.default.string,sendCDPRequest:d.default.func},n=C))||n)||n)||n;function C(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}t.default=k},function(e,t){e.exports={menu:"menu_3Un9Sv1K",items:"items_39qFc7hq",item:"item_1xCevqmY",new:"new_21i4obQF"}},function(e,t){e.exports={"first-menu":"first-menu_1dZys_oJ","menu-wrap":"menu-wrap_2w_GvYUd","icon-wrapper":"icon-wrapper_1pBRZHJ-",new:"new_3WCHE6sp",active:"active_1tql8CqI",icon:"icon_hUyv3gXn"}},function(e,t){e.exports={menu_text:"menu_text_wEJ_",menu_talents:"menu_talents_1Xiu",menu_companies:"menu_companies_3-5s",menu_schools:"menu_schools_2Pd6",menu_channels:"menu_channels_3aJ2",menu_challenges:"menu_challenges_3gxS",menu_events:"menu_events_10pt",menu_groups:"menu_groups_uHt2",menu_live_help:"menu_live_help_2YFt",menu_connections:"menu_connections_2THa",new:"new_2F_U"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=y(["currentPath"],["currentPath"]),i=y(["header.loginTo"],["header.loginTo"]),l=y(["header.sendCDPRequest"],["header.sendCDPRequest"]),c=b(a(2)),u=b(a(1)),d=b(a(3)),p=a(5),f=a(0),h=b(a(67)),m=b(a(4)),_=b(a(324)),g=b(a(6)),v=b(a(325));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w=(0,p.decorator)({currentPath:(0,f.state)(s),loginTo:(0,f.signal)(i),sendCDPRequest:(0,f.signal)(l)})(n=(0,m.default)(_.default)(n=(0,g.default)(v.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(j,d.default),o(j,[{key:"onMenuClick",value:function(e,t){var a={menuType:"projects",subtype:e};this.props.sendCDPRequest({type:"menu",data:a,redirectUrl:t})}},{key:"getItems",value:function(){var e=this;return[{key:"articles",text:this.__("menu_articles"),menuPath:"/p?orderBy=trending:w&projectType=article",onClick:function(){return e.onMenuClick("articles","/p?orderBy=trending:w&projectType=article")}},{key:"showcases",text:this.__("menu_showcases"),menuPath:"/p?orderBy=trending:w&projectType=showcase",onClick:function(){return e.onMenuClick("showcases","/p?orderBy=trending:w&projectType=showcase")}},{key:"games",text:this.__("menu_games"),menuPath:"/p?orderBy=trending:w&projectType=game",onClick:function(){return e.onMenuClick("games","/p?orderBy=trending:w&projectType=game")}}]}},{key:"render",value:function(){var t=this.props.currentPath,e=this.getItems(),a=!1;return-1<e.findIndex(function(e){return(e.menuPath||"").startsWith(t)})&&"/"!==t&&(a=!0),u.default.createElement("div",{className:this.ss("first-menu")},u.default.createElement("div",{className:this.ss("icon-wrapper",a&&"active")},this.__("menu_text"),!1),u.default.createElement("div",{className:this.ss("menu-wrap")},u.default.createElement(h.default,{items:e,parent:this})))}}]),j.propTypes={currentPath:c.default.string,loginTo:c.default.func,sendCDPRequest:c.default.func},n=j))||n)||n)||n;function j(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,j),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}t.default=w},function(e,t){e.exports={"first-menu":"first-menu_1xVg9hNy","menu-wrap":"menu-wrap_3QAHkrqg","icon-wrapper":"icon-wrapper_TPumiF4f",new:"new_1KzOOxW5",active:"active_1ovO-_rv",icon:"icon_khaSjY70"}},function(e,t){e.exports={menu_text:"menu_text_3UHi",menu_articles:"menu_articles_3_FH",menu_showcases:"menu_showcases_TFgY",menu_games:"menu_games_2gEq",new:"new_15kr"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=y(["currentPath"],["currentPath"]),i=y(["header.postJob"],["header.postJob"]),l=y(["header.sendCDPRequest"],["header.sendCDPRequest"]),c=b(a(2)),u=b(a(1)),d=b(a(3)),p=a(5),f=a(0),h=b(a(67)),m=b(a(4)),_=b(a(327)),g=b(a(6)),v=b(a(328));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w=(0,p.decorator)({currentPath:(0,f.state)(s),postJob:(0,f.signal)(i),sendCDPRequest:(0,f.signal)(l)})(n=(0,m.default)(_.default)(n=(0,g.default)(v.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(j,d.default),o(j,[{key:"onMenuClick",value:function(e,t){var a={menuType:"jobs",subtype:e};this.props.sendCDPRequest({type:"menu",data:a,redirectUrl:t})}},{key:"getItems",value:function(){var e=this,t=this.props.postJob;return[{key:"search_jobs",text:this.__("menu_search_jobs"),onClick:function(){return e.onMenuClick("search_jobs","/jobs")}},{key:"post_jobs",text:this.__("menu_post_jobs"),otherClassName:["GA_btn_header_postJob"],onClick:function(){return t({source:"header"})}},{key:"manage_jobs",text:this.__("menu_manage_jobs"),onClick:function(){return e.onMenuClick("manage_jobs","/my/jobs")}}]}},{key:"render",value:function(){var e=this.props.currentPath,t=this.getItems(),a="/jobs"===e||"/jobs/0/resume"===e||"/my/jobs"===e;return u.default.createElement("div",{className:this.ss("first-menu")},u.default.createElement("div",{className:this.ss("icon-wrapper",a&&"active")},this.__("menu_text"),!1),u.default.createElement("div",{className:this.ss("menu-wrap")},u.default.createElement(h.default,{items:t,parent:this})))}}]),j.propTypes={currentPath:c.default.string,postJob:c.default.func,sendCDPRequest:c.default.func},n=j))||n)||n)||n;function j(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,j),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}t.default=w},function(e,t){e.exports={"first-menu":"first-menu_1sbJSQP5","menu-wrap":"menu-wrap_3skhSRHM","icon-wrapper":"icon-wrapper_w3sd7Klr",new:"new_1eh48EQR",active:"active_GCZUtISb",icon:"icon_3GfX46ip"}},function(e,t){e.exports={menu_text:"menu_text_19ez",menu_search_jobs:"menu_search_jobs_3bh-",menu_post_jobs:"menu_post_jobs_Vv2L",menu_manage_jobs:"menu_manage_jobs_30Ob"}},function(e,t){e.exports={"first-menu":"first-menu_39LZCCai","menu-wrap":"menu-wrap_3ETLHqkJ","icon-wrapper":"icon-wrapper_1HFj8ixK",new:"new_1jqEHjm1",active:"active_fhEpatfC",icon:"icon_2CzHv9Vd"}},function(e,t){e.exports={menu_text:"menu_text_3Gg6",discover:"discover_3va7"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=Q(["header.createGroupDialog.show"],["header.createGroupDialog.show"]),i=Q(["header.createGroupDialog.form"],["header.createGroupDialog.form"]),l=Q(["header.createGroupDialog.updateStatus"],["header.createGroupDialog.updateStatus"]),c=Q(["header.groupCategory"],["header.groupCategory"]),u=Q(["header.languageOptions"],["header.languageOptions"]),d=Q(["header.createGroupDialog.isEdit"],["header.createGroupDialog.isEdit"]),p=Q(["header.createGroupDialog.skillMap"],["header.createGroupDialog.skillMap"]),f=Q(["loginUser"],["loginUser"]),h=Q(["header.recaptchaCode"],["header.recaptchaCode"]),m=Q(["header.groupBaseDataStatus"],["header.groupBaseDataStatus"]),_=Q(["header.closeCreateGroupDialog"],["header.closeCreateGroupDialog"]),g=Q(["header.changeGroupAvatar"],["header.changeGroupAvatar"]),v=Q(["header.changeGroupName"],["header.changeGroupName"]),b=Q(["header.changeGroupCategory"],["header.changeGroupCategory"]),y=Q(["header.changeDescription"],["header.changeDescription"]),w=Q(["header.changePrivacy"],["header.changePrivacy"]),j=Q(["header.changeLicense"],["header.changeLicense"]),E=Q(["header.createGroup"],["header.createGroup"]),k=Q(["header.showMessage"],["header.showMessage"]),C=Q(["header.changeLanguage"],["header.changeLanguage"]),S=Q(["header.addTag"],["header.addTag"]),O=Q(["header.deleteTag"],["header.deleteTag"]),N=Z(a(2)),P=Z(a(1)),T=Z(a(3)),x=a(5),M=a(0),I=Z(a(37)),R=Z(a(28)),D=Z(a(43)),L=Z(a(134)),A=a(7),U=Z(a(332)),W=Z(a(17)),z=Z(a(56)),H=Z(a(44)),q=a(11),B=Z(a(125)),F=Z(a(4)),G=Z(a(338)),K=a(6),V=Z(K),J=Z(a(339)),Y=Z(a(340));function Z(e){return e&&e.__esModule?e:{default:e}}function Q(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var X=(0,x.decorator)({show:(0,M.state)(s),form:(0,M.state)(i),updateStatus:(0,M.state)(l),categoryOptions:(0,M.state)(c),languageOptions:(0,M.state)(u),isEdit:(0,M.state)(d),skillMap:(0,M.state)(p),loginUser:(0,M.state)(f),recaptchaCode:(0,M.state)(h),getGroupOptionsStatus:(0,M.state)(m),onClose:(0,M.signal)(_),changeGroupAvatar:(0,M.signal)(g),changeGroupName:(0,M.signal)(v),changeGroupCategory:(0,M.signal)(b),changeDescription:(0,M.signal)(y),changePrivacy:(0,M.signal)(w),changeLicense:(0,M.signal)(j),createGroup:(0,M.signal)(E),showMessage:(0,M.signal)(k),changeLanguage:(0,M.signal)(C),addTag:(0,M.signal)(S),deleteTag:(0,M.signal)(O)})(n=(0,F.default)(G.default)(n=(0,V.default)(J.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}($,T.default),o($,[{key:"onClose",value:function(){var e=this.props.onClose;e&&e()}},{key:"updateAvatar",value:function(e){this.props.changeGroupAvatar({value:e})}},{key:"renderPrivacyItem",value:function(e){var t=e.value;return P.default.createElement("div",{className:this.ss("privacy-item")},P.default.createElement("div",{className:this.ss("icon","ifont","ifont-"+{public:"icons-public",closed:"icons-lockoff",secret:"icons-lockon"}[t])}),P.default.createElement("div",{className:this.ss("right")},P.default.createElement("div",{className:this.ss("name")},this.__("group_"+t)),P.default.createElement("div",{className:this.ss("hint")},this.__("group_"+t+"_hint"))))}},{key:"renderLanguage",value:function(){var e=this.props,t=e.isEdit,n=e.changeLanguage,a=e.form.language,o=e.languageOptions;if(!t)return null;var r=[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(o));r.sort(function(e,t){var a=e.name.toUpperCase(),n=t.name.toUpperCase();return a<n?-1:n<a?1:0});var s=r.map(function(e){return{text:e.name,value:e.id}});return P.default.createElement("div",{className:this.ss("field")},P.default.createElement("div",{className:this.ss("title")},this.__("preferred_language")),P.default.createElement("div",{className:this.ss("input-wrapper")},P.default.createElement(D.default,{hintText:this.__("hint_language"),selects:s,value:a.value,onChange:function(e,t,a){return n({value:a})}})))}},{key:"renderTags",value:function(){var e=this.props,t=e.isEdit,a=e.skillMap,n=e.form.tags,o=e.addTag,r=e.deleteTag;return t?P.default.createElement("div",{className:this.ss("field")},P.default.createElement("div",{className:this.ss("title")},this.__("tags")),P.default.createElement("div",{className:this.ss("tags-wrapper")},P.default.createElement(z.default,{inputType:"multiple",st:"skill",hintText:this.__("add_tags"),valueTheme:"gray",skillType:"skill",addInputValue:!0,tagType:"tag",selectedIds:n.value,idToCandidateMap:a,onSelected:function(e){return o({value:e})},onRemove:function(e){var t=e.id;return r({value:t})}}))):null}},{key:"renderLicenseSelect",value:function(){var e=this.props,t=e.form,a=t.unityLicense,n=t.privacy,o=e.loginUser,r=e.isEdit,s=e.changeLicense,i={color:"#5a5a5b",fontWeight:"normal"},l=(o||{}).isStaff;return"closed"===n.value&&l?P.default.createElement("div",{className:this.ss("field")},P.default.createElement("div",{className:this.ss("title")},this.__("member_limitation")),P.default.createElement("div",{className:this.ss("limitation-selects")},P.default.createElement(H.default,{theme:"primary",label:this.__("limitation_pro_plus"),labelStyle:i,className:this.ss("radio"),disabled:r,value:q.groupLimitations.plus,isChecked:a.value===q.groupLimitations.plus,onCheck:function(e,t){return!r&&s({value:t})}}),P.default.createElement(H.default,{theme:"primary",label:this.__("limitation_pro_only"),labelStyle:i,className:this.ss("radio"),disabled:r,value:q.groupLimitations.pro,isChecked:a.value===q.groupLimitations.pro,onCheck:function(e,t){return!r&&s({value:t})}}),P.default.createElement(H.default,{theme:"primary",label:this.__("limitation_none"),labelStyle:i,className:this.ss("radio"),disabled:r,value:q.groupLimitations.none,isChecked:a.value===q.groupLimitations.none,onCheck:function(e,t){return!r&&s({value:t})}}))):null}},{key:"renderCaptcha",value:function(){return P.default.createElement("div",{className:this.ss("field")},P.default.createElement(B.default,null))}},{key:"renderCategoryOptions",value:function(){var t=this,e=this.props,a=e.form.category,n=e.categoryOptions,o=e.getGroupOptionsStatus,r=e.changeGroupCategory,s=n.map(function(e){return{text:(0,K.i18n)(t.context,Y.default,e.refId),value:e.id}});return(0,A.isLoading)(o)?P.default.createElement("div",{className:this.ss("input-wrapper","category-options")},P.default.createElement("div",{className:this.ss("loading-wrapper")},P.default.createElement("div",{className:this.ss("loading")}))):P.default.createElement("div",{className:this.ss("input-wrapper","category-options")},P.default.createElement(D.default,{hintText:this.__("hint_category"),textClassName:this.ss("option-text"),selects:s,value:a.value,onChange:function(e,t,a){return r({value:a})}}),P.default.createElement("div",{className:this.ss("error")},a.isTouched&&this.__(a.errorMessage)))}},{key:"renderFields",value:function(){var t=this,e=this.props,a=e.form,n=a.avatar,o=a.name,r=a.description,s=a.privacy,i=e.isEdit,l=e.changeGroupName,c=e.changeDescription,u=e.changePrivacy,d=["public","closed","secret"].map(function(e){return{text:e,value:e}}),p={},f=!1;return n.value&&(p.backgroundImage='url("'+n.value+'")',f=!0),P.default.createElement("div",{className:this.ss("fields")},P.default.createElement("div",{className:this.ss("top-wrapper")},P.default.createElement("div",{className:this.ss("left")},P.default.createElement("a",{className:this.ss("avatar"),style:p,onClick:function(){return t.refs.crop.onSelectFile()}},P.default.createElement("div",{className:this.ss("icon",f&&"hide","ifont","ifont-camera-icon")}),f&&P.default.createElement("div",{className:this.ss("hover-wrapper")},P.default.createElement("div",{className:this.ss("icon","ifont","ifont-camera-icon")}))),P.default.createElement("div",{className:this.ss("error")},n.isTouched&&this.__(n.errorMessage))),P.default.createElement("div",{className:this.ss("right")},P.default.createElement("div",{className:this.ss("field")},P.default.createElement("div",{className:this.ss("title")},this.__("name")),P.default.createElement("div",{className:this.ss("input-wrapper")},P.default.createElement(I.default,{value:o.value,disabled:i,placeholder:this.__("hint_name"),onChange:function(e,t){return l({value:t})}}),P.default.createElement("div",{className:this.ss("error")},o.isTouched&&this.__(o.errorMessage)))),P.default.createElement("div",{className:this.ss("field","category")},P.default.createElement("div",{className:this.ss("title")},this.__("category")),this.renderCategoryOptions()))),P.default.createElement("div",{className:this.ss("field")},P.default.createElement("div",{className:this.ss("title")},this.__("description")),P.default.createElement("div",{className:this.ss("text-area-wrapper")},P.default.createElement(L.default,{inputValue:r.value,rows:1,fontWidthEstimate:5,className:this.ss("text-area"),placeholder:this.__("hint_description"),onChange:function(e){return c({value:e})}}),P.default.createElement("div",{className:this.ss("error")},r.isTouched&&this.__(r.errorMessage)))),this.renderLanguage(),this.renderTags(),P.default.createElement("div",{className:this.ss("field")},P.default.createElement("div",{className:this.ss("title")},this.__("select_privacy"),P.default.createElement("div",{className:this.ss("tips","warning")},this.__("privacy_tips"))),P.default.createElement("div",{className:this.ss("input-wrapper","privacy")},P.default.createElement(D.default,{className:this.ss("select-container"),optGroupClassName:this.ss("select-items"),optClassName:this.ss("select-opt"),hintText:this.__("hint_category"),selects:d,value:s.value,disabled:i,renderItem:function(e){return t.renderPrivacyItem(e)},onChange:function(e,t,a){return u({value:a})}}),P.default.createElement("div",{className:this.ss("error")},s.isTouched&&this.__(s.errorMessage)))),this.renderLicenseSelect(),this.renderCaptcha())}},{key:"render",value:function(){var t=this,e=this.props,a=e.show,n=e.updateStatus,o=e.isEdit,r=e.createGroup,s=e.showMessage,i=e.recaptchaCode;return P.default.createElement(R.default,{open:a,title:o?this.__("edit_group"):this.__("create_new_group"),width:640,submitStyle:"ok/cancel",submitDisable:!i,submitInProgress:(0,A.isLoadingOrSucceeded)(n),onClose:function(){return t.onClose()},onSubmit:function(){return r({isEdit:o})}},P.default.createElement("div",{className:this.ss("content")},P.default.createElement(W.default,null,this.renderFields())),P.default.createElement(U.default,{ref:"crop",onSave:function(e){return t.updateAvatar(e)},onSetError:function(){return s({message:"image_type_error"})}}))}}]),$.propTypes={show:N.default.bool,form:N.default.object,updateStatus:N.default.string,categoryOptions:N.default.array,languageOptions:N.default.array,isEdit:N.default.bool,skillMap:N.default.object,loginUser:N.default.object,recaptchaCode:N.default.string,getGroupOptionsStatus:N.default.string,onClose:N.default.func,changeGroupAvatar:N.default.func,changeGroupName:N.default.func,changeGroupCategory:N.default.func,changeDescription:N.default.func,changePrivacy:N.default.func,changeLicense:N.default.func,createGroup:N.default.func,showMessage:N.default.func,changeLanguage:N.default.func,addTag:N.default.func,deleteTag:N.default.func},n=$))||n)||n)||n;function $(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,$),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,($.__proto__||Object.getPrototypeOf($)).apply(this,arguments))}t.default=X},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e};function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=f(o(2)),l=f(o(1)),c=f(o(3)),u=f(o(333)),d=f(o(4)),p=f(o(336));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m={cropWidth:128,cropHeight:128,maxCropWidth:400,maxCropHeight:400},_={open:!1,top:0,left:0,imageFile:"",imageWidth:0,imageHeight:0,originWidth:0,originHeight:0},g=(0,d.default)(p.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(v,c.default),r(v,[{key:"onSelectFile",value:function(){this.refs.fileSelect.click()}},{key:"onClose",value:function(){this.setState(_)}},{key:"setImageSize",value:function(e){var t=e||{},a=t.src,n=t.width,o=t.height,r=218*n/o;r<=480?this.setState({open:!0,imageFile:a,imageWidth:r,imageHeight:218,originWidth:n,originHeight:o}):this.normalizeImage(e)}},{key:"getPosition",value:function(){var e=this.state,t=e.imageWidth;return{top:(e.imageHeight-128)/2,left:(t-128)/2}}},{key:"normalizeImage",value:function(e){var r=this,t=o(337).resizeCanvas,a=document.createElement("canvas");a.width=e.width,a.height=e.height,a.getContext("2d").drawImage(e,0,0,a.width,a.height);var n=Math.min(e.width/480,e.height/218),s=document.createElement("canvas");s.width=e.width/n,s.height=e.height/n,t(a,s,{},function(e){e&&console.log(e);var t=document.createElement("canvas");t.width=480,t.height=218;var a=(s.width-t.width)/-2,n=(s.height-t.height)/-2;t.getContext("2d").drawImage(s,a,n,s.width,s.height);var o=t.toDataURL("image/jpeg");r.setState({open:!0,imageFile:o,imageWidth:480,imageHeight:218,originWidth:480,originHeight:218})})}},{key:"handleFile",value:function(e){var t=e.target.files[0];t&&(t.type.match(/image\/(png|jpeg)/)?this.handleFileChange(t):this.props.onSetError&&this.props.onSetError(),this.refs.fileSelect.value=null)}},{key:"handleFileChange",value:function(e){var n=this,t=new FileReader;t.onload=function(e){var t=e.target.result,a=new Image;a.src=t,a.onload=function(){n.setImageSize(a)}},t.readAsDataURL(e)}},{key:"render",value:function(){var t=this,e=this.getPosition(),a=n({},m,this.props,this.state,e);return l.default.createElement("div",null,l.default.createElement(u.default,n({},a,{width:480,onClose:function(){return t.onClose()}})),l.default.createElement("input",{type:"file",ref:"fileSelect",className:this.ss("hide"),accept:"image/*",onChange:function(e){return t.handleFile(e)}}))}}]),v.propTypes={onSave:i.default.func,onSetError:i.default.func},a=v))||a;function v(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=h(this,(e=v.__proto__||Object.getPrototypeOf(v)).call.apply(e,[this].concat(o)))).state=_,h(a,t)}t.default=g},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=f(a(2)),v=f(a(1)),i=f(a(3)),b=f(a(71)),y=f(a(13)),l=a(11),c=f(a(4)),u=f(a(334)),d=f(a(6)),p=f(a(335));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=(0,c.default)(u.default)(n=(0,d.default)(p.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(_,i.default),o(_,[{key:"componentDidMount",value:function(){var t=this;window.addEventListener("mouseup",function(){return t.onDragResizeEnd()}),window.addEventListener("mousemove",function(e){return t.onDrag(e)})}},{key:"componentWillUnmount",value:function(){var t=this;window.removeEventListener("mouseup",function(){return t.onDragResizeEnd()}),window.removeEventListener("mousemove",function(e){return t.onDrag(e)})}},{key:"onSave",value:function(){var u=this,e=this.props,d=e.imageHeight,t=e.imageFile,p=e.originWidth,f=e.originHeight,h=e.maxCropWidth,m=e.maxCropHeight,_=this.getNumber("top"),g=this.getNumber("left"),v=this.getNumber("cropWidth"),b=Math.round(v*this.getSizeRatio()),y=new Image;y.src=t,y.width=p,y.height=f,y.onload=function(){var e=(f/d).toFixed(2),t=Math.round(_*e),a=Math.round(g*e),n=Math.round(v*e),o=Math.round(b*e);p<n+a&&(n=p-a),f<o+t&&(o=f-t);var r=Math.min(h,n),s=Math.min(m,o),i=document.createElement("canvas"),l=i.getContext("2d");i.width=r,i.height=s,l.drawImage(y,a,t,n,o,0,0,r,s);var c=i.toDataURL("image/jpeg");u.props.onSave&&u.props.onSave(c),u.onClose()}}},{key:"onDragMoveStart",value:function(e){(0,l.pauseEvent)(e);var t=e.clientX,a=e.clientY,n=this.getNumber("top"),o=this.getNumber("left");this.setState({onMove:!0,clientX:t,clientY:a,top:n,left:o})}},{key:"onDragMove",value:function(e){var t,a,n,o,r,s,i,l,c,u,d,p,f=this.props,h=f.imageWidth,m=f.imageHeight,_=this.state,g=_.clientX,v=_.clientY;_.onMove&&(t=this.getNumber("top"),a=this.getNumber("left"),n=this.getNumber("cropWidth"),o=this.getSizeRatio(),r=Math.round(n*o),l=(s=e.clientX)-g,c=m-r,u=h-n,d=t+((i=e.clientY)-v),d=Math.max(d,0),d=Math.min(d,c),p=a+l,p=Math.max(p,0),p=Math.min(p,u),this.setState({clientX:s,clientY:i,top:d,left:p}))}},{key:"onDragResizeStart",value:function(e,t){(0,l.pauseEvent)(e);var a=e.clientX;this.setState({onResize:!0,clientX:a,direction:t})}},{key:"onDragResizeEnd",value:function(){var e=this.state,t=e.onResize,a=e.onMove;(t||a)&&this.setState({onResize:!1,onMove:!1})}},{key:"onDrag",value:function(e){var t=this.state,a=t.onResize,n=t.onMove;a?this.onDragResize(e):n&&this.onDragMove(e)}},{key:"onDragResize",value:function(e){switch(this.state.direction){case"nw":this.resizeNW(e);break;case"ne":this.resizeNE(e);break;case"sw":this.resizeSW(e);break;case"se":this.resizeSE(e);break;default:this.resizeNW(e)}}},{key:"getNumber",value:function(e){var t=this.props[e],a=this.state[e];return Number.isFinite(a)?a:t||0}},{key:"getSizeRatio",value:function(){var e=this.props,t=e.cropWidth;return(e.cropHeight/t).toFixed(2)}},{key:"resizeNW",value:function(e){var t,a,n,o,r,s,i,l,c,u=this.state,d=u.clientX;u.onResize&&(t=this.getNumber("top"),a=this.getNumber("left"),n=this.getNumber("cropWidth"),o=this.getSizeRatio(),(s=(r=e.clientX)-d)<0&&(s=-Math.min(Math.abs(s),Math.abs(t),Math.abs(a))),20<=(i=n-s)?(l=t+Math.round(s*o),c=a+s,this.setState({clientX:r,top:l,left:c,cropWidth:i})):this.setState({clientX:r}))}},{key:"resizeNE",value:function(e){var t,a,n,o,r,s,i,l,c=this.props.imageWidth,u=this.state,d=u.clientX;u.onResize&&(t=this.getNumber("top"),a=this.getNumber("left"),n=this.getNumber("cropWidth"),o=this.getSizeRatio(),(s=-((r=e.clientX)-d))<0&&(s=-Math.min(Math.abs(s),Math.abs(t),Math.abs(Math.max(0,c-n-a)))),20<=(i=n-s)?(l=t+Math.round(s*o),this.setState({clientX:r,top:l,cropWidth:i})):this.setState({clientX:r}))}},{key:"resizeSW",value:function(e){var t,a,n,o,r,s,i,l,c,u=this.props.imageHeight,d=this.state,p=d.clientX;d.onResize&&(t=this.getNumber("top"),a=this.getNumber("left"),n=this.getNumber("cropWidth"),o=this.getSizeRatio(),r=Math.round(n*o),(i=(s=e.clientX)-p)<0&&(i=-Math.min(Math.abs(i),Math.abs(Math.max(0,u-r-t)),Math.abs(a))),20<=(l=n-i)?(c=a+i,this.setState({clientX:s,left:c,cropWidth:l})):this.setState({clientX:s}))}},{key:"resizeSE",value:function(e){var t,a,n,o,r,s,i,l,c=this.props,u=c.imageHeight,d=c.imageWidth,p=this.state,f=p.clientX;p.onResize&&(t=this.getNumber("top"),a=this.getNumber("left"),n=this.getNumber("cropWidth"),o=this.getSizeRatio(),r=Math.round(n*o),(i=-((s=e.clientX)-f))<0&&(i=-Math.min(Math.abs(i),Math.abs(Math.max(0,u-r-t)),Math.abs(Math.max(0,d-n-a)))),20<=(l=n-i)?this.setState({clientX:s,cropWidth:l}):this.setState({clientX:s}))}},{key:"render",value:function(){var t=this,e=this.props,a=e.imageFile,n=e.imageWidth,o=e.imageHeight,r=function(e,t){var a={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["imageFile","imageWidth","imageHeight"]),s=this.state,i=s.onResize,l=s.direction,c=this.getNumber("top"),u=this.getNumber("left"),d=this.getNumber("cropWidth"),p=this.getSizeRatio(),f={width:n,height:o},h={width:n,height:o,marginLeft:-u-1,marginTop:-c-1},m={top:c,left:u,width:d,height:Math.round(d*p)},_={};return i&&(_.cursor=l+"-resize",m.pointerEvents="none"),v.default.createElement(b.default,g({},r,{title:this.__("title"),disableBgClick:!0,onCloseModal:this.onClose}),v.default.createElement("div",{className:this.ss("content"),style:{height:o}},v.default.createElement("div",{className:this.ss("content-wrapper"),style:_},v.default.createElement("img",{src:a,style:f,alt:"",className:this.ss("image")}),v.default.createElement("div",{style:m,className:this.ss("crop-wrapper")},v.default.createElement("div",{className:this.ss("crop-inner-wrapper")},v.default.createElement("div",{className:this.ss("image-wrapper"),draggable:"true",onDragStart:function(e){return t.onDragMoveStart(e)}},v.default.createElement("img",{src:a,style:h,alt:""}))),v.default.createElement("div",{className:this.ss("top-left","drag-block"),onMouseDown:function(e){return t.onDragResizeStart(e,"nw")},onMouseUp:function(){return t.onDragResizeEnd()}}),v.default.createElement("div",{className:this.ss("top-right","drag-block"),onMouseDown:function(e){return t.onDragResizeStart(e,"ne")},onMouseUp:function(){return t.onDragResizeEnd()}}),v.default.createElement("div",{className:this.ss("bottom-left","drag-block"),onMouseDown:function(e){return t.onDragResizeStart(e,"sw")},onMouseUp:function(){return t.onDragResizeEnd()}}),v.default.createElement("div",{className:this.ss("bottom-right","drag-block"),onMouseDown:function(e){return t.onDragResizeStart(e,"se")},onMouseUp:function(){return t.onDragResizeEnd()}})))),v.default.createElement("div",{className:this.ss("buttons")},v.default.createElement(y.default,{className:this.ss("add"),theme:"primary",label:this.__("add"),onClick:function(){return t.onSave()}})))}}]),_.propTypes={open:s.default.bool,imageFile:s.default.string,left:s.default.number,top:s.default.number,cropWidth:s.default.number,cropHeight:s.default.number,maxCropWidth:s.default.number,maxCropHeight:s.default.number,imageWidth:s.default.number,imageHeight:s.default.number,originWidth:s.default.number,originHeight:s.default.number,onSave:s.default.func,onClose:s.default.func,onSetError:s.default.func},n=_))||n)||n;function _(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=h(this,(e=_.__proto__||Object.getPrototypeOf(_)).call.apply(e,[this].concat(o)))).state={onMove:!1,onResize:!1,clientX:0,clientY:0,top:NaN,left:NaN,cropWidth:NaN},a.onClose=function(){a.setState({onMove:!1,onResize:!1,clientX:0,clientY:0,top:NaN,left:NaN,cropWidth:NaN}),a.props.onClose&&a.props.onClose()},h(a,t)}t.default=m},function(e,t){e.exports={content:"content_2-Opc0gg","content-wrapper":"content-wrapper_1n68JqKz",image:"image_P4zbd4kA","crop-wrapper":"crop-wrapper_xFfVcLzJ","crop-inner-wrapper":"crop-inner-wrapper_3-Rzu2z_","image-wrapper":"image-wrapper_3MwA9Xb3","drag-block":"drag-block_2JV4w5K1","top-left":"top-left_1Iyu6Dpj","top-right":"top-right_3fkfAlDn","bottom-left":"bottom-left__xY0YyM_","bottom-right":"bottom-right_27x-c3SA",crop:"crop__IyZlPTI",buttons:"buttons_16lIDcK0",add:"add_1LW0yga-",hide:"hide_alBS4eRy"}},function(e,t){e.exports={title:"title_2l8l",add:"add_1ky6"}},function(e,t){e.exports={hide:"hide_3N_qgKYS"}},function(e,t,a){e.exports=a(8)(1100)},function(e,t){e.exports={content:"content_2vJyTSvp",fields:"fields_2auNdYNB","top-wrapper":"top-wrapper_2jHOk1UL",left:"left_28Vk8RsS",avatar:"avatar_2FX0FCbc","hover-wrapper":"hover-wrapper_3WoKE0HS",icon:"icon_2P68HjkM",hide:"hide_3q61DuUG",right:"right_2_s_Jd28",field:"field_3MfJ7F9t",category:"category_303N_-Dp",title:"title_3diTr2iC",tips:"tips_1y-DocRs",warning:"warning_2azMD45N","input-wrapper":"input-wrapper_2Hfu4jIv",privacy:"privacy_1MkKo3qe","select-container":"select-container_1eYYJlYk","select-items":"select-items_2QGni25b","select-opt":"select-opt_2__ikyZJ","category-options":"category-options_1cld70L4","loading-wrapper":"loading-wrapper_3YhRzl_z",loading:"loading_3NDCjrpv",input:"input_18A_cvLt","inner-border":"inner-border_le8jRI-q","option-text":"option-text_Exa0nka8","tags-wrapper":"tags-wrapper_zh14r1ZM","text-area-wrapper":"text-area-wrapper_1Hl-9-4K","text-area":"text-area_D5eJvNEk",error:"error_4uyy_fxI","privacy-item":"privacy-item_1Wnm-DVQ",name:"name_2U5tSH4W",hint:"hint_30yEe9i8","limitation-selects":"limitation-selects_3iYFva4X",radio:"radio_3OIn5BaA"}},function(e,t){e.exports={create_new_group:"create_new_group_1-h0",edit_group:"edit_group_2hZl",name:"name_3NUv",category:"category_zaHW",description:"description_12Bn",hint_name:"hint_name_1y39",hint_description:"hint_description_1Jxa",hint_category:"hint_category_-fG7",error_maxLength60:"error_maxLength60_2jhj",error_maxLength1000:"error_maxLength1000_LAXI",select_privacy:"select_privacy_1ZKD",group_public:"group_public_111a",group_closed:"group_closed_24VH",group_secret:"group_secret_3pNp",group_public_hint:"group_public_hint_3l1c",group_closed_hint:"group_closed_hint_1m63",group_secret_hint:"group_secret_hint_Iv5A",error_isRequired:"error_isRequired_2Dv0",preferred_language:"preferred_language_3hbz",hint_language:"hint_language_1oVB",tags:"tags_3N2F",add_tags:"add_tags_14d3",privacy_tips:"privacy_tips_yfyR",member_limitation:"member_limitation_2pDs",limitation_pro_plus:"limitation_pro_plus_3McO",limitation_pro_only:"limitation_pro_only_3RYq",limitation_none:"limitation_none_2ju2"}},function(e,t){e.exports={categories:"categories_PI7h",hottest:"hottest_1gK7",latest:"latest_f0Qh",filter:"filter_10tw",school_education:"school_education_1mOk",news:"news_3aAz",community:"community_GF7r",work:"work_2KFP",skill_interest:"skill_interest_2YNm",groups_from_unity:"groups_from_unity_fK0p",user_groups:"user_groups_bN5r"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=w(["header.ongoingSession.show"],["header.ongoingSession.show"]),i=w(["header.ongoingSession.question"],["header.ongoingSession.question"]),l=w(["header.ongoingSession.user"],["header.ongoingSession.user"]),c=w(["header.closeOngoingSessionWidget"],["header.closeOngoingSessionWidget"]),u=y(a(2)),d=y(a(1)),p=y(a(3)),f=a(0),h=a(5),m=y(a(52)),_=y(a(4)),g=y(a(342)),v=y(a(6)),b=y(a(343));function y(e){return e&&e.__esModule?e:{default:e}}function w(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=(0,h.decorator)({show:(0,f.state)(s),question:(0,f.state)(i),user:(0,f.state)(l),closeOngoingSessionWidget:(0,f.signal)(c)})(n=(0,_.default)(g.default)(n=(0,v.default)(b.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(E,p.default),o(E,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.question,n=e.user,o=e.closeOngoingSessionWidget;if(!t)return null;var r=a.id,s=n.fullName,i="/workspace/"+r;return d.default.createElement("div",{className:this.ss("on-going-session")},this.__("tips",{fullName:s,link:i}),d.default.createElement("a",{className:this.ss("link"),onClick:function(){return(0,m.default)(i)}},this.__("enter_workspace")),".",d.default.createElement("div",{className:this.ss("icon-close","ifont","ifont-icon-close2"),onClick:function(){return o()}}))}}]),E.propTypes={show:u.default.bool,question:u.default.object,user:u.default.object,closeOngoingSessionWidget:u.default.func},n=E))||n)||n)||n;function E(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}t.default=j},function(e,t){e.exports={"on-going-session":"on-going-session_3mEFdOiK",link:"link_3PfyuNTO","icon-close":"icon-close_G5qFuSEt"}},function(e,t){e.exports={tips:"tips_2KKw",enter_workspace:"enter_workspace_LANO"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=w(["header.unpaidSession.show"],["header.unpaidSession.show"]),i=w(["header.unpaidSession.question"],["header.unpaidSession.question"]),l=w(["currentHost"],["currentHost"]),c=w(["header.closeUnpaidSessionWidget"],["header.closeUnpaidSessionWidget"]),u=y(a(2)),d=y(a(1)),p=y(a(3)),f=a(0),h=a(5),m=y(a(68)),_=y(a(4)),g=y(a(345)),v=y(a(6)),b=y(a(346));function y(e){return e&&e.__esModule?e:{default:e}}function w(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=(0,h.decorator)({show:(0,f.state)(s),question:(0,f.state)(i),currentHost:(0,f.state)(l),closeUnpaidSessionWidget:(0,f.signal)(c)})(n=(0,_.default)(g.default)(n=(0,v.default)(b.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(E,p.default),o(E,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.closeUnpaidSessionWidget,n=e.question,o=e.currentHost;if(!t)return null;var r=(n||{}).id,s=(0,m.default)("/session_detail?id="+r,o);return d.default.createElement("div",{className:this.ss("unpaid-session")},this.__("tip_genesis_fail",{link:s}),d.default.createElement("div",{className:this.ss("icon-close","ifont","ifont-icon-close2"),onClick:function(){return a()}}))}}]),E.propTypes={show:u.default.bool,question:u.default.object,currentHost:u.default.string,closeUnpaidSessionWidget:u.default.func},n=E))||n)||n)||n;function E(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}t.default=j},function(e,t){e.exports={"unpaid-session":"unpaid-session_3CWGCjqI","icon-close":"icon-close_1sBseHQK"}},function(e,t){e.exports={tip_pending:"tip_pending_7RgX",tip_genesis_fail:"tip_genesis_fail_1VPN"}},function(e,t){e.exports={"header-wrap":"header-wrap_GEr2c682",header:"header_257pCc7M",logo:"logo_2qLo13oA","main-menu-wrapper":"main-menu-wrapper_2eWH5ERW","mobile-search":"mobile-search_1Z64zx8n","search-icon":"search-icon_1aNZfCuf","main-menu":"main-menu_1tN5E3Qk","menu-left":"menu-left_flKNOvnq","menu-right":"menu-right_3N8zyF91","user-actions":"user-actions_2nPAaNhU","beta-user":"beta-user_qYfiTnah","logout-btn":"logout-btn_1xXhzsUW",activity:"activity_2hsBDG1G",connections:"connections_3pKyu_1S",link:"link_1vCaVFnC",popout:"popout_INZi8Dlv",users:"users_3kyuoJZx",teams:"teams_w3QxeBEQ",blog:"blog_3Q2yx8Ad",active:"active_-jEgOzvA","login-action":"login-action_3l78Blzg",icon:"icon_1vkcqUWb","avatar-action":"avatar-action_3Hs5yanb",button:"button_TlVLGbNi","button-inner":"button-inner_EbWpvfpx","down-icon":"down-icon_2La7glGl",webgl:"webgl_3r0oc8_L",left:"left_1-ZhBma-",right:"right_3-9oUgPp",title:"title_1tNdREWD",list:"list_3uIUx6lR",item:"item_10ugXhqD","item--reference":"item--reference_dHDPmLb0",badge:"badge_3wOL_6zr","team-name":"team-name_1nJe3SSL","item-school":"item-school_2KuzAuT6",school:"school_2X80dDsQ",draft:"draft_WEej8aLz",reject:"reject_1PaU8oLA",hover:"hover_3_slvHfk","bars-action":"bars-action_IfoerojT","search-action":"search-action_1nBrxqFZ",divider:"divider_2TI-g4Gz","chat-action":"chat-action_1rsrH49i","chat-icon":"chat-icon_2HIU7Ta2",open:"open_2NV3yUwa","notifications-action":"notifications-action_6onoUfYJ","notifications-icon":"notifications-icon_2sOVPumh","app-switcher-action":"app-switcher-action_2o5Ba6sD","app-switcher-icon":"app-switcher-icon_biYRoW9m","messages-wrap":"messages-wrap_1tlb7AbE","messages-action":"messages-action_3dV74hna","messages-icon":"messages-icon_LvBNieoE","badge-hint":"badge-hint_3JsnXWcw","beta-logo":"beta-logo_CMtP53c_","messages-unread":"messages-unread_1axU4mVW","mobile-search-box":"mobile-search-box_2uhRfA1h","app-switcher":"app-switcher_30lhKb3b","switcher-wrap":"switcher-wrap_2AMtj4oL","app-item":"app-item__7ZrOmfi","app-icon":"app-icon_1Zb9VDQz","app-name":"app-name_ArqHW3kt","profile-wrap":"profile-wrap_1Yarzwu_","profile-avatar-wrap":"profile-avatar-wrap_2qyuXREQ",avatar:"avatar_o_aKnY8g","profile-account":"profile-account_16ouBH7U","profile-name":"profile-name_2Ltp-gZg","profile-email":"profile-email_S1nbHvTm","profile-link":"profile-link_2g1TJ3cw","anonymous-wrap":"anonymous-wrap_3uKdHweu","anonymous-avatar":"anonymous-avatar_olPh5ROn","anonymous-name":"anonymous-name_1nPcGJQ6","login-desc":"login-desc_36VP292p","profile-completeness-wrap":"profile-completeness-wrap_2ma2wuAk","profile-completeness":"profile-completeness_3RoN3UKt","completeness-text":"completeness-text_2DiiRRPi","edit-link":"edit-link_-P9Ql8In","progress-bar":"progress-bar_1UypRVDA","menu-item":"menu-item_3nU9LEYN","item-icon":"item-icon_3NQaz43Q","item-name":"item-name_26DsXl9a","account-switcher":"account-switcher_eSCn1fWL"}},function(e,t,a){e.exports=a.p+"../styles/i/connect-logo.927b13506030489ed4daf90f9c417423.png"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=C(["region"],["region"]),i=C(["autoLocated"],["autoLocated"]),l=C(["footer.regionChange"],["footer.regionChange"]),c=E(a(2)),u=E(a(1)),d=E(a(15)),p=a(5),f=a(0),h=E(a(3)),m=E(a(43)),_=E(a(13)),g=E(a(4)),v=E(a(350)),b=a(6),y=E(b),w=E(a(351)),j=E(a(107));function E(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var S=(0,p.decorator)({region:(0,f.state)(s),autoLocated:(0,f.state)(i),regionChange:(0,f.signal)(l)})(n=(0,g.default)(v.default)(n=(0,y.default)(w.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(O,h.default),o(O,[{key:"onChangeRegion",value:function(){this.props.regionChange({regionRefId:this.state.choiceRegion})}},{key:"render",value:function(){var n=this;if(!d.default.REGION_AUTO_LOCATED_NOTE_ENABLED)return null;var e=this.props,t=e.region,a=e.autoLocated,o=d.default.REGIONS.find(function(e){return e.refId===t}),r=(0,b.i18n)(this.context,j.default,o&&o.i18n_key||"region_06"),s=d.default.REGIONS.map(function(e){return{text:(0,b.i18n)(n.context,j.default,e.i18n_key),value:e.refId}}),i=u.default.createElement("div",{key:"regionNote",className:this.ss("region-note")},u.default.createElement("div",{className:this.ss("note")},this.__("note",{region:r})),u.default.createElement("div",{className:this.ss("region")},u.default.createElement(m.default,{className:this.ss("region-select"),buttonClassName:this.ss("region-select-btn"),optGroupClassName:this.ss("region-select-items"),selects:s,value:this.state.choiceRegion,onChange:function(e,t,a){return n.setState({choiceRegion:a})}}),u.default.createElement(_.default,{className:this.ss("btn-ok"),label:this.__("btn_ok"),theme:"black",onClick:function(){return n.onChangeRegion()}})));return a&&i||null}}]),O.propTypes={region:c.default.string,autoLocated:c.default.bool,regionChange:c.default.func},n=O))||n)||n)||n;function O(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=k(this,(e=O.__proto__||Object.getPrototypeOf(O)).call.apply(e,[this].concat(o)))).state={choiceRegion:a.props.region},k(a,t)}t.default=S},function(e,t){e.exports={"region-note":"region-note_1wVsOoYY",note:"note_1nQZJaUS",region:"region_3rBOILjQ","region-select":"region-select_2G79_nwS","region-select-btn":"region-select-btn_6UKZX1gJ","region-select-items":"region-select-items_xYhvPcdN","btn-ok":"btn-ok_3dpC6IlF"}},function(e,t){e.exports={note:"note_34uM",btn_ok:"btn_ok_1oBX"}},function(e,t){e.exports={footer:"footer_gB2SQFq1",black:"black_1SNs96wa",context:"context_X0yLJLiH",copyright:"copyright_2xBra9b8",links:"links_2vDoJs1s",link:"link_158SuLFX","link-contact-us":"link-contact-us_2eOw5XY_","link-dsa-report":"link-dsa-report_3U2SOD6f",shares:"shares_17fK4Dop",share:"share_16pSoqCJ","choice-control":"choice-control_KNRpftRm",region:"region_1dI34jgL",label:"label_3ruKM066",select:"select_3cE0LJRA","select-text":"select-text_355G1-cl","select-flag":"select-flag_3zRYwBR6","select-btn":"select-btn_1u5bJ8Gj","select-items":"select-items_3_4IU_Nw","contact-us":"contact-us_1yMtbd9l","dsa-report":"dsa-report_3shu2paf","icon-arrow-down":"icon-arrow-down_3NMh2Fzg"}},function(e,t){e.exports={link_text_0:"link_text_0_ExQL",link_text_1:"link_text_1_3_qb",link_text_2:"link_text_2_1VEs",link_text_3:"link_text_3_z-ed",link_text_4:"link_text_4_3HTr",copyright:"copyright_2i1W",onetrust_settings:"onetrust_settings_1jSi",contact_us:"contact_us_15VB",mail_subject:"mail_subject_3xZ4",choice_lang:"choice_lang_3Aca",choice_region:"choice_region_2o0s",dsa_report:"dsa_report_3EMj"}},,function(e,t){e.exports={"image-popup-wrap":"image-popup-wrap_2mfd1uIw","image-popup-bg":"image-popup-bg_4rOUncNH","image-wrap":"image-wrap_2c_lroAL","image-inner":"image-inner_1oyTehEW",center:"center_243-nVyG",image:"image_1ZTsq_jh",video:"video_2e9gzh5B","arrow-wrap":"arrow-wrap_35Myb9WE",arrow:"arrow_2ayL-p-H",close:"close_PGfJas40",hide:"hide_3zu2v6fP","loading-wrap":"loading-wrap_1qxIOlge",loading:"loading_3gj0I0Kj"}},function(e,t){e.exports={"dialog-wrap":"dialog-wrap_2D2KBBXW","report-wrap":"report-wrap_2VN6nznH","report-title":"report-title_1tnENBT6","report-options":"report-options_2is75Ek7","report-option-item":"report-option-item_3oBzjn_Q","report-option-row":"report-option-row_u4ZqDBEz","button-wrap":"button-wrap_3-py6JZv",button:"button_3y8N7RUr","btn-submit":"btn-submit_Uhx-FEps"}},function(e,t){e.exports={title_report_user:"title_report_user_3CHc",title_report_project:"title_report_project_3w0N",title_report_webgl:"title_report_webgl_2cSW",title_report_job:"title_report_job_3i5b",title_report_company:"title_report_company_2DFa",title_report_comment:"title_report_comment__3OO",report_title:"report_title_19w2",report_option_spam:"report_option_spam_3qeX",report_option_copyright_violation:"report_option_copyright_violation_nJTn",report_option_abusive_contents:"report_option_abusive_contents_uJG-",report_option_adult_contents:"report_option_adult_contents_3GSh",input_placeholder:"input_placeholder_23wq",btn_submit:"btn_submit_3xUy",error_isRequired:"error_isRequired_2xlS",error_maxLength80:"error_maxLength80_51UC",error_minLength10:"error_minLength10_TnxO"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=Object.freeze(Object.defineProperties(["header.setWindowSize"],{raw:{value:Object.freeze(["header.setWindowSize"])}})),i=w(a(2)),l=w(a(1)),c=w(a(3)),u=a(5),d=a(0),p=w(a(135)),f=w(a(359)),h=w(a(136)),m=w(a(17)),_=w(a(140)),g=w(a(362)),v=w(a(76)),b=w(a(4)),y=w(a(368));function w(e){return e&&e.__esModule?e:{default:e}}var j=(0,u.decorator)({setWindowSize:(0,d.signal)(s)})(n=(0,b.default)(y.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(E,c.default),o(E,[{key:"componentDidMount",value:function(){this.props.setWindowSize()}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.contentClass,n=e.mediaData,o=e.mediaSignals,r=e.onScrollEnd;return l.default.createElement("div",{id:"pageContent",className:this.ss(a)},l.default.createElement(p.default,null),l.default.createElement(m.default,{onScrollEnd:r},l.default.createElement(f.default,null),l.default.createElement("div",{id:"pageBody",className:this.ss("default-layout")},t),l.default.createElement("div",{className:this.ss("footer-nonsticky")},l.default.createElement(h.default,{type:"non-sticky"}))),!!n&&l.default.createElement(_.default,{mediaSignals:o,mediaData:n}),l.default.createElement(g.default,null),l.default.createElement(v.default,null),l.default.createElement("div",{className:this.ss("footer-sticky")},l.default.createElement(h.default,{type:"sticky"})))}}]),E.propTypes={children:i.default.node,contentClass:i.default.string,setWindowSize:i.default.func,mediaData:i.default.object,mediaSignals:i.default.object,onScrollEnd:i.default.func},n=E))||n)||n;function E(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}t.default=j},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MoreAction=t.AvatarAction=void 0;var n,o,r,s,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e,t,a){return t&&c(e.prototype,t),a&&c(e,a),e};function c(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=Y(["loginUser"],["loginUser"]),d=Y(["currentHost"],["currentHost"]),p=Y(["currentPath"],["currentPath"]),f=Y(["team.showBasicForm"],["team.showBasicForm"]),h=Y(["header.postSchool"],["header.postSchool"]),m=Y(["header.openCreateGroupDialog"],["header.openCreateGroupDialog"]),_=Y(["header.loginTo"],["header.loginTo"]),g=Y(["header.createProjectByTypeInternal"],["header.createProjectByTypeInternal"]),v=Y(["header.setting.headerTop"],["header.setting.headerTop"]),b=Y(["header.setting.scrollTop"],["header.setting.scrollTop"]),y=Y(["header.closeLoginWindow"],["header.closeLoginWindow"]),w=Y(["header.setCurrHeaderTop"],["header.setCurrHeaderTop"]),j=Y(["header.setHeaderPosition"],["header.setHeaderPosition"]),E=F(a(2)),k=F(a(1)),C=F(a(3)),S=a(5),O=a(0),N=a(18),P=F(a(15)),T=a(75),x=F(a(85)),M=F(a(22)),I=F(a(102)),R=F(a(103)),D=F(a(104)),L=F(a(105)),A=F(a(101)),U=a(75),W=F(a(4)),z=F(a(360)),H=F(a(6)),q=F(a(361)),B=F(a(106));function F(e){return e&&e.__esModule?e:{default:e}}function G(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Y(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Z=!1,Q=t.AvatarAction=(0,S.decorator)({loginUser:(0,O.state)(u),currentHost:(0,O.state)(d),currentPath:(0,O.state)(p),showForm:(0,O.signal)(f),postSchool:(0,O.signal)(h),postGroup:(0,O.signal)(m),loginTo:(0,O.signal)(_)})(n=(0,W.default)(z.default)(n=(0,H.default)(q.default)((J(X,C.default),l(X,[{key:"componentDidMount",value:function(){Z||(Z=!0,window.addEventListener("uasMenuClicked",this.onMenuClicked))}},{key:"componentWillUnmount",value:function(){window.addEventListener("uasMenuClicked",this.onMenuClicked)}},{key:"render",value:function(){var e=this.props,t=e.loginUser,a=e.currentHost,n=e.currentPath,o="https://"+a+"/public/pages/auth/cbiframe.html?redirect_to="+encodeURIComponent(n)+"&source=account_switch",r="https://"+a+"/auth/account_switch/callback?noiframe=true&redirect_to="+encodeURIComponent(n),s="https://"+a+"/auth/logout/callback?redirectUri="+n,i=P.default.NAME,l={headerHeight:72,menuItems:[],env:"production"===i?"prod":"staging"===i?"staging":"int",loginRedirectURL:o,switchAccountRidirectURL:r,logoutRedirectURL:s,clientID:"marketplace"};return t&&(l.user={avatar:t.avatar,name:t.name},l.userProfileURL="https://"+a+"/u/"+t.id),k.default.createElement("div",{className:this.ss("account-switcher")},k.default.createElement("unity-account-switcher",{config:JSON.stringify(l)}))}}]),X.propTypes={loginUser:E.default.object,currentHost:E.default.string,currentPath:E.default.string,showForm:E.default.func,postSchool:E.default.func,postGroup:E.default.func,loginTo:E.default.func},n=X))||n)||n)||n;function X(){var e,t,i;K(this,X);for(var a=arguments.length,n=Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=i=V(this,(e=X.__proto__||Object.getPrototypeOf(X)).call.apply(e,[this].concat(n)))).onMenuClicked=function(e){var t,a=i.props,n=a.showForm,o=a.postSchool,r=(G(t={},UAS_MENU_ITEMS.CREATE_COMPANY,n),G(t,UAS_MENU_ITEMS.CREATE_SCHOOL,o),G(t,UAS_MENU_ITEMS.MY_GROUPS,function(){return windowLocationHref("/groups")}),G(t,UAS_MENU_ITEMS.MY_REFERENCES,function(){return windowLocationHref("/ref")}),G(t,UAS_MENU_ITEMS.SETTINGS,function(){return windowLocationHref("/settings")}),t),s=e.detail;r[s]&&r[s]()},V(i,t)}var $=t.MoreAction=(0,W.default)(z.default)(o=(0,H.default)(q.default)((J(ee,C.default),l(ee,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,N.addClickOutside)([this],function(){e.setState({hover:!1})})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"render",value:function(){var e=this,t=this.state.hover,a=this.props.currentPath,n="/discover/all-showcases";return k.default.createElement("div",{className:this.ss("more-action",t&&"hover")},k.default.createElement("button",{className:this.ss("button","ifont","ifont-bars"),onClick:function(){return e.setState({hover:!t})}}),k.default.createElement("div",{className:this.ss("popout")},t&&k.default.createElement("div",{className:this.ss("discovery"),onClose:function(){return e.setState({hover:!1})}},k.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-gamepad")}),k.default.createElement(B.default,{title:"How to",font:14})),t&&k.default.createElement("div",{className:this.ss("discovery"),onClose:function(){return e.setState({hover:!1})}},k.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-gamepad")}),k.default.createElement("a",{className:this.ss("nav-item",a===n&&"active"),href:n,style:{fontSize:"14px"}},"Showcases"))))}}]),o=ee))||o)||o;function ee(){var e,t,a;K(this,ee);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=V(this,(e=ee.__proto__||Object.getPrototypeOf(ee)).call.apply(e,[this].concat(o)))).state={hover:!1},V(a,t)}var te=(0,S.decorator)({createProjectByType:(0,O.signal)(g)})(r=(0,W.default)(z.default)(r=(0,H.default)(q.default)((J(ae,C.default),l(ae,[{key:"onClick",value:function(){this.props.createProjectByType({type:"webgl",skipPopup:!0})}},{key:"render",value:function(){var e=this;return k.default.createElement(M.default,{text:this.__("menu_post_project"),position:"bottom"},k.default.createElement("button",{className:this.ss("post-project"),onClick:function(){return e.onClick()},"aria-label":this.__("menu_post_project")},k.default.createElement("span",{className:this.ss("icons-logo","ifont","ifont-icons-upload-new")})))}}]),ae.propTypes={createProjectByType:E.default.func},r=ae))||r)||r)||r;function ae(){return K(this,ae),V(this,(ae.__proto__||Object.getPrototypeOf(ae)).apply(this,arguments))}var ne=(0,S.decorator)({currentPath:(0,O.state)(p),headerTop:(0,O.state)(v),scrollTop:(0,O.state)(b),loginUser:(0,O.state)(u),closeLoginWindow:(0,O.signal)(y),setCurrHeaderTop:(0,O.signal)(w),setHeaderPosition:(0,O.signal)(j)})(s=(0,W.default)(z.default)(s=(0,H.default)(q.default)((J(oe,C.default),l(oe,[{key:"inSignUp",value:function(){return"/sign-up"===this.props.currentPath}},{key:"isLogin",value:function(){return!!this.props.loginUser}},{key:"renderUserActions",value:function(){var e=this;return this.inSignUp()?k.default.createElement("div",{className:this.ss("user-actions")},k.default.createElement("div",{className:this.ss("beta-user")},k.default.createElement("a",{className:this.ss("logout-btn"),href:"/auth/logout"},this.__("logout_action")))):k.default.createElement("div",{className:this.ss("user-actions")},k.default.createElement("div",i({id:"nav-search-box",key:"sajari-search-box"},this.state.mobileSearchOpen&&{className:"active"}),k.default.createElement("button",{className:this.ss("search-close"),onClick:function(){return e.setState({mobileSearchOpen:!1})}},k.default.createElement("span",{className:this.ss("icon-close","ifont","ifont-icon-close")}))),k.default.createElement(R.default,{right:[k.default.createElement(M.default,{key:"mobile-search",className:this.ss("search-open-wrapper"),text:this.__("Search"),position:"bottom"},k.default.createElement("button",{id:"open-mobile-search",className:this.ss("search-open"),onClick:function(){return e.setState({mobileSearchOpen:!0})},role:"button","aria-expanded":this.state.mobileSearchOpen},k.default.createElement("span",{className:this.ss("icons-logo","ifont","ifont-icons-search")}))),k.default.createElement("div",{key:"desktop",className:this.ss("desktop-only")},k.default.createElement(te,{key:"post-project"})),k.default.createElement(T.ApplicationSwitcherAction,{key:"application_switcher",className:this.ss("switcher")}),k.default.createElement(Q,{key:"avatar",theme:"webgl"})]}))}},{key:"renderLogo",value:function(){return k.default.createElement("a",{className:this.ss("logo"),href:"/"},k.default.createElement("img",{className:this.ss("logo-image"),src:"/public/images/logos/unity-play-logo.min.svg",alt:"Unity Play Logo"}))}},{key:"render",value:function(){var e=this.props,t=e.closeLoginWindow,a=e.currentPath,n="/discover/all-showcases";return k.default.createElement("div",null,k.default.createElement(L.default,null),k.default.createElement(x.default,null),k.default.createElement("div",{className:this.ss("header-wrap")},k.default.createElement("div",{className:this.ss("header")},k.default.createElement($,null),this.renderLogo(),k.default.createElement("div",{className:this.ss("desktop")},k.default.createElement("a",{className:this.ss("nav-item",a===n&&"active"),href:n},"Showcases"),k.default.createElement(B.default,{title:"How to"})),this.renderUserActions())),k.default.createElement(A.default,null),k.default.createElement(I.default,{onClose:function(){return t()}}),k.default.createElement(D.default,null),k.default.createElement(U.TfaNotifyDialog,null),k.default.createElement(U.TfaConfirmDialog,null))}}]),oe.propTypes={currentPath:E.default.string.isRequired,headerTop:E.default.number.isRequired,scrollTop:E.default.number.isRequired,loginUser:E.default.object,closeLoginWindow:E.default.func,setCurrHeaderTop:E.default.func,setHeaderPosition:E.default.func},s=oe))||s)||s)||s;function oe(){var e,t,a;K(this,oe);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=V(this,(e=oe.__proto__||Object.getPrototypeOf(oe)).call.apply(e,[this].concat(o)))).state={mobileSearchOpen:!1},V(a,t)}t.default=ne},function(e,t){e.exports={"header-wrap":"header-wrap_1MgbJAZ_",header:"header_2Gb9Vnfi",discovery:"discovery_vuqGJ_DK","nav-item":"nav-item_2jpnhz7s",active:"active_3zj7bvyc",logo:"logo_No7hI4uN",desktop:"desktop_1TAWRX2g","user-actions":"user-actions_1Gs5RsbG","desktop-only":"desktop-only_2tid5JLd","post-project":"post-project_VFEnzL5C","beta-user":"beta-user_1xLyHf6R","logout-btn":"logout-btn_ahgj7EYI","search-close":"search-close_22ZXeIDj","search-open":"search-open_1TpM75FZ","more-action":"more-action_wt25N3Rl",button:"button_BsakNLtP",popout:"popout_3GSgF7fj",icon:"icon_3_NjHcWs",hover:"hover_33cwXij-"}},function(e,t){e.exports={edit_game:"edit_game_3dcf",get_started:"get_started_3v1O",get_started_short:"get_started_short_B2Gs",menu_post_project:"menu_post_project_MeGs"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=w(["job.jobExampleShow"],["job.jobExampleShow"]),i=w(["job.hideJobExample"],["job.hideJobExample"]),l=b(a(2)),c=b(a(1)),u=b(a(3)),d=a(5),p=a(0),f=b(a(363)),h=b(a(17)),m=a(11),_=a(18),g=b(a(4)),v=b(a(367));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=(0,d.decorator)({jobExampleShow:(0,p.state)(s),hideJobExample:(0,p.signal)(i)})(n=(0,g.default)(v.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(E,u.default),o(E,[{key:"componentDidMount",value:function(){var t=this;this._handKeyDown=function(e){return t.onKeyDown(e)},window.addEventListener("keydown",this._handKeyDown,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._handKeyDown,!1)}},{key:"onKeyDown",value:function(e){var t=this.props.jobExampleShow,a=e.keyCode;if(t)switch(a){case 27:this.onClose(e)}}},{key:"render",value:function(){var t=this;if(!this.props.jobExampleShow)return null;var e=c.default.createElement("button",{className:this.ss("close"),onClick:this.onClose},c.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")}));return c.default.createElement("div",{className:this.ss("post-popup-wrap")},c.default.createElement("div",{className:this.ss("job-example-popup")}),c.default.createElement("div",{className:this.ss("job-example"),onClick:this.onClick},c.default.createElement(h.default,null,c.default.createElement("div",{className:this.ss("job-info","popup"),ref:function(e){t.jobExampleInfo=e}},c.default.createElement("div",{className:this.ss("job-info-wrap","detail")},c.default.createElement(f.default,null))))),e)}}]),E.propTypes={jobExampleShow:l.default.bool,hideJobExample:l.default.func},n=E))||n)||n;function E(){var e,t,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E);for(var a=arguments.length,n=Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=o=y(this,(e=E.__proto__||Object.getPrototypeOf(E)).call.apply(e,[this].concat(n)))).onClick=function(e){(0,_.getClickOutside)([o.jobExampleInfo],function(e){return o.onClose(e)})(e)},o.onClose=function(e){e&&(0,m.pauseEvent)(e);var t=o.props,a=t.jobExampleShow,n=t.hideJobExample;a&&n()},y(o,t)}t.default=j},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=f(a(1)),i=f(a(3)),l=f(a(4)),c=f(a(364)),u=f(a(6)),d=f(a(365)),p=f(a(366));function f(e){return e&&e.__esModule?e:{default:e}}var h=(0,l.default)(c.default)(n=(0,u.default)(d.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,i.default),o(m,[{key:"renderJobPropsInfo",value:function(){return s.default.createElement("div",{className:this.ss("job-prop-row")},s.default.createElement("div",{className:this.ss("span"),key:"place"},this.__("job_place")),s.default.createElement("div",{className:this.ss("span"),key:"type"},this.__("fullTime")),s.default.createElement("div",{className:this.ss("span"),key:"other"},this.__("other")),s.default.createElement("div",{className:this.ss("span"),key:"pubTime"},this.__("publish_time",{time:"2017-09-20T20:21:17.857Z"})))}},{key:"renderJobAttrs",value:function(){return s.default.createElement("div",{className:this.ss("job-attr-row")},s.default.createElement("div",{className:this.ss("span"),key:"unityExpLevel"},this.__("unityExperience",{experience:"qualified"})),s.default.createElement("div",{className:this.ss("span"),key:"unityCertified"},this.__("unityCertified",{level:this.__("preferred")})))}},{key:"renderJobDesc",value:function(){return s.default.createElement("div",{className:this.ss("job-desc")},s.default.createElement("div",{className:this.ss("description")},s.default.createElement("div",{dangerouslySetInnerHTML:{__html:(0,p.default)('<p>The Unity Analytics team is the global leader in predictive marketing and data science for games and apps. Unity Analytics has captured deep dynamic user behaviors across over 400 million user profiles, and enables leading apps and games to retain, monetize, and personalize the app experience for all customers.</p>\n<p>Empowering game developers from indie to enterprise is our core focus. Together, we’ll work to provide a global cloud-based platform that enables developers to better connect with their audience, optimize their players’ experience, and discover the right players for their games.  </p>\n<p>As a Sr. Backend Engineer on the Unity Analytics team, you will help to collect and analyze data from hundreds of millions of Unity game players.</p>\n<p>You are a software engineer who knows all about how to capture and explicate massive amounts of information. You are passionate about how analytics can improve decision making to empower game developers. You love data science, and have done some work in Java, Spark, and Scala to help build and/or maintain systems in big data.</p>\n<p><strong>Responsibilities </strong></p>\n<ul>\n<li>Design, implement, test and maintain Unity’s platform and services that are capable of handling real time and batch processing of thousands of requests and daily events</li>\n<li>Write high-quality code that supports existing and future functionality of the product</li>\n</ul>\n<p><strong>Requirements </strong></p>\n<ul>\n<li>5 yrs of professional programming experience in Java, Scala, #C#</li>\n<li>2 yrs of experience developing large scale data solutions using one or more of the following technologies: Spark, Hadoop, Storm, Kafka, Cassandra, HBase</li>\n<li>Solid understanding of systems and management of resources or 2 yrs of experience developing large scale distributed systems</li>\n<li>BS in Computer Science or equivalent experience </li>\n</ul>\n<p><strong>Bonus Points</strong></p>\n<ul>\n<li>Excited by data science and analytics</li>\n</ul>\n<p class="p1"><strong>Who We Are</strong></p>\n<p>We are product-driven, curious, and creative. We aggressively reinvest in development to keep Unity moving and evolving - from expanding usability and power, to platform reach. With over a billion installs per month, Unity touches gamers and non-gamers alike. As well as video games, our software is used in industries as diverse as medicine, visualization and shopping - democratizing game development while solving hard problems and enabling success for a huge range of developers worldwide.</p>\n<p>Today, Unity has expanded to over 15 international offices and has employees in 23 countries. Every person at Unity Technologies has an inherent passion and driven spirit and it isn’t enough to be able to do the job- we’re looking for people that color outside the lines, are looking to be freed from the process tangle, and can dream big!</p>\n<hr>\n<p>Headhunters and recruitment agencies may not submit resumes/CVs through this Web site or directly to managers. Unity does not accept unsolicited headhunter and agency resumes. Unity will not pay fees to any third-party agency or company that does not have a signed agreement with Unity.</p>\n<p>Pursuant to the San Francisco Fair Chance Ordinance, we will consider for employment qualified applicants with arrest and conviction records.</p>\n<p><em><span style="font-family: arial, helvetica, sans-serif;">Unity is an Equal Opportunity Employer committed to providing employment opportunities without regard to race, color, </span><span style="font-family: arial, helvetica, sans-serif;">sex </span><span style="font-family: arial, helvetica, sans-serif;">(including gender identity, sexual orientation, and pregnancy)</span><span style="font-family: arial, helvetica, sans-serif;">, age</span><span style="font-family: arial, helvetica, sans-serif;">, national origin, religion, veteran status, disability, </span><span style="font-family: arial, helvetica, sans-serif;">genetic information</span><span style="font-family: arial, helvetica, sans-serif;">, or any other protected status in accordance with applicable law.</span></em></p>\n<p>#LI-MH1</p>","descriptionPlain":"The Unity Analytics team is the global leader in predictive marketing and data science for games and apps. Unity Analytics has captured deep dynamic user behaviors across over 400 million user profiles, and enables leading apps and games to retain, monetize, and personalize the app experience for all customers.\nEmpowering game developers from indie to enterprise is our core focus. Together, we’ll work to provide a global cloud-based platform that enables developers to better connect with their audience, optimize their players’ experience, and discover the right players for their games.  \nAs a Sr. Backend Engineer on the Unity Analytics team, you will help to collect and analyze data from hundreds of millions of Unity game players.\nYou are a software engineer who knows all about how to capture and explicate massive amounts of information. You are passionate about how analytics can improve decision making to empower game developers. You love data science, and have done some work in Java, Spark, and Scala to help build and/or maintain systems in big data.\nResponsibilities \n\nDesign, implement, test and maintain Unity’s platform and services that are capable of handling real time and batch processing of thousands of requests and daily events\nWrite high-quality code that supports existing and future functionality of the product\n\nRequirements \n\n5 yrs of professional programming experience in Java, Scala, #C#\n2 yrs of experience developing large scale data solutions using one or more of the following technologies: Spark, Hadoop, Storm, Kafka, Cassandra, HBase\nSolid understanding of systems and management of resources or 2 yrs of experience developing large scale distributed systems\nBS in Computer Science or equivalent experience \n\nBonus Points\n\nExcited by data science and analytics\n\nWho We Are\nWe are product-driven, curious, and creative. We aggressively reinvest in development to keep Unity moving and evolving - from expanding usability and power, to platform reach. With over a billion installs per month, Unity touches gamers and non-gamers alike. As well as video games, our software is used in industries as diverse as medicine, visualization and shopping - democratizing game development while solving hard problems and enabling success for a huge range of developers worldwide.\nToday, Unity has expanded to over 15 international offices and has employees in 23 countries. Every person at Unity Technologies has an inherent passion and driven spirit and it isn’t enough to be able to do the job- we’re looking for people that color outside the lines, are looking to be freed from the process tangle, and can dream big!\n\nHeadhunters and recruitment agencies may not submit resumes/CVs through this Web site or directly to managers. Unity does not accept unsolicited headhunter and agency resumes. Unity will not pay fees to any third-party agency or company that does not have a signed agreement with Unity.\nPursuant to the San Francisco Fair Chance Ordinance, we will consider for employment qualified applicants with arrest and conviction records.\nUnity is an Equal Opportunity Employer committed to providing employment opportunities without regard to race, color, sex (including gender identity, sexual orientation, and pregnancy), age, national origin, religion, veteran status, disability, genetic information, or any other protected status in accordance with applicable law.\n#LI-MH1')}})))}},{key:"render",value:function(){return s.default.createElement("div",{className:this.ss("job")},s.default.createElement("div",{className:this.ss("job-title")},this.__("job_title")),this.renderJobPropsInfo(),this.renderJobAttrs(),this.renderJobDesc())}}]),n=m))||n)||n;function m(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}t.default=h},function(e,t){e.exports={job:"job_1_SYva3d","job-title":"job-title_1R-5vwBu","job-prop-row":"job-prop-row_2LYhm1ha","job-attr-row":"job-attr-row_14BgDtDV",span:"span_2avaWAW-",task:"task_3wULA1on","job-desc":"job-desc_1QlVT4yf",description:"description_QG4y1bqC"}},function(e,t){e.exports={good_example:"good_example_2ZEZ",job_title:"job_title_2C_3",job_place:"job_place_Wqcg",language:"language_nl4z",skill:"skill_1Qkm",ohter:"ohter_2uXk",attr_task:"attr_task_3weT",fullTime:"fullTime_37Nq",expires:"expires_AvOP",publish_time:"publish_time_-dxB",budget:"budget_aPze",remoteOk:"remoteOk_p4sl",unityExperience:"unityExperience_3_yG",unityCertified:"unityCertified_23Ns",preferred:"preferred_1JBt"}},function(e,t,a){e.exports=a(8)(1131)},function(e,t){e.exports={"job-example-popup":"job-example-popup_3uor91xK","job-example":"job-example_a14cJCRu",close:"close_1U_Wjjgo","job-info":"job-info_2RqbR84_",popup:"popup_1WMeJ6m2","job-info-wrap":"job-info-wrap_Hp94yIwH",detail:"detail_2kPMO1ds"}},function(e,t){e.exports={"default-layout":"default-layout_RwnACAOa","footer-sticky":"footer-sticky_1f-EaWrj","footer-nonsticky":"footer-nonsticky_3pyogdkb"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=Be(["project.edit"],["project.edit"]),i=Be(["project.projectData"],["project.projectData"]),l=Be(["project.contentMap"],["project.contentMap"]),c=Be(["project.editing"],["project.editing"]),u=Be(["project.projectData.description"],["project.projectData.description"]),d=Be(["project.projectData.rows"],["project.projectData.rows"]),p=Be(["project.projectData.readmore"],["project.projectData.readmore"]),f=Be(["project.projectData.hideReadmore"],["project.projectData.hideReadmore"]),h=Be(["project.projectData.changed"],["project.projectData.changed"]),m=Be(["project.webglPKG"],["project.webglPKG"]),_=Be(["project.like"],["project.like"]),g=Be(["project.comments"],["project.comments"]),v=Be(["project.recommend"],["project.recommend"]),b=Be(["project.showWebglToolBar"],["project.showWebglToolBar"]),y=Be(["project.projectData.enableMobile"],["project.projectData.enableMobile"]),w=Be(["project.time"],["project.time"]),j=Be(["project.uploadingPreview"],["project.uploadingPreview"]),E=Be(["project.hideRecord"],["project.hideRecord"]),k=Be(["project.showStopRecord"],["project.showStopRecord"]),C=Be(["project.mute"],["project.mute"]),S=Be(["project.uploads"],["project.uploads"]),O=Be(["project.uploadId"],["project.uploadId"]),N=Be(["project.processing"],["project.processing"]),P=Be(["project.pauseBackGround"],["project.pauseBackGround"]),T=Be(["project.pauseState"],["project.pauseState"]),x=Be(["loginUser"],["loginUser"]),M=Be(["project.webglPKG.webgl.previewAttachmentId"],["project.webglPKG.webgl.previewAttachmentId"]),I=Be(["currentUserId"],["currentUserId"]),R=Be(["project.loadingMobile"],["project.loadingMobile"]),D=Be(["pageType"],["pageType"]),L=Be(["project.contentLength"],["project.contentLength"]),A=Be(["project.warning.title"],["project.warning.title"]),U=Be(["project.prePost.disablePostButton"],["project.prePost.disablePostButton"]),W=Be(["project.projectData.challengeId"],["project.projectData.challengeId"]),z=Be(["project.prePost.updateStatus"],["project.prePost.updateStatus"]),H=Be(["project.autoSave.updateStatus"],["project.autoSave.updateStatus"]),q=Be(["project.projectData.title"],["project.projectData.title"]),B=Be(["project.isHottest"],["project.isHottest"]),F=Be(["project.projectData.id"],["project.projectData.id"]),G=Be(["project.initWebglData"],["project.initWebglData"]),K=Be(["project.getBody"],["project.getBody"]),V=Be(["header.showMessage"],["header.showMessage"]),J=Be(["project.publishWebgl"],["project.publishWebgl"]),Y=Be(["project.openDeleteChallengeConfirm"],["project.openDeleteChallengeConfirm"]),Z=Be(["project.setProjectState"],["project.setProjectState"]),Q=Be(["project.openShare"],["project.openShare"]),X=Be(["project.openGetLink"],["project.openGetLink"]),$=Be(["report.open"],["report.open"]),ee=Be(["project.toggleLike"],["project.toggleLike"]),te=Be(["project.setChanged"],["project.setChanged"]),ae=Be(["project.setContentIds"],["project.setContentIds"]),ne=Be(["project.setEnableMobile"],["project.setEnableMobile"]),oe=Be(["project.setHideReadmore"],["project.setHideReadmore"]),re=Be(["project.setReadmore"],["project.setReadmore"]),se=Be(["project.submitDescription"],["project.submitDescription"]),ie=Be(["project.changeDescription"],["project.changeDescription"]),le=Be(["project.setEditing"],["project.setEditing"]),ce=Be(["project.projectData.body"],["project.projectData.body"]),ue=Be(["project.openProjectDeleteDialog"],["project.openProjectDeleteDialog"]),de=Be(["project.downloadPreview"],["project.downloadPreview"]),pe=Be(["project.toggleHottestProject"],["project.toggleHottestProject"]),fe=Be(["project.showDownloadTermDialog"],["project.showDownloadTermDialog"]),he=He(a(2)),me=He(a(1)),_e=a(5),ge=a(0),ve=He(a(3)),be=(He(a(370)),a(26)),ye=He(a(73)),we=a(10),je=a(11),Ee=He(a(14)),ke=He(a(4)),Ce=He(a(374)),Se=He(a(6)),Oe=He(a(375)),Ne=He(a(376)),Pe=He(a(379)),Te=He(a(383)),xe=He(a(15)),Me=He(a(90)),Ie=He(a(241)),Re=He(a(91)),De=a(7),Le=He(a(13)),Ae=a(386),Ue=He(Ae),We=He(a(389)),ze=He(a(40));function He(e){return e&&e.__esModule?e:{default:e}}function qe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Be(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Fe=(0,_e.decorator)({edit:(0,ge.state)(s),projectData:(0,ge.state)(i),contentMap:(0,ge.state)(l),editing:(0,ge.state)(c),defaultDescriptionState:(0,ge.state)(u),rows:(0,ge.state)(d),readmore:(0,ge.state)(p),hideReadmore:(0,ge.state)(f),changed:(0,ge.state)(h),webglPKG:(0,ge.state)(m),like:(0,ge.state)(_),comments:(0,ge.state)(g),recommend:(0,ge.state)(v),showWebglToolBar:(0,ge.state)(b),enableMobile:(0,ge.state)(y),time:(0,ge.state)(w),uploadingPreview:(0,ge.state)(j),hideRecord:(0,ge.state)(E),showStopRecord:(0,ge.state)(k),mute:(0,ge.state)(C),uploads:(0,ge.state)(S),uploadId:(0,ge.state)(O),processing:(0,ge.state)(N),pauseBackGround:(0,ge.state)(P),pauseState:(0,ge.state)(T),loginUser:(0,ge.state)(x),previewAttachmentId:(0,ge.state)(M),currentUserId:(0,ge.state)(I),loadingMobile:(0,ge.state)(R),pageType:(0,ge.state)(D),contentLength:(0,ge.state)(L),titleWarning:(0,ge.state)(A),disablePostButton:(0,ge.state)(U),challengeId:(0,ge.state)(W),postStatus:(0,ge.state)(z),saveStatus:(0,ge.state)(H),defaultTitleState:(0,we.$editorStateFromText)((0,ge.state)(q)),defaultDescriptionStateObject:(0,we.$editorStateFromText)((0,ge.state)(u)),isHottest:(0,ge.state)(B),projectId:(0,ge.state)(F),initWebglData:(0,ge.signal)(G),getBody:(0,ge.signal)(K),showMessage:(0,ge.signal)(V),onPublish:(0,ge.signal)(J),openDeleteChallengeConfirm:(0,ge.signal)(Y),setProjectState:(0,ge.signal)(Z),openShare:(0,ge.signal)(Q),openGetLink:(0,ge.signal)(X),reportOpen:(0,ge.signal)($),toggleLike:(0,ge.signal)(ee),setChanged:(0,ge.signal)(te),setContentIds:(0,ge.signal)(ae),setEnableMobile:(0,ge.signal)(ne),setHideReadmore:(0,ge.signal)(oe),setReadmore:(0,ge.signal)(re),submitDescription:(0,ge.signal)(se),changeDescription:(0,ge.signal)(ie),setEditing:(0,ge.signal)(le),defaultBodyState:(0,we.$editorStateFromJSON)((0,ge.state)(ce)),openProjectDeleteDialog:(0,ge.signal)(ue),downloadPreview:(0,ge.signal)(de),toggleHottestProject:(0,ge.signal)(pe),showDownloadTermDialog:(0,ge.signal)(fe)})(n=(0,ke.default)(Ce.default)(n=(0,Se.default)(Oe.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Ge,ve.default),o(Ge,[{key:"componentDidMount",value:function(){var a=this,e=this.props,t=e.projectData,n=e.contentMap,o=e.setContentIds,r=e.pageType,s=e.initWebglData,i=e.enableMobile;o({contentIds:(t.contentIds||[]).filter(function(e){return n[e]&&"img"===n[e].type})}),s(),"detail"!==r&&(window.onbeforeunload=function(){return"You are uploading the preview record"}),setTimeout(function(){a.setState({enableMobile:i}),a.trackNeedReadMore(),a.setState({isDevice:(0,be.isDevice)()});var e=document.getElementById("webgl_iframe").contentWindow,t=a;e.onfocus=function(){t.postMessageToWebgl("startRecordingByFocus")}},1e3)}},{key:"componentDidUpdate",value:function(){this.trackNeedReadMore(),this.trackBody()}},{key:"componentWillUnmount",value:function(){window.onbeforeunload=null}},{key:"onDownloadClick",value:function(){this.props.showDownloadTermDialog()}},{key:"onWebglReportClick",value:function(e){this.props.reportOpen(e)}},{key:"onWebglDeleteClick",value:function(){this.props.openProjectDeleteDialog()}},{key:"onWebglLikeClick",value:function(){this.props.toggleLike()}},{key:"onWebglFullscreenClick",value:function(){this.postMessageToWebgl("fullscreen")}},{key:"onWebglUnmuteClick",value:function(){this.postMessageToWebgl("mute")}},{key:"onWebglScreenshotCommentClick",value:function(){this.postMessageToWebgl("screenshot")}},{key:"onWebglRecordClick",value:function(){this.startRecording()}},{key:"onWebglPauseRecordingClick",value:function(){this.pauseRecord()}},{key:"onWebglStopRecordingClick",value:function(){this.postMessageToWebgl("stopRecording")}},{key:"clickPauseBorder",value:function(){(0,this.props.setProjectState)({key:"pauseBackGround",value:!1}),this.postMessageToWebgl("pauseRecordingByBlur")}},{key:"trackBody",value:function(){(0,this.props.getBody)()}},{key:"trackNeedReadMore",value:function(){var e;"detail"!==this.props.pageType||(e=this.state.needReadMore)!==(document.getElementById("moreDescription").clientHeight!==document.getElementById("lessDescription").clientHeight)&&this.setState({needReadMore:!e})}},{key:"editDescript",value:function(){var e=this.props,t=e.edit,a=e.setEditing,n=e.setReadmore,o=e.setHideReadmore;t&&(n({value:!0}),o({value:!0}),a({value:!0}))}},{key:"submit",value:function(){var e=this.props,t=e.edit,a=e.setEditing,n=e.submitDescription,o=e.setReadmore,r=e.setHideReadmore,s=e.changed,i=e.setChanged;s&&(n(),i({changed:!1})),t&&(a({value:!1}),r({value:!1}),o({value:!1}))}},{key:"OpenShare",value:function(){var e=this.props,t=e.projectData.title,a=e.openShare;this.state.isDevice&&navigator.share?navigator.share({text:this.__("share_body",{title:t}),url:window.location.href}):a()}},{key:"publish",value:function(){var e=this.props,t=e.saveStatus,a=e.uploads,n=e.showMessage,o=e.onPublish,r=e.setEnableMobile,s="project_publish_after_loaded_or_saved";a&&Object.keys(a).some(function(e){return(0,De.isLoading)(a[e].status)})||(0,De.isLoading)(t)?n({message:s}):(window.onbeforeunload=null,r({value:this.state.enableMobile}),o())}},{key:"postMessageToWebgl",value:function(e){var t=(xe.default.WEBGL_PLAYER_BASE_URL||"").replace("/webgl","");document.getElementById("webgl_iframe").contentWindow.postMessage({action:e},t)}},{key:"pauseRecord",value:function(){this.postMessageToWebgl("pauseRecording")}},{key:"parseLink",value:function(t){try{return ze.default.plainTextParse(t,!0,{})}catch(e){return t}}},{key:"startRecording",value:function(){this.props.setProjectState({key:"pauseState",value:!1}),this.postMessageToWebgl("startRecording")}},{key:"renderMuteButton",value:function(e){var t=this,a=this.props,n=a.mute,o=a.showStopRecord,r=this.state.muteShow;return me.default.createElement("button",{className:this.ss("button-wrapper","mute",e&&"hide"),onMouseEnter:function(){return t.setState({muteShow:!0})},onMouseLeave:function(){return t.setState({muteShow:!1})},onClick:function(){return r&&!o&&t.onWebglUnmuteClick()}},me.default.createElement("div",{className:this.ss("mute-icon","ifont",!n&&"ifont-ic_volume_mute",n&&"ifont-ic_volume_on",o&&"inactive")}),n?me.default.createElement(Te.default,{show:r,tips:this.__("mute")}):me.default.createElement(Te.default,{show:r,tips:this.__("volume_on")}))}},{key:"renderScreenshotButton",value:function(e){var t=this,a=this.props,n=a.showStopRecord,o=a.pageType,r=this.state.screenshotTipShow;return me.default.createElement("button",{className:this.ss("button-wrapper","GA_screenshot_botton","screenshot",("detail"!==o||e)&&"hide"),onMouseEnter:function(){return t.setState({screenshotTipShow:!0})},onMouseLeave:function(){return t.setState({screenshotTipShow:!1})},onClick:function(){return!n&&t.onWebglScreenshotCommentClick()}},me.default.createElement("div",{className:this.ss("screenshot-icon","ifont","ifont-ic_camera",n&&"inactive")}),me.default.createElement(Te.default,{show:r,tips:this.__("screenshot_tip")}))}},{key:"renderFullScreen",value:function(e){var t=this,a=this.props.showStopRecord,n=this.state.fullscreenShow;return me.default.createElement("button",{className:this.ss("button-wrapper","fullscreen",e&&"hide"),onMouseEnter:function(){return t.setState({fullscreenShow:!0})},onMouseLeave:function(){return t.setState({fullscreenShow:!1})},onClick:function(){return!a&&t.onWebglFullscreenClick()}},me.default.createElement("div",{className:this.ss("fullscreen-icon","ifont","ifont-ic_expand",a&&"inactive")}),me.default.createElement(Te.default,{show:n,tips:this.__("fullscreen")}))}},{key:"renderLeft",value:function(){var e=this,t=this.props,a=t.hideReadmore,n=t.defaultDescriptionState,o=t.editing,r=t.readmore,s=t.setReadmore,i=t.pageType,l=this.state.needReadMore;if("detail"!==i)return null;var c=this.parseLink(n);return me.default.createElement("div",null,me.default.createElement(Ne.default,null),me.default.createElement("div",{className:this.ss("description-wrapper")},me.default.createElement("div",{id:"moreDescription",className:this.ss("game-description",r&&!o&&"show"),tabIndex:"0",onClick:function(){return e.editDescript()}},c),me.default.createElement("div",{id:"lessDescription",className:this.ss("game-description","readmore-on",!r&&!o&&"show"),tabIndex:"0",onClick:function(){return e.editDescript()}},c),this.renderEditor(),me.default.createElement("button",{className:this.ss("readmore",(!l||a)&&"hide"),onClick:function(){return s({value:!r})}},r?this.__("read_less"):this.__("read_more"))),me.default.createElement("div",{className:this.ss("divider")}))}},{key:"onEnableMobileControls",value:function(){this.setState({enableMobile:!this.state.enableMobile})}},{key:"renderSwitchText",value:function(){return this.state.enableMobile?me.default.createElement("div",null,me.default.createElement("p",null,this.__("mobile_enable_added")),me.default.createElement("div",{className:this.ss("tips")},this.__("mobile_enable_note"))):me.default.createElement("p",null,this.__("mobile_disable"))}},{key:"renderDraft",value:function(){var e=this,t=this.props,a=t.pageType,n=t.postStatus,o=t.disablePostButton,r=t.contentLength,s=t.titleWarning;return"detail"===a?null:me.default.createElement("div",null,me.default.createElement(Me.default,{editorKey:"editorTitle",nextEditorKey:"editorDescription",placeholder:this.__("add_title_hint"),defaultEditorState:this.props.defaultTitleState,warning:s,theme:"webgl"}),me.default.createElement(Re.default,{editorType:"webgl",editorKey:"editorDescription",nextEditorKey:"editorBody",theme:"webgl",prevEditorKey:"editorTitle",placeholder:this.__("add_description_hint"),defaultEditorState:this.props.defaultDescriptionStateObject}),me.default.createElement("div",{className:this.ss("switch-wrapper")},me.default.createElement(ye.default,{disabled:!1,checked:this.state.enableMobile,checkedChildren:"",unCheckedChildren:"",size:"small",color:"blue",onChange:function(){return e.onEnableMobileControls()},className:this.ss("settings_switch")}),me.default.createElement("div",{className:this.ss("switch-desc")},this.renderSwitchText())),me.default.createElement("div",{className:this.ss("save-button")},me.default.createElement(Le.default,{className:this.ss("post"),gaTag:"GA_btn_project_publish",theme:"primary-blue",label:this.__("save"),size:"new-small",disabled:o||r<1,loading:(0,De.isLoadingOrSucceeded)(n),onClick:function(){return e.publish()}})))}},{key:"renderSubContent",value:function(){var e=null;return"detail"===this.props.pageType&&(e=me.default.createElement("div",null,this.renderRecommends())),me.default.createElement("div",{className:this.ss("sub-content")},me.default.createElement("div",{className:this.ss("left")},this.renderLeft(),this.renderDraft()),me.default.createElement("div",{className:this.ss("right")},this.renderMadeWith(),e))}},{key:"renderDetail",value:function(){var e=this,t=this.props,a=t.like,n=t.projectData,o=n.title,r=n.viewCount,s=n.playCount;return me.default.createElement("div",{className:this.ss("detail")},me.default.createElement("div",{className:this.ss("heart","icon","ifont","ifont-icon-heart-o",a&&"ifont-icon-heart",a&&"heartBeat"),onClick:function(){return e.onWebglLikeClick()}}),me.default.createElement("div",{className:this.ss("info")},me.default.createElement("div",{className:this.ss("title")},o),me.default.createElement("div",{className:this.ss("counts")},this.__("views_hint",{count:r,v:(0,je.formatNumberV2)(r)})," · ",this.__("play_hint",{count:s,v:(0,je.formatNumberV2)(s)}))))}},{key:"renderMadeWith",value:function(){var e=this,t=this.props.webglPKG||{},a=t.mgType,n=t.pkgThumbnail,o=a&&n,r="https://store.unity.com/download-nuo";return a&&(r=this.__("url_"+a)),[me.default.createElement("div",{key:"mg-title",className:this.ss("sub-content-title")},this.__("made_with")),o&&me.default.createElement("div",{key:"mg-pkg",className:this.ss("pkg")},me.default.createElement("div",{className:this.ss("image")},me.default.createElement(Ee.default,{src:n,sizes:"40px",width:40,height:40})),me.default.createElement("div",{className:this.ss("name")},this.__(a)),me.default.createElement("a",{className:this.ss("view"),href:r,target:"_blank"},this.__("view"))),me.default.createElement("div",{key:"mg-unity",className:this.ss("pkg")},me.default.createElement("div",{className:this.ss("image-wrapper")},me.default.createElement("div",{className:this.ss("icon-unity","ifont","ifont-unity-icon-white")})),me.default.createElement("div",{className:this.ss("name")},this.__("unity")),me.default.createElement("a",{className:this.ss("view"),onClick:function(){return e.onDownloadClick()}},this.__("download"))),me.default.createElement(Ae.CustomizedMadeWith,{key:"customized"}),me.default.createElement(Ue.default,{key:"add-made-with"})]}},{key:"renderEditor",value:function(){var e=this,t=this.props,a=t.editing,n=t.rows,o=t.defaultDescriptionState;return a?me.default.createElement("div",{className:this.ss("edit-description"),onBlur:function(){return e.submit()}},me.default.createElement("textarea",{className:this.ss("input"),rows:n,placeholder:this.__("describe_your_project"),autoFocus:!0,maxLength:1e3,value:o,onChange:this.handleChange}),me.default.createElement("div",{className:this.ss("count")},1e3-o.length),me.default.createElement("div",{className:this.ss("newline")}),me.default.createElement("button",{className:this.ss("save-button")},this.__("save"))):null}},{key:"renderRecommends",value:function(){var e=this.props.recommend||{},t=e.items,a=e.userMap,n=e.teamMap;if(!t)return null;var o=t.map(function(e){return me.default.createElement(Pe.default,{key:e.id,project:e,userMap:a,teamMap:n})});return me.default.createElement("div",{className:this.ss("up-next-wrapper")},me.default.createElement("div",{className:this.ss("sub-content-title")},this.__("up_next")),me.default.createElement("div",{className:this.ss("recommend-list")},o))}},{key:"renderWebglToolBar",value:function(){var e,t,a,n,o,r=this,s=this.props,i=s.uploadingPreview,l=s.showStopRecord,c=s.hideRecord,u=s.showWebglToolBar,d=s.enableMobile,p=s.time,f=s.uploadId,h=s.uploads,m=s.processing,_=s.pauseState,g=s.pageType,v=this.state,b=v.isDevice,y=v.pauseTipShow,w=v.stopTipShow,j=v.muteShow,E=v.fullscreenShow,k=v.screenshotTipShow,C=v.startRecordTipShow,S=!d&&b,O=j||E||k||y||w||C,N=60*Math.PI,P=N,T=3<p;return!h||(e=h[f])&&(a=void 0===(t=e.loaded)?0:t,P=((o=void 0===(n=e.total)?1:n)-a)/o*N),me.default.createElement("div",{className:this.ss("black",O&&"black-z-index")},me.default.createElement("div",{className:this.ss("black-top",O&&"hide")}),me.default.createElement("div",{className:this.ss("black-container",!u&&"bar-extend-revert",u&&"bar-extend")},me.default.createElement("div",{className:this.ss("black-bar-back")}),me.default.createElement("div",{className:this.ss("black-bar")},me.default.createElement("div",{className:this.ss("red-dot",!l&&"hide")}),me.default.createElement("div",{className:this.ss("record-timer",!l&&"hide")},p),me.default.createElement("div",{className:this.ss("button-wrapper","pause-recording",!l&&"hide"),onMouseEnter:function(){return r.setState({pauseTipShow:!0})},onMouseLeave:function(){return r.setState({pauseTipShow:!1})},onClick:function(){return r.onWebglPauseRecordingClick()}},me.default.createElement("div",{className:this.ss("screenshot-icon","ifont",!_&&"ifont-ic_pause",_&&"ifont-ic_play")}),me.default.createElement(Te.default,{show:y,tips:this.__("pause_tip")})),me.default.createElement("div",{className:this.ss("button-wrapper","stop-recording",!l&&"hide",T&&"inactive"),onMouseEnter:function(){return r.setState({stopTipShow:!0})},onMouseLeave:function(){return r.setState({stopTipShow:!1})},onClick:function(){return r.onWebglStopRecordingClick()}},me.default.createElement("div",{className:this.ss("screenshot-icon","ifont","ifont-ic_stop")}),me.default.createElement(Te.default,{show:w,tips:this.__("stop_tip")})),me.default.createElement("div",{className:this.ss("tools")},me.default.createElement("button",{className:this.ss("button-wrapper","start-recording",("edit"!==g||c)&&"hide"),onClick:function(){return!m&&r.onWebglRecordClick()},onMouseEnter:function(){return r.setState({startRecordTipShow:!0})},onMouseLeave:function(){return r.setState({startRecordTipShow:!1})}},me.default.createElement("div",{className:this.ss("check-icon","ifont","ifont-check-mark",m&&"fade-in-out")}),me.default.createElement("div",{className:this.ss("record-icon","ifont","ifont-ic_record",i&&"hide",m&&"inactive",m&&"fade-in")}),me.default.createElement("div",{className:this.ss("icon-wrapper",!i&&"hide")},me.default.createElement("svg",{className:this.ss("spinner"),width:"20px",height:"20px",viewBox:"0 0 66 66"},me.default.createElement("circle",{className:this.ss("circle"),fill:"none",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:N,strokeDashoffset:P,cx:"33",cy:"33",r:"30"}))),me.default.createElement(Te.default,{show:C,tips:this.__("start_record")})),this.renderScreenshotButton(S),this.renderMuteButton(S),this.renderFullScreen(S)))))}},{key:"renderFooter",value:function(){var e=this,t=this.props,a=t.projectData.id,n=t.edit,o=t.pageType,r=t.loginUser,s=t.openDeleteChallengeConfirm,i=t.challengeId,l=t.downloadPreview,c=t.previewAttachmentId,u=t.isHottest,d=t.toggleHottestProject,p=t.projectId,f=t.openGetLink,h=r&&r.isAdmin,m=this.state,_=m.shareShow,g=(m.reportShow,m.morePop),v=m.isDevice;return"detail"!==o?null:me.default.createElement("div",{className:this.ss("footer")},this.renderDetail(),me.default.createElement("div",{className:this.ss("buttons")},me.default.createElement("button",{className:this.ss("button-wrapper","share"),onMouseEnter:function(){return e.setState({shareShow:!0})},onMouseLeave:function(){return e.setState({shareShow:!1})},onClick:function(){return e.OpenShare()}},me.default.createElement("div",{className:this.ss("share-icon","ifont","ifont-ic_share")}),me.default.createElement(Te.default,{show:_,tips:this.__("share")})),me.default.createElement("div",{className:this.ss("popup-back",g&&"display"),onClick:function(){return e.setState({morePop:!1})}}),me.default.createElement("button",{className:this.ss("button-wrapper","more"),onMouseEnter:function(){return e.setState({reportShow:!0})},onMouseLeave:function(){return e.setState({reportShow:!1})},onClick:function(){return e.setState({morePop:!0})}},me.default.createElement("div",{className:this.ss("more-icon","ifont","ifont-ic_more")}),me.default.createElement("div",{className:this.ss("popup",g&&"display")},me.default.createElement("a",{className:this.ss("button","edit",!n&&"hide"),href:"/p/"+a+"/edit"},this.__("edit")),me.default.createElement("div",{className:this.ss("button","delete-challenge",(!n||!i)&&"hide"),onClick:function(){return s()}},this.__("delete_challenge")),me.default.createElement("div",{className:this.ss("button","delete",!n&&"hide"),onClick:function(){return e.onWebglDeleteClick()}},this.__("delete")),me.default.createElement("div",{className:this.ss("button","get-link",!v&&"hide"),onClick:function(){return f()}},this.__("get_link")),me.default.createElement("div",{className:this.ss("button","icon-download",(!h||!c)&&"hide"),onClick:function(){return l()}},this.__("download")),me.default.createElement("a",{id:"admin-download",download:"preview.webm"}),me.default.createElement("div",{className:this.ss("button",!h&&"hide"),onClick:function(){return d({itemId:p,isAdd:!u,language:"en"})}},u?this.__("remove_hottest"):this.__("add_hottest"))))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.pauseBackGround,n=t.pageType;return me.default.createElement("div",{className:this.ss("content-wrapper")},me.default.createElement("div",{className:this.ss("place-holder-top")},me.default.createElement(Ie.default,{editorKey:"editorBody",defaultEditorState:this.props.defaultBodyState,renderOnly:"detail"===n})),this.renderWebglToolBar(),me.default.createElement("div",{className:this.ss("pause-record",!a&&"hide"),onClick:function(){return e.clickPauseBorder()}}),this.renderFooter(),this.renderSubContent(),me.default.createElement(We.default,null))}}]),Ge.propTypes={edit:he.default.bool,projectData:he.default.object,contentMap:he.default.object,defaultDescriptionState:he.default.string,defaultBodyState:he.default.object,editing:he.default.bool,rows:he.default.number,readmore:he.default.bool,hideReadmore:he.default.bool,changed:he.default.bool,webglPKG:he.default.object,like:he.default.bool,comments:he.default.object,recommend:he.default.object,uploadingPreview:he.default.bool,showWebglToolBar:he.default.bool,enableMobile:he.default.bool,time:he.default.number,hideRecord:he.default.bool,showStopRecord:he.default.bool,mute:he.default.bool,uploads:he.default.object,uploadId:he.default.string,processing:he.default.bool,pauseBackGround:he.default.bool,pauseState:he.default.bool,loginUser:he.default.object,previewAttachmentId:he.default.string,currentUserId:he.default.string,loadingMobile:he.default.bool,pageType:he.default.string,defaultTitleState:he.default.object,defaultDescriptionStateObject:he.default.object,saveStatus:he.default.string,postStatus:he.default.string,challengeId:he.default.string,disablePostButton:he.default.bool,titleWarning:he.default.bool,contentLength:he.default.number,isHottest:he.default.bool,projectId:he.default.string,isMobileControlEnabled:he.default.bool,initWebglData:he.default.func,getBody:he.default.func,openDeleteChallengeConfirm:he.default.func,showMessage:he.default.func,onPublish:he.default.func,setProjectState:he.default.func,openShare:he.default.func,openGetLink:he.default.func,reportOpen:he.default.func,toggleLike:he.default.func,setChanged:he.default.func,setReadmore:he.default.func,setHideReadmore:he.default.func,setContentIds:he.default.func,setEnableMobile:he.default.func,submitDescription:he.default.func,changeDescription:he.default.func,setEditing:he.default.func,onComment:he.default.func,onUpdate:he.default.func,openProjectDeleteDialog:he.default.func,downloadPreview:he.default.func,toggleHottestProject:he.default.func,showDownloadTermDialog:he.default.func},n=Ge))||n)||n)||n;function Ge(){var e,t,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Ge);for(var a=arguments.length,n=Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=s=qe(this,(e=Ge.__proto__||Object.getPrototypeOf(Ge)).call.apply(e,[this].concat(n)))).state={isDevice:!1,shareShow:!1,reportShow:!1,morePop:!1,needReadMore:!1,screenshotTipShow:!1,startRecordTipShow:!1,fullscreenShow:!1,muteShow:!1,enableMobile:!1},s.handleChange=function(e){var t=s.props,a=t.changeDescription,n=t.setChanged,o=e.target.rows;e.target.rows=3;var r=parseInt(e.target.scrollHeight/24,10);r===o&&(e.target.rows=r),15<=r&&(e.target.rows=15,e.target.scrollTop=e.target.scrollHeight),a({value:e.target.value,rows:r<15?r:15}),n({changed:!0})},qe(s,t)}t.default=Fe},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=ge(["project.projectData"],["project.projectData"]),i=ge(["loginUser"],["loginUser"]),l=ge(["project.commentEditing"],["project.commentEditing"]),u=ge(["project.comments"],["project.comments"]),d=ge(["project.reactions"],["project.reactions"]),p=ge(["project.selfComments.items"],["project.selfComments.items"]),f=ge(["project.replyShow"],["project.replyShow"]),h=ge(["project.replysShow"],["project.replysShow"]),m=ge(["project.moreListShow"],["project.moreListShow"]),_=ge(["project.channelId"],["project.channelId"]),g=ge(["project.inputValues"],["project.inputValues"]),v=ge(["project.loadMoreStatus"],["project.loadMoreStatus"]),b=ge(["project.loadMoreReactionsStatus"],["project.loadMoreReactionsStatus"]),y=ge(["project.canPublish"],["project.canPublish"]),w=ge(["project.isChannelReadonly"],["project.isChannelReadonly"]),j=ge(["project.isAdmin"],["project.isAdmin"]),E=ge(["project.deleteCommentConfirmId"],["project.deleteCommentConfirmId"]),k=ge(["project.deleteCommentStatus"],["project.deleteCommentStatus"]),C=ge(["project.comment.showEmoji"],["project.comment.showEmoji"]),S=ge(["project.comment.emoji"],["project.comment.emoji"]),O=ge(["project.openCommentEmoji"],["project.openCommentEmoji"]),N=ge(["project.closeCommentEmoji"],["project.closeCommentEmoji"]),P=ge(["project.changeCommentEmoji"],["project.changeCommentEmoji"]),T=ge(["project.storeComment"],["project.storeComment"]),x=ge(["project.sendEditComment"],["project.sendEditComment"]),M=ge(["project.updateEditing"],["project.updateEditing"]),I=ge(["project.toggleReaction"],["project.toggleReaction"]),R=ge(["project.updateReplyShow"],["project.updateReplyShow"]),D=ge(["project.updateReplysShow"],["project.updateReplysShow"]),L=ge(["project.updateMoreListShow"],["project.updateMoreListShow"]),A=ge(["project.createComment"],["project.createComment"]),U=ge(["project.createCommentWithEmoji"],["project.createCommentWithEmoji"]),W=ge(["project.changeReply"],["project.changeReply"]),z=ge(["project.changeInputValue"],["project.changeInputValue"]),H=ge(["project.webglLoadMore"],["project.webglLoadMore"]),q=ge(["project.loadMoreChild"],["project.loadMoreChild"]),B=ge(["project.webglLoadMoreReactions"],["project.webglLoadMoreReactions"]),F=ge(["project.toggleChannelReadonly"],["project.toggleChannelReadonly"]),G=ge(["project.deleteComment"],["project.deleteComment"]),K=ge(["project.openDeleteCommentConfirmDialog"],["project.openDeleteCommentConfirmDialog"]),V=ge(["project.closeDeleteCommentConfirmDialog"],["project.closeDeleteCommentConfirmDialog"]),J=ge(["report.open"],["report.open"]),Y=ge(["header.loginTo"],["header.loginTo"]),Z=he(a(2)),Q=he(a(1)),X=a(5),$=a(0),ee=he(a(3)),te=a(11),ae=he(a(16)),ne=he(a(98)),oe=he(a(13)),re=he(a(34)),se=he(a(99)),ie=a(100),le=(he(a(70)),he(a(20))),ce=he(a(40)),ue=he(a(4)),de=he(a(371)),pe=he(a(6)),fe=he(a(372));function he(e){return e&&e.__esModule?e:{default:e}}function me(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function _e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ge(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ve="new_comment",be=(0,X.decorator)({projectData:(0,$.state)(s),loginUser:(0,$.state)(i),commentEditing:(0,$.state)(l),comments:(0,$.state)(u),reactions:(0,$.state)(d),selfComments:(0,$.state)(p),replyShow:(0,$.state)(f),replysShow:(0,$.state)(h),moreListShow:(0,$.state)(m),channelId:(0,$.state)(_),inputValues:(0,$.state)(g),loadMoreStatus:(0,$.state)(v),loadMoreReactionsStatus:(0,$.state)(b),canPublish:(0,$.state)(y),isChannelReadonly:(0,$.state)(w),isAdmin:(0,$.state)(j),deleteCommentConfirmId:(0,$.state)(E),deleteCommentStatus:(0,$.state)(k),showEmoji:(0,$.state)(C),emoji:(0,$.state)(S),openEmoji:(0,$.signal)(O),closeEmoji:(0,$.signal)(N),changeEmoji:(0,$.signal)(P),storeComment:(0,$.signal)(T),sendEditComment:(0,$.signal)(x),updateEditing:(0,$.signal)(M),toggleReaction:(0,$.signal)(I),updateReplyShow:(0,$.signal)(R),updateReplysShow:(0,$.signal)(D),updateMoreListShow:(0,$.signal)(L),createComment:(0,$.signal)(A),createCommentWithEmoji:(0,$.signal)(U),changeReply:(0,$.signal)(W),changeInputValue:(0,$.signal)(z),loadMore:(0,$.signal)(H),loadMoreChild:(0,$.signal)(q),loadMoreReactions:(0,$.signal)(B),toggleChannelReadonly:(0,$.signal)(F),deleteComment:(0,$.signal)(G),openDeleteCommentConfirmDialog:(0,$.signal)(K),closeDeleteCommentConfirmDialog:(0,$.signal)(V),reportOpen:(0,$.signal)(J),loginTo:(0,$.signal)(Y)})(n=(0,ue.default)(de.default)(n=(0,pe.default)(fe.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ye,ee.default),o(ye,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleEmojiClose.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleEmojiClose.bind(this))}},{key:"onChangeTextAreaFocused",value:function(e,t,a){var n,o,r,s=this.state.textAreaFocused,i=c({},s,(r=t,(o=e)in(n={})?Object.defineProperty(n,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[o]=r,n));this.setState({textAreaFocused:i});var l=e===ve?"":e;this.props.changeReply({id:l,parentMessageId:a})}},{key:"onChange",value:function(e,t){e&&(0,te.pauseEvent)(e),this.props.changeInputValue({id:t,value:e.target.value})}},{key:"onReactionsDialogClose",value:function(){this.setState({reactionsDialogOpen:!1})}},{key:"onCommentLikeClick",value:function(e){this.props.onCommentLikeClick(),this.props.toggleReaction(e)}},{key:"onCommentReplyClick",value:function(e){this.props.updateReplyShow(e)}},{key:"getTextAreaValue",value:function(e){var t=this.props.inputValues;return t[e]&&t[e].trim()}},{key:"getEmojiPlaceholder",value:function(){return a(373)}},{key:"getEmoji",value:function(){return new Map([["unhappy",a(111)],["nerd",a(112)],["laugh",a(113)],["love",a(114)],["grinning",a(115)]])}},{key:"getMoreReactionsOnScroll",value:function(e){var t=this.props,a=t.reactions,n=t.loadMoreReactions,o=(a||{}).hasMore,r=e.target,s=r.scrollTop,i=r.scrollHeight,l=r.clientHeight;!1!==o&&i<=s+l&&n({loading:!0})}},{key:"pauseWebgl",value:function(){document.getElementById("webgl_iframe").focus(),document.getElementsByTagName("iframe")[0].focus()}},{key:"handleCreateComment",value:function(e,t){var a=this.props.loginUser,n=this.props.emoji,o=this.getTextAreaValue(e),r=this.props,s=r.channelId,i=r.createCommentWithEmoji,l=r.updateReplysShow,c=r.storeComment;return!(!o||!o.length||(a||this.pauseWebgl(),c(),i({content:o,emoji:n,channelId:s,id:e,parentMessageId:t,unParse:!0}),e!==ve&&(this.props.updateReplyShow({id:e,show:!1}),l({id:e,show:!0})),(0,this.props.changeEmoji)({value:null}),this.props.inputValues[e]=""))}},{key:"handleTextAreaBlur",value:function(e,t,a){e&&(0,te.pauseEvent)(e),this.onChangeTextAreaFocused(t,!1,a)}},{key:"handleKeyPress",value:function(e,t,a){13!==e.which||e.shiftKey||((0,te.pauseEvent)(e),this.handleCreateComment(t,a))}},{key:"handleTextAreaFocus",value:function(e,t,a){this.onChangeTextAreaFocused(t,!0,a)}},{key:"hasComments",value:function(){var e=(this.props.comments||{}).items;return 0!==(void 0===e?[]:e).length}},{key:"clickReplysShow",value:function(e,t){var a=this.props,n=a.updateReplysShow,o=a.loadMoreChild;n({id:e,show:!0}),o({messageIds:t})}},{key:"handleSaveComment",value:function(t){var e=this.props,a=e.comments,n=e.sendEditComment,o=e.inputValues,r=(a||{}).items,s=(void 0===r?[]:r).find(function(e){return e.id===t}),i=o[t];n({id:t,message:s,newContent:i,value:!1})}},{key:"handleStartEdit",value:function(e){(0,this.props.updateEditing)({id:e,value:!0})}},{key:"handleEditCommentKeyPress",value:function(e,t){13!==e.which||e.shiftKey||this.handleSaveComment(t)}},{key:"handleEmojiClose",value:function(e){this.props.showEmoji&&-1===e.target.className.indexOf("image_")&&this.props.closeEmoji()}},{key:"loadFirstReactions",value:function(){0<this.props.projectData.reactionCount&&(this.props.loadMoreReactions({loading:!0}),this.setState({reactionsDialogOpen:!0}))}},{key:"parseLink",value:function(e){return ce.default.plainTextParse(e,!0,{})}},{key:"renderEditingButton",value:function(e){var t=this,a=this.props.updateEditing;return Q.default.createElement("div",{className:this.ss("comment-edit-buttons")},Q.default.createElement("button",{className:this.ss("button"),onClick:function(){return a({id:e,value:!1})}},this.__("cancel")),Q.default.createElement("button",{className:this.ss("button"),onClick:function(){return t.handleSaveComment(e)}},this.__("save")))}},{key:"renderReply",value:function(t,a){var n=this,e=this.props,o=e.replyShow,r=e.inputValues;if(!o[t])return null;var s=this.state.textAreaFocused,i=r[t],l=!(i||"").trim();return Q.default.createElement("div",{className:this.ss("reply-wrapper")},Q.default.createElement("div",{className:this.ss("input-wrapper")},Q.default.createElement(ne.default,{ref:"textarea_"+t,placeholder:this.__("reply_hint"),value:i,autoFocus:!0,onFocus:function(e){return n.handleTextAreaFocus(e,t,a)},onBlur:function(e){return n.handleTextAreaBlur(e,t,a)},onKeyPress:function(e){return n.handleKeyPress(e,t,a)},onChange:function(e){return n.onChange(e,t)}}),s[t]||!l?Q.default.createElement(oe.default,{theme:"webgl",size:"new-medium",disabled:l,className:this.ss("post"),label:this.__("post"),onClick:function(){return n.handleCreateComment(t,a)}}):null))}},{key:"renderEditingComment",value:function(t,e,a){var n=this,o=this.props.inputValues[t],r={};return r[a.author.id]=a.author,a.mentions.forEach(function(e){r[e.id]=e}),Q.default.createElement("div",{className:this.ss("edit-wrapper")},Q.default.createElement(ne.default,{className:this.ss("editing-comment-input"),ref:"textarea_"+t,defaultValue:e,value:o,placeholder:this.__("hint_comment"),onFocus:function(e){return n.handleTextAreaFocus(e,t)},onBlur:function(e){return n.handleTextAreaBlur(e,t)},onKeyPress:function(e){return n.handleEditCommentKeyPress(e,t)},onChange:function(e){return n.onChange(e,t)}}))}},{key:"renderCommentsItem",value:function(e,t,a){var n=this,o=this.props,r=o.loginUser,s=o.moreListShow,i=o.updateMoreListShow,l=o.reportOpen,c=o.canPublish,u=o.isAdmin,d=o.openDeleteCommentConfirmDialog,p=e.id,f=e.author,h=e.parentMessageId;if(e.skip||a&&h)return null;var m,_=(r||{}).id,g=f.id,v=f.username,b=p?re.default.extractTimestamp(p):Date.now(),y="/u/"+g,w=g===_,j=[];w?j.push(Q.default.createElement("button",{key:"edit",className:this.ss("more-item","edit"),onClick:function(){return n.handleStartEdit(p)}},this.__("edit"))):j.push(Q.default.createElement("button",{key:"report",className:this.ss("more-item","report"),onClick:function(){return l({itemId:p,itemType:"comment"})}},this.__("report"))),(c||u||w)&&(m=!c&&u,j.push(Q.default.createElement("button",{key:"delete",className:this.ss("more-item","delete",(c||u||w)&&"disable"),onClick:function(){return d({id:p,deleteAsAdmin:m})}},this.__("delete"))));var E=e.emojiReaction;return Q.default.createElement("div",{key:p||Date.now()},Q.default.createElement("div",{className:this.ss("comment-wrap")},Q.default.createElement("a",{className:this.ss("avatar-wrap"),href:y},Q.default.createElement(ae.default,{user:f,size:"xsmall"}),this.getEmoji().has(E)?Q.default.createElement("img",{src:this.getEmoji().get(E),alt:E,className:this.ss("avatar-emoji")}):""),Q.default.createElement("div",{className:this.ss("info-wrap")},Q.default.createElement("div",{className:this.ss("name-line")},Q.default.createElement("a",{className:this.ss("name"),href:y},v),f&&f.isStaff&&Q.default.createElement(se.default,{className:this.ss("staff-label"),type:"staff"}),Q.default.createElement("div",{className:this.ss("time")},this.__("comment_created_at",{time:b})),Q.default.createElement("div",{className:this.ss("more","ifont","ifont-ic_more"),onClick:function(){return i({id:p,show:!s[p]})}},Q.default.createElement("div",{className:this.ss("drop-back",!s[p]&&"hide")}),Q.default.createElement("div",{className:this.ss("moreList",!s[p]&&"hide")},j))),this.renderReplyComment(e,t,!1))),this.renderReplyComment(e,t,!0))}},{key:"renderReplyComment",value:function(e,t,a){var n=this,o=this.props,r=o.loginUser,s=o.replyShow,i=(o.updateReplyShow,o.commentEditing),l=e.id,c=e.content,u=e.reactions,d=void 0===u?[]:u,p=(e.channelId,e.parentMessageId),f=e.attachments,h=e.replyMessageIds,m=(r||{}).id,_=d.filter(function(e){return"like"===e.type}).length,g=d.some(function(e){return e.user.id===m});100<_?_="99+":0===_&&(_="");var v=this.parseLink(c);return Q.default.createElement("div",{className:this.ss("comment-reply",a&&this.ss("hide-desk"),!a&&this.ss("hide-touch"))},Q.default.createElement("div",{className:this.ss("comment-wrapper")},Q.default.createElement("div",{className:this.ss("comment-content",i[l]&&"editing")},Q.default.createElement("div",{className:this.ss("comment",!l&&"loading")},this.renderAttachment(f,l),i[l]?this.renderEditingComment(l,c,e):v))),i[l]?this.renderEditingButton(l):Q.default.createElement("div",null,Q.default.createElement("div",{className:this.ss("buttons","touch-padding")},Q.default.createElement("div",{className:this.ss("reaction-like")},Q.default.createElement("button",{className:this.ss("like",g&&"liked")},this.__("like")),Q.default.createElement("div",{className:this.ss("reaction-like-count")},_)),Q.default.createElement("a",{className:this.ss("reply"),onClick:function(){return n.onCommentReplyClick({id:l,show:!s[l]})}},this.__("reply"))),this.renderReply(l,p),this.renderChild(l,h,t)))}},{key:"renderAttachment",value:function(e,t){var a=this.props.commentEditing;if(!e||e.length<1)return null;var n=e[0],o=n.contentType,r=n.url;return o.startsWith("image/")?Q.default.createElement("img",{src:r,className:this.ss("image",a[t]&&"editing-image")}):null}},{key:"renderChild",value:function(t,e,a){var n=this,o=this.props.replysShow,r=a.filter(function(e){return e.parentMessageId===t}).reverse();return o[t]?Q.default.createElement("div",{className:this.ss("replys-wrapper")},Q.default.createElement("div",{className:this.ss("replys")},r.map(function(e){return n.renderCommentsItem(e,a,!1)}))):e&&0!==e.length?Q.default.createElement("div",{className:this.ss("replys-wrapper")},Q.default.createElement("button",{className:this.ss("buttons"),onClick:function(){return n.clickReplysShow(t,e)}},this.__("reply_count",{n:e.length}))):null}},{key:"renderCommentList",value:function(){var t=this,e=this.props,a=e.comments,n=e.selfComments,o=(a||{}).items,r=void 0===o?[]:o;if(0===r.length)return null;var s=n?n[0].id:0,i=r.filter(function(e){return s===e.id}),l=r.filter(function(e){return s!==e.id}),c=i.map(function(e){return t.renderCommentsItem(e,r,!0)}),u=l.map(function(e){return t.renderCommentsItem(e,r,!0)});return 0===c.length&&0===u.length&&u.push(Q.default.createElement("div",{key:"empty_comments",className:this.ss("no-comments-tip")},this.__("no_comments_tip"))),[].concat(me(c),me(u))}},{key:"renderEmoji",value:function(){var a=this,n=[],e=this.props,t=e.emoji,o=e.showEmoji,r=e.openEmoji;return this.getEmoji().forEach(function(e,t){n.push(Q.default.createElement("a",{key:t,className:a.ss("botton-"+t,"emoji-button"),onClick:function(){return a.clickEmoji(t)}},Q.default.createElement("img",{className:a.ss("image"),src:e})))}),Q.default.createElement("div",{className:this.ss("emojis")},Q.default.createElement("div",{className:this.ss("emoji-choose",!o&&"hide")},n),Q.default.createElement("div",{className:this.ss("emoji"),onClick:function(){return r()}},Q.default.createElement("img",{className:this.ss("image"),src:null!==t?this.getEmoji().get(t):this.getEmojiPlaceholder()})))}},{key:"renderCommentInputArea",value:function(){var t=this,e=this.props,a=e.projectData,n=e.inputValues,o=e.isChannelReadonly,r=(a||{}).publishedTime,s=this.state.textAreaFocused,i=n[ve],l=!(i||"").trim();return o?Q.default.createElement("div",{className:this.ss("comment-input-wrapper","disabled")},Q.default.createElement("div",{className:this.ss("icon-close-comments","ifont","ifont-icons-close-comments")}),Q.default.createElement("div",{className:this.ss("hint-text")},this.__("comment_disabled"))):Q.default.createElement("div",{className:this.ss("comment-input-wrapper")},this.renderEmoji(),Q.default.createElement(ne.default,{ref:"textarea_"+ve,value:i,readOnly:!r,placeholder:this.__("hint_comment"),onFocus:function(e){return t.handleTextAreaFocus(e,ve)},onBlur:function(e){return t.handleTextAreaBlur(e,ve)},onKeyPress:function(e){return t.handleKeyPress(e,ve)},onChange:function(e){return t.onChange(e,ve)}}),s[ve]||!l?Q.default.createElement(oe.default,{theme:"webgl",size:"new-medium",disabled:l,className:this.ss("post"),label:this.__("post"),onClick:function(){return t.handleCreateComment(ve)}}):null)}},{key:"renderComments",value:function(){var e=this.props,t=e.comments,a=e.loadMore,n=e.loadMoreStatus,o=e.isChannelReadonly,r=(t||{}).hasMore;return Q.default.createElement("div",{className:this.ss("comments")},Q.default.createElement("div",{className:this.ss("comment-list")},!o&&this.renderCommentList(),!o&&r&&Q.default.createElement("div",{className:this.ss("load-more")},Q.default.createElement(ie.EndBarComponent,{userDefinedLoadMoreStaus:n,onPage:function(){return a({loading:!0})},hasMore:r}))))}},{key:"renderReactionsDialogItem",value:function(e){var t=e.id,a=e.author,n=a.id,o=a.username,r="/u/"+n,s=e.emojiReaction;return Q.default.createElement("div",{key:t||Date.now()},Q.default.createElement("div",{className:this.ss("reaction-wrap")},Q.default.createElement("a",{className:this.ss("avatar-wrap"),href:r},Q.default.createElement(ae.default,{user:a,size:"xsmall"}),this.getEmoji().has(s)&&Q.default.createElement("img",{src:this.getEmoji().get(s),alt:s,className:this.ss("avatar-emoji")})),Q.default.createElement("div",{className:this.ss("info-wrap")},Q.default.createElement("div",{className:this.ss("name-line")},Q.default.createElement("a",{className:this.ss("name"),href:r},o)))))}},{key:"renderReactionsDialog",value:function(){var t=this,e=this.props.reactions,a=e&&0<e.items.length;return Q.default.createElement(le.default,{open:this.state.reactionsDialogOpen&&a,position:"center",onCloseModal:function(){return t.onReactionsDialogClose()}},Q.default.createElement("div",{className:this.ss("reactions-dialog")},Q.default.createElement("div",{className:this.ss("header-wrapper")},Q.default.createElement("h3",null,"All reactions")),Q.default.createElement("div",{className:this.ss("reactions-wrapper"),onScroll:function(e){return t.getMoreReactionsOnScroll(e)}},e&&e.items&&e.items.map(function(e){return t.renderReactionsDialogItem(e)})),Q.default.createElement("div",{className:this.ss("close-wrapper")},Q.default.createElement("div",{className:this.ss("icon-close","ifont","ifont-material-baseline-clear"),onClick:function(){return t.onReactionsDialogClose()}}))))}},{key:"render",value:function(){return Q.default.createElement("div",{className:this.ss("comments-disabled")},Q.default.createElement("div",{className:this.ss("comments-wrapper",void 0)},"Comments are temporarily unavailable"))}}]),ye.propTypes={projectData:Z.default.object,loginUser:Z.default.object,commentEditing:Z.default.object,reactions:Z.default.object,comments:Z.default.object,selfComments:Z.default.array,replyShow:Z.default.object,replysShow:Z.default.object,moreListShow:Z.default.object,channelId:Z.default.string,inputValues:Z.default.object,loadMoreStatus:Z.default.string,loadMoreReactionsStatus:Z.default.string,canPublish:Z.default.bool,isChannelReadonly:Z.default.bool,isAdmin:Z.default.bool,deleteCommentConfirmId:Z.default.string,deleteCommentStatus:Z.default.string,showEmoji:Z.default.bool,emoji:Z.default.string,openEmoji:Z.default.func,closeEmoji:Z.default.func,changeEmoji:Z.default.func,storeComment:Z.default.func,sendEditComment:Z.default.func,updateEditing:Z.default.func,toggleReaction:Z.default.func,updateReplyShow:Z.default.func,updateReplysShow:Z.default.func,updateMoreListShow:Z.default.func,createComment:Z.default.func,createCommentWithEmoji:Z.default.func,changeReply:Z.default.func,changeInputValue:Z.default.func,loadMore:Z.default.func,loadMoreChild:Z.default.func,loadMoreReactions:Z.default.func,toggleChannelReadonly:Z.default.func,deleteComment:Z.default.func,openDeleteCommentConfirmDialog:Z.default.func,closeDeleteCommentConfirmDialog:Z.default.func,reportOpen:Z.default.func,loginTo:Z.default.func,onCommentCreated:Z.default.func,onCommentLikeClick:Z.default.func,onCommentReplyClick:Z.default.func,onReplyCommentCreated:Z.default.func},n=ye))||n)||n)||n;function ye(){var e,t,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ye);for(var a=arguments.length,n=Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=o=_e(this,(e=ye.__proto__||Object.getPrototypeOf(ye)).call.apply(e,[this].concat(n)))).state={textAreaFocused:{},reactionsDialogOpen:!1},o.clickEmoji=function(e){var t=o.props,a=t.changeEmoji,n=t.closeEmoji;a({value:e}),n()},_e(o,t)}t.default=be},function(e,t){e.exports={"comments-disabled":"comments-disabled_LvGiY1YV",counts:"counts_3Z7yrbln","reaction-count":"reaction-count_3NFWxvvt","reactions-used":"reactions-used_uQ-GEsD7","fade-in":"fade-in_3p9w6Nlg","comments-wrapper":"comments-wrapper_2A5Rdpu6","no-comments":"no-comments_1nFAWR0M","comment-input-wrapper":"comment-input-wrapper_3BasJPTb",comments:"comments_2IjZ3GdS",post:"post_1S2MO7x_",emojis:"emojis_taIDvOi8","emoji-choose":"emoji-choose_3fT_mS2a","load-more":"load-more_lDvF-lws","comment-list":"comment-list_3KoFcH4T","no-comments-tip":"no-comments-tip_3DuKyVad","comment-wrap":"comment-wrap_1KDnjZdl","info-wrap":"info-wrap_1AAbmZUM",buttons:"buttons_lexNbXLR",ops:"ops_jWX2JtKQ","name-line":"name-line_3-Ur4XCf",more:"more_kJjJpoN0","avatar-wrap":"avatar-wrap_2YfFdlaB","avatar-emoji":"avatar-emoji_2bx29rKR",name:"name_sCyNgcte","staff-label":"staff-label_2JS4vg9A",time:"time_Fm8LAJ15","drop-back":"drop-back_LxiP2YGY",moreList:"moreList_pUldDMe-","more-item":"more-item_1QaGbvIJ",delete:"delete_3SO3YZEN","user-title":"user-title_3soXZsMN","comment-wrapper":"comment-wrapper_2nQqhV2K","comment-edit-buttons":"comment-edit-buttons_28TYFFqx",button:"button_11qFe494","reaction-like":"reaction-like_3bHs3xhA",like:"like_1JDfgNef",liked:"liked_2nlNdq4G","reaction-like-count":"reaction-like-count_115Uw30-","comment-content":"comment-content_ep5d0NKf",editing:"editing_gKtqcth9","parent-message":"parent-message_4HLs-pUK","parent-message-author":"parent-message-author_28h-7fze",comment:"comment_1du51nay",loading:"loading_EM3af3KX","edit-wrapper":"edit-wrapper_KMTg94v5","editing-comment-input":"editing-comment-input_1RiDoElA","auto-wrapper":"auto-wrapper_2_3gCpva","replys-wrapper":"replys-wrapper_3wQQR2h0",replys:"replys_PpBi9QrF","touch-padding":"touch-padding_2tx98X50","report-wrap":"report-wrap_moovJrWd",reply:"reply_25Ht4OPA","reply-wrapper":"reply-wrapper_3bG8DnLJ","input-wrapper":"input-wrapper_SBHQwTIl","reply-buttons":"reply-buttons_1kAXuh7f",cancel:"cancel_2DZ85CN0","hide-desk":"hide-desk_1GNrOdkW","hide-touch":"hide-touch_2M8oVVZ-",image:"image_2De7hytF","editing-image":"editing-image_2Dngtb8f","view-cmt-wrap":"view-cmt-wrap_1JiHsrDf","view-cmt":"view-cmt_3zsxBESb",login:"login_1DxvlMoE",hide:"hide_3rMbjSfh","reactions-dialog":"reactions-dialog_1uL5Da4f","header-wrapper":"header-wrapper_2H2xEUC_","reactions-wrapper":"reactions-wrapper_2pDo8Nz6","reaction-wrap":"reaction-wrap_ulyvCsPI","close-wrapper":"close-wrapper_36G05Rf2","icon-close":"icon-close_1w8w1WD9"}},function(e,t){e.exports={hint_comment:"hint_comment_1lM_",comment:"comment_Czx1",no_comments_tip:"no_comments_tip_3i4n",comment_created_at:"comment_created_at_vhSC",reply_hint:"reply_hint_hGJ1",cancel:"cancel_32DN",reply:"reply_1VpW",report_comment:"report_comment_3LUp",game_language:"game_language_2hzV",support_platform:"support_platform_23Ht",play_station:"play_station_1e9K",release_time:"release_time_PxfX",download_press_kit:"download_press_kit_13xG",press_contact:"press_contact_1INO",pressKit:"pressKit_2ZMC",online_store:"online_store_2QPr",comment_disabled:"comment_disabled_1DND",disable_comment:"disable_comment_Szi9",enable_comment:"enable_comment_3jb_",open_channel:"open_channel_1NPM",windows:"windows_26jW",xbox:"xbox_1MK2",winphone:"winphone_39zZ",tizen:"tizen_hphe",steam:"steam_nIsX",playstation:"playstation_32fF",oculus:"oculus_3QQQ",gog:"gog_6xtA",gear_vr:"gear_vr_lmIF",facebook:"facebook_3lik",google_play:"google_play_2eTS",humble:"humble_1rvT",nintendo:"nintendo_2pL7",kongregate:"kongregate_11_t",itch:"itch_2LTZ",indie_game:"indie_game_FG_J",itune:"itune_ItgP",amazon:"amazon_3nru",other:"other_GRJu",delete:"delete_3myf",report:"report_bbT0",delete_comment:"delete_comment_2AGv",delete_comment_confirm:"delete_comment_confirm_5yiA",login_or_create:"login_or_create_K5l7",to_like_or_comment:"to_like_or_comment_1mRR",reply_count:"reply_count_3Cbj",reaction_count:"reaction_count_2hfk",comment_count:"comment_count_OkQW",shared_on:"shared_on_1ykf",like:"like_2MQ3",save:"save_MQX8",edit:"edit_vFY6",post:"post_3NEY"}},function(e,t,a){e.exports=a.p+"../styles/i/emojis/placeholder.ecc18ca40e3f878586c1aa1eeaef57b7.png"},function(e,t){e.exports={"content-wrapper":"content-wrapper_3Q93L_5P","pause-record":"pause-record_1e1a7yZo","place-holder-top":"place-holder-top_18JcMK9x","switch-wrapper":"switch-wrapper_2Dg4JIlr",switch:"switch_2q8AyM8K","switch-desc":"switch-desc_hxHV8Woh",tips:"tips_teH0a217",divider:"divider_2QADh-wg",footer:"footer_OxAzZnBS","shared-time":"shared-time_3InlU6hx",detail:"detail_1_k4a9Hc",heart:"heart_3XMPb18Q",heartBeat:"heartBeat_1B5U6Rv7","heart-beat":"heart-beat_Um7dWmhI",icon:"icon_3TSYDEms",info:"info_3ZmSJeq9",title:"title_1NACe97i",counts:"counts_2Gl6HZqD",buttons:"buttons_1nzTwOu1",hide:"hide_3C8jH7T7","button-wrapper":"button-wrapper_2GxnSBIQ",disable:"disable_2silRFaS","share-icon":"share-icon_XtWV8XuJ","more-icon":"more-icon_1LGjJ9UH","report-icon":"report-icon_3YsHA3pu",more:"more_pvD6IDED",popup:"popup_21vcnWJ2",button:"button_1pWmRBEV",report:"report_2E7T_-vd",edit:"edit_15RtTHWy",delete:"delete_2ldjWiL7","icon-download":"icon-download_4oS4W33W",display:"display_rKSNgLXv","popup-back":"popup-back_183Vw_WQ",share:"share_vNdq68hO","sub-content":"sub-content_3OhWyHOQ",left:"left_1ihPxw08","save-button":"save-button_1swAQA5J",right:"right_2ijjll8d","sub-content-title":"sub-content-title_1SpJJFyA","up-next-wrapper":"up-next-wrapper_f-2fGyN8",pkg:"pkg_s79lxqsv",image:"image_323l2Y8G",name:"name_2kJtMxTV",view:"view_2CDT0wRc","image-wrapper":"image-wrapper_1FLHsq_e","icon-unity":"icon-unity_1jVZSKQu","description-wrapper":"description-wrapper_194Zs2lw","game-description":"game-description_3rb6KtnZ",show:"show_1TEjns52","edit-description":"edit-description_2ZfAdohG",input:"input_2dZLJNID",count:"count_1LZKqmLB",newline:"newline_2oALDbLp","readmore-on":"readmore-on_N8tTrF-e",readmore:"readmore_2g5HONuw","black-bar-back":"black-bar-back_mC83GE3t","black-bar":"black-bar_2kZ-B_oL","red-dot":"red-dot_IgumYv4E","record-timer":"record-timer_2jSj5HTA",tools:"tools_2HrKD0nh","check-icon":"check-icon_2VEkaGdM","record-icon":"record-icon_6PAIYAxs","pause-recording":"pause-recording_24peP6Xo","stop-recording":"stop-recording_1AlYIb7e","icon-wrapper":"icon-wrapper_3ak81vid","fullscreen-icon":"fullscreen-icon_3gnwSWkH","screenshot-icon":"screenshot-icon_3JWXf1XA","mute-icon":"mute-icon_16jmk89k",inactive:"inactive_KIh1A8TG","fade-in":"fade-in_2cyF-ad4","hold-fade-in":"hold-fade-in_CAKuqStX","fade-in-out":"fade-in-out_2Shs9BI5","fade-out":"fade-out_K4em0JIs",spinner:"spinner_QiRom8M6",circle:"circle_QAzzceu2",black:"black_2atjq6xD","black-top":"black-top_hoLjJM6R","black-z-index":"black-z-index_k_xEVpJm","black-container":"black-container_18Hi2HV5","bar-extend":"bar-extend_3DGixhhX",extend:"extend_1zkyqR0h","bar-extend-revert":"bar-extend-revert_3_gB6xIv","extend-revert":"extend-revert_18OIbxtU"}},function(e,t){e.exports={read_more:"read_more_3Ya5",read_less:"read_less_i-VJ",describe_your_project:"describe_your_project_ykJz",made_with:"made_with_2fMb",up_next:"up_next_2C4q",mg_fps:"mg_fps_2E3K",mg_karting:"mg_karting_DU05",mg_platformer:"mg_platformer_3mtS",mg_lego:"mg_lego_xw53",view:"view_3ot8",views_hint:"views_hint_67_A",play_hint:"play_hint_X1yw",report:"report_1fMb",more:"more_37fU",share:"share_1zls",start_record:"start_record_32Ws",pause_tip:"pause_tip_2Iwn",stop_tip:"stop_tip_nONk",mute:"mute_3Bl9",fullscreen:"fullscreen_2Zx1",screenshot:"screenshot_35Nr",screenshot_tip:"screenshot_tip_3Uby",volume_on:"volume_on_1JC1",unity:"unity_1rsi",edit:"edit_yPjt",delete:"delete_4QRp",delete_challenge:"delete_challenge_2WSq",save:"save_39SA",add_title_hint:"add_title_hint_3Wyh",add_description_hint:"add_description_hint_1RR1",remove_hottest:"remove_hottest_eGEh",add_hottest:"add_hottest_3ESs",download:"download_3S5Y",get_link:"get_link_3mjR",url_mg_fps:"url_mg_fps_2r32",url_mg_karting:"url_mg_karting_3xIo",url_mg_platformer:"url_mg_platformer_1Rle",url_mg_lego:"url_mg_lego_2-c_",mobile_enable_added:"mobile_enable_added_3pWP",mobile_enable_note:"mobile_enable_note_R54d",mobile_disable:"mobile_disable_lfGZ"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=T(["project"],["project"]),i=T(["project.userMap"],["project.userMap"]),l=T(["project.teamMap"],["project.teamMap"]),c=T(["project.jobRoleMap"],["project.jobRoleMap"]),u=T(["project.followMap"],["project.followMap"]),d=T(["project.followStatus"],["project.followStatus"]),p=T(["project.mouseOver"],["project.mouseOver"]),f=T(["currentUserId"],["currentUserId"]),h=T(["project.edit"],["project.edit"]),m=T(["project.toggleFollow"],["project.toggleFollow"]),_=T(["project.mouseOut"],["project.mouseOut"]),g=P(a(2)),v=P(a(1)),b=a(5),y=a(0),w=P(a(16)),j=P(a(3)),E=P(a(13)),k=a(7),C=P(a(4)),S=P(a(377)),O=P(a(6)),N=P(a(378));function P(e){return e&&e.__esModule?e:{default:e}}function T(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var x=(0,b.decorator)({project:(0,y.state)(s),userMap:(0,y.state)(i),teamMap:(0,y.state)(l),jobRoleMap:(0,y.state)(c),followMap:(0,y.state)(u),followStatus:(0,y.state)(d),mouseOver:(0,y.state)(p),currentUserId:(0,y.state)(f),edit:(0,y.state)(h),toggleFollow:(0,y.signal)(m),projectMouseOver:(0,y.signal)(p),projectMouseOut:(0,y.signal)(_)})(n=(0,C.default)(S.default)(n=(0,O.default)(N.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(M,j.default),o(M,[{key:"renderFollow",value:function(e,t){var a=this.props,n=a.followMap,o=a.followStatus,r=a.mouseOver,s=a.toggleFollow,i=a.projectMouseOver,l=a.projectMouseOut,c=a.edit,u=(0,k.isLoading)(o[e]),d=c;if(n&&n[e]){var p=r[e]?"unfollow":"following";return v.default.createElement(E.default,{label:this.__(p),className:this.ss("button"),theme:"webgl",size:"xxsmall",loading:u,disabled:d,onClick:function(){return s({followeeId:e,type:t})},onMouseOver:function(){return i({authorId:e})},onMouseOut:function(){return l({authorId:e})}})}return d?null:v.default.createElement("div",null,v.default.createElement(E.default,{label:this.__("follow_on_connect"),className:this.ss("button-long"),theme:"webgl",size:"xxsmall",loading:u,disabled:d,gaTag:"GA_btn_follow",onClick:function(){return s({followeeId:e,type:t})}}),v.default.createElement(E.default,{label:this.__("follow"),className:this.ss("button-short"),theme:"webgl",size:"xxsmall",loading:u,disabled:d,gaTag:"GA_btn_follow",onClick:function(){return s({followeeId:e,type:t})}}))}},{key:"render",value:function(){var e=this.props,t=e.project.projectData,a=e.userMap,n=e.teamMap,o=t.userId,r=t.teamId,s=t.ownerType,i=t.publishedTime,l="team"===s,c=void 0,u=void 0,d=void 0,d=l?(u="/t/"+(c=n&&n[r]).id,c.name):(u="/u/"+(c=a&&a[o]).id,c.username);return v.default.createElement("div",{className:this.ss("sub-info")},v.default.createElement("div",{className:this.ss("avatar-name")},v.default.createElement("a",{className:this.ss("avatar"),href:u},v.default.createElement(w.default,{user:c,size:"xsmall",shape:l?"square":"circle"})),v.default.createElement("div",{className:this.ss("user-wrapper")},v.default.createElement("div",{className:this.ss("name-title")},v.default.createElement("a",{className:this.ss("username"),href:u},d)),v.default.createElement("div",{className:this.ss("time")},this.__("time",{time:i})))))}}]),M.propTypes={project:g.default.object,userMap:g.default.object,teamMap:g.default.object,jobRoleMap:g.default.object,followMap:g.default.object,followStatus:g.default.object,mouseOver:g.default.object,currentUserId:g.default.string,edit:g.default.bool,toggleFollow:g.default.func,projectMouseOver:g.default.func,projectMouseOut:g.default.func},n=M))||n)||n)||n;function M(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,M),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}t.default=x},function(e,t){e.exports={"sub-info":"sub-info_A9KoXCoI","avatar-name":"avatar-name_kR5GY_hX",avatar:"avatar_31zj6ZUV","user-wrapper":"user-wrapper_3EnBXRsT","button-long":"button-long_3uvyI6m0","button-short":"button-short_2vwuVCSx","name-title":"name-title_ZZLlgGIC",username:"username_1rliP5A4",title:"title_3LAAZZQF",time:"time_fTxCsAoa","project-title":"project-title_zgZefOjZ","report-wrap":"report-wrap_3Ko9gXcR",report:"report_2GAsHnKz"}},function(e,t){e.exports={follow_on_connect:"follow_on_connect_1z27",follow:"follow_8VZn",following:"following_5Jga",unfollow:"unfollow_2nVX",report_project:"report_project_eXZ-",time:"time_7FZu"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=Object.freeze(Object.defineProperties(["project.openProject"],{raw:{value:Object.freeze(["project.openProject"])}})),i=m(a(2)),b=m(a(1)),l=a(5),c=a(0),u=m(a(3)),y=a(11),w=m(a(14)),d=m(a(4)),p=m(a(380)),f=m(a(6)),h=m(a(381));function m(e){return e&&e.__esModule?e:{default:e}}var j=a(382),_=(0,l.decorator)({openProject:(0,c.signal)(s)})(n=(0,d.default)(p.default)(n=(0,f.default)(h.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(g,u.default),o(g,[{key:"onClick",value:function(e,t,a){this.openProject(e,t,a)}},{key:"openProject",value:function(e,t,a){e&&(0,y.pauseEvent)(e);var n=this.props.openProject;n({projectId:t,type:a,from:"mg_recommend"})}},{key:"render",value:function(){var e,t,a=this,n=this.props,o=n.project,r=n.teamMap,s=n.userMap,i=o.title,l=o.thumbnail,c=o.originalImage,u=o.userId,d=o.teamId,p=o.playCount,f=o.slug,h=o.type,m=s&&u&&s[u],_=r&&d&&r[d],g=b.default.createElement("div",{className:this.ss("project-author","empty")}),v=l&&l.url||j;return c&&800<=c.width&&l.width<800&&(v=c.url||j),(_||m)&&(e=m?"/u/"+u:"/t/"+d,t=m?m.fullName:_.name,g=b.default.createElement("div",{className:this.ss("project-author")},b.default.createElement("a",{className:this.ss("link","link-text"),href:e},b.default.createElement("div",{className:this.ss("name")},t)))),b.default.createElement("div",{className:this.ss("project")},b.default.createElement("div",{className:this.ss("project-inner"),onClick:function(e){return a.onClick(e,f,h)}},b.default.createElement(w.default,{src:v,alt:o.title,sizes:"223px"})),b.default.createElement("div",{className:this.ss("project-info")},b.default.createElement("div",{className:this.ss("title"),onClick:function(e){return a.onClick(e,f,h)}},i),g,b.default.createElement("div",{className:this.ss("plays")}," ",this.__("play_count",{n:p,v:(0,y.formatNumberV2)(p)}))))}}]),g.propTypes={project:i.default.object,userMap:i.default.object,teamMap:i.default.object,openProject:i.default.func},n=g))||n)||n)||n;function g(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}t.default=_},function(e,t){e.exports={project:"project_2Gn8A5xx","project-inner":"project-inner_3p--uwaf","project-info":"project-info_2-oDI1F_",title:"title_3-F8P-sd",link:"link_2vTngvvi",name:"name_3nmFINy1",plays:"plays_mp0ymbSV"}},function(e,t){e.exports={play_count:"play_count_2kJh"}},function(e,t,a){e.exports=a.p+"../styles/i/webgl-default-image.56ef9e087fe8f635f46beb8531a49357.jpeg"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=f(a(2)),i=f(a(1)),l=f(a(3)),c=f(a(4)),u=f(a(384)),d=f(a(6)),p=f(a(385));function f(e){return e&&e.__esModule?e:{default:e}}var h=(0,c.default)(u.default)(n=(0,d.default)(p.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,l.default),o(m,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.tips;return i.default.createElement("div",{className:this.ss("relative")},i.default.createElement("div",{className:this.ss("absolute")},i.default.createElement("div",{className:this.ss("tooltip",t&&"show")},i.default.createElement("div",{className:this.ss("tips")},a),i.default.createElement("span",{className:this.ss("tip-down")}))))}}]),m.propTypes={show:s.default.bool,tips:s.default.string},n=m))||n)||n;function m(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}t.default=h},function(e,t){e.exports={relative:"relative_2-6iXrcE",absolute:"absolute_2__BZB_h",tooltip:"tooltip_2pr2tMRG",show:"show_jqSAeY5l",deleyShow:"deleyShow_a5dt0yCn",tips:"tips_21tecNyP","tip-down":"tip-down_U0soWEFw"}},function(e,t){e.exports={screenshot_tips:"screenshot_tips_2Zr_"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomizedMadeWith=t.default=void 0;var n,o,r=function(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e};function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=I(["project"],["project"]),l=I(["pageType"],["pageType"]),c=I(["project.madeWith.candidates"],["project.madeWith.candidates"]),u=I(["project.madeWith.value"],["project.madeWith.value"]),d=I(["project.madeWith.searchStatus"],["project.madeWith.searchStatus"]),p=I(["project.madeWith.searchType"],["project.madeWith.searchType"]),f=I(["project.changeSearchValue"],["project.changeSearchValue"]),h=I(["project.searchAssets"],["project.searchAssets"]),m=I(["project.addMadeWith"],["project.addMadeWith"]),_=I(["project.changeSearchType"],["project.changeSearchType"]),g=I(["project.madeWith.items"],["project.madeWith.items"]),v=I(["project.deleteMadeWith"],["project.deleteMadeWith"]),b=P(a(2)),y=P(a(1)),w=a(5),j=a(0),E=P(a(3)),k=a(7),C=P(a(4)),S=P(a(387)),O=P(a(6)),N=P(a(388));function P(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function I(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var R=(0,w.decorator)({project:(0,j.state)(i),pageType:(0,j.state)(l),candidates:(0,j.state)(c),searchValue:(0,j.state)(u),searchStatus:(0,j.state)(d),searchType:(0,j.state)(p),changeSearchValue:(0,j.signal)(f),searchAssets:(0,j.signal)(h),addMadeWith:(0,j.signal)(m),changeSearchType:(0,j.signal)(_)})(n=(0,C.default)(S.default)(n=(0,O.default)(N.default)((M(D,E.default),r(D,[{key:"onKeyDown",value:function(e){switch(e.keyCode){case 13:this.onSearch();break;case 27:this.props.changeSearchValue({value:""})}}},{key:"onSearch",value:function(){var e=this.props,t=e.searchValue,a=e.searchAssets;t&&a()}},{key:"addMadeWith",value:function(e,t,a,n,o){this.props.addMadeWith({title:e,image:t,url:a,refId:n,type:o})}},{key:"renderCandidates",value:function(){var s=this,e=this.props.candidates.map(function(e){var t=e.id,a=e.name,n=e.image,o=e.url,r=e.type;return y.default.createElement("div",{key:t,className:s.ss("item")},y.default.createElement("a",{href:o,target:"_blank",className:s.ss("img-wrapper")},y.default.createElement("img",{src:n})),y.default.createElement("a",{href:o,target:"_blank",className:s.ss("name")},a),y.default.createElement("div",{className:s.ss("add-button"),onClick:function(){return s.addMadeWith(a,n,o,t,r)}},s.__("add")))});return y.default.createElement("div",{className:this.ss("search-results")},e)}},{key:"renderSearchButton",value:function(){var e=this,t=this.props,a=t.searchStatus,n=t.searchValue;return(0,k.isLoading)(a)?y.default.createElement("div",{className:this.ss("loading")}):y.default.createElement("div",{className:this.ss("search-icon","ifont","ifont-material-baseline-search",!n&&"hide"),onClick:function(){return e.onSearch()}})}},{key:"render",value:function(){var t=this,e=this.props,a=e.pageType,n=e.searchValue,o=e.changeSearchValue,r=e.searchStatus;if("detail"===a)return null;var s=(0,k.isLoading)(r);return y.default.createElement("div",{className:this.ss("made-with")},y.default.createElement("div",{className:this.ss("search-wrapper")},y.default.createElement("input",{className:this.ss("input"),value:n,disabled:s,placeholder:this.__("search_hint"),onChange:function(e){return o({value:e.target.value})},onKeyDown:function(e){return t.onKeyDown(e)}}),this.renderSearchButton()),y.default.createElement("div",{className:this.ss("tips",n&&"hide")},this.__("tips")),this.renderCandidates())}}]),D.propTypes={project:b.default.object,pageType:b.default.string,candidates:b.default.array,searchValue:b.default.string,searchStatus:b.default.string,searchType:b.default.string,changeSearchValue:b.default.func,searchAssets:b.default.func,addMadeWith:b.default.func,changeSearchType:b.default.func},n=D))||n)||n)||n;function D(){return T(this,D),x(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}t.default=R;t.CustomizedMadeWith=(0,w.decorator)({items:(0,j.state)(g),pageType:(0,j.state)(l),changeSearchValue:(0,j.signal)(f),deleteMadeWith:(0,j.signal)(v)})(o=(0,C.default)(S.default)(o=(0,O.default)(N.default)((M(L,E.default),r(L,[{key:"render",value:function(){var s=this,e=this.props,t=e.items,i=e.deleteMadeWith,l="detail"===e.pageType;return t.map(function(e){var t=e.refId,n=e.title,a=e.image,o=e.url,r=e.type;return y.default.createElement("div",{key:t,className:s.ss("pkg")},y.default.createElement("img",{src:a,className:s.ss("image")}),y.default.createElement("div",{className:s.ss("name")},n),l&&y.default.createElement("a",{className:s.ss("button"),href:o+"?source=share-platform",onClick:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return s.onViewClick.apply(s,[r,n,o].concat(t))},target:"_blank"},s.__("view")),!l&&y.default.createElement("div",{className:s.ss("button"),onClick:function(){return i({refId:t})}},s.__("remove")))})}}]),L.propTypes={items:b.default.array,pageType:b.default.string,changeSearchValue:b.default.func,deleteMadeWith:b.default.func},o=L))||o)||o)||o;function L(){return T(this,L),x(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}},function(e,t){e.exports={"made-with":"made-with_2w87MYHr",types:"types_3BHQgbGh",name:"name_3oV2mdIJ","selects-wrapper":"selects-wrapper_17JBQayM","select-list-button":"select-list-button_3hDkFQLI","search-wrapper":"search-wrapper_11XENmrK",input:"input_27IkNBuW","search-icon":"search-icon_1C43KkgS",loading:"loading_3lIqpwDg",tips:"tips_1cTsYGKG",item:"item_3a_wUdW5","img-wrapper":"img-wrapper_2Q8d-GRD","add-button":"add-button_2PH5THkm",pkg:"pkg_oePAtSbt",image:"image_3jrqRMd-",button:"button_2vvDDP1D","image-wrapper":"image-wrapper_Iqg0j04A","icon-unity":"icon-unity_3JlbbQRC",hide:"hide_3Rr3f4qw"}},function(e,t){e.exports={search_hint:"search_hint_1-dk",add:"add_3KIE",remove:"remove_2Fb8",resource_type:"resource_type_28sA",asset_store:"asset_store_11HQ",learn:"learn_R5c6",view:"view_3zfT",tips:"tips_-0K4"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=E(["project.downloadTermDialog.show"],["project.downloadTermDialog.show"]),i=E(["project.downloadTermDialog.source"],["project.downloadTermDialog.source"]),l=E(["project.hideDownloadTermDialog"],["project.hideDownloadTermDialog"]),c=w(a(2)),u=w(a(1)),d=a(0),p=a(5),f=w(a(3)),h=a(507),m=w(a(4)),_=w(a(390)),g=w(a(6)),v=w(a(391)),b=w(a(20)),y=w(a(13));function w(e){return e&&e.__esModule?e:{default:e}}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var k=(0,p.decorator)({show:(0,d.state)(s),source:(0,d.state)(i),hide:(0,d.signal)(l)})(n=(0,m.default)(_.default)(n=(0,g.default)(v.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(C,f.default),o(C,[{key:"componentDidMount",value:function(){this.setDownloadUrl()}},{key:"onClose",value:function(){this.props.hide()}},{key:"onDownload",value:function(){var e=this.state.downloadUrl;window.location.pathname,window.location.pathname.indexOf("/how-to"),this.props.source,this.onClose(),window.open(e,"_blank")}},{key:"setDownloadUrl",value:function(){var e=(0,h.getOS)();"Macintosh"===e?this.setState({downloadUrl:"https://public-cdn.cloud.unity3d.com/hub/nuo/UnityHubSetup.dmg"}):"Linux"===e&&this.setState({downloadUrl:"https://public-cdn.cloud.unity3d.com/hub/prod/UnityHub.AppImage"})}},{key:"renderTerms",value:function(){return u.default.createElement("div",{className:this.ss("terms")},u.default.createElement("div",{className:this.ss("term")},this.__("more_than_100")),u.default.createElement("div",{className:this.ss("term")},this.__("raise_fund")),u.default.createElement("div",{className:this.ss("term")},this.__("no_plus")),u.default.createElement("div",{className:this.ss("term")},this.__("acknowledged_privacy"),u.default.createElement("a",{href:"https://unity3d.com/legal/privacy-policy"},this.__("privacy_policy"))))}},{key:"renderDownload",value:function(){var e=this;return u.default.createElement(y.default,{className:this.ss("download-button"),label:this.__("agree_and_download"),gaTag:"GA_btn_share_home_hub_downloads",onClick:function(){return e.onDownload()}})}},{key:"render",value:function(){var e=this,t=this.props.show;return u.default.createElement(b.default,{open:t,position:"center",onCloseModal:function(){return e.onClose()}},u.default.createElement("div",{className:this.ss("content")},u.default.createElement("div",{className:this.ss("title")},u.default.createElement("div",{className:this.ss("name")},this.__("name")),u.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close"),onClick:function(){return e.onClose()}})),u.default.createElement("p",null,u.default.createElement("b",null,this.__("description1")),this.__("description2"),u.default.createElement("a",{href:"https://unity3d.com/legal/terms-of-service"},this.__("description3")),this.__("description4")),this.renderTerms(),this.renderDownload()))}}]),C.propTypes={show:c.default.bool,source:c.default.string,hide:c.default.func},n=C))||n)||n)||n;function C(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=j(this,(e=C.__proto__||Object.getPrototypeOf(C)).call.apply(e,[this].concat(o)))).state={downloadUrl:"https://public-cdn.cloud.unity3d.com/hub/nuo/UnityHubSetup.exe"},j(a,t)}t.default=k},function(e,t){e.exports={content:"content_h6xAN1fv",title:"title_1zRxzqSB",name:"name_1rX3jSf7",close:"close_3GKQ0lGa",terms:"terms_2tSoZd_N",term:"term_1XO1ubjr","download-button":"download-button_113OFumU"}},function(e,t){e.exports={name:"name_1Lpq",description1:"description1_BRK6",description2:"description2_2wPd",description3:"description3_3bni",description4:"description4_3kIY",more_than_100:"more_than_100_3bjh",raise_fund:"raise_fund_1-Kv",no_plus:"no_plus_h_MN",acknowledged_privacy:"acknowledged_privacy_3KOY",privacy_policy:"privacy_policy_2XIo",agree_and_download:"agree_and_download_2FzB"}},function(e,t,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=function(e,t,a){return t&&o(e.prototype,t),a&&o(e,a),e};function o(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=x(["currentPath"],["currentPath"]),s=x(["currentHost"],["currentHost"]),i=x(["project.projectData.title"],["project.projectData.title"]),l=x(["project.projectData.contentIds"],["project.projectData.contentIds"]),c=x(["project.contentMap"],["project.contentMap"]),u=x(["project.embed.show"],["project.embed.show"]),d=x(["project.share.show"],["project.share.show"]),f=x(["header.copyLink"],["header.copyLink"]),h=x(["project.changeScreenshotComment"],["project.changeScreenshotComment"]),m=x(["project.closeShare"],["project.closeShare"]),_=x(["project.setEmbed"],["project.setEmbed"]),g=P(p(2)),v=P(p(1)),b=p(5),y=p(0),w=P(p(3)),j=p(133),E=P(p(20)),k=P(p(15)),C=P(p(4)),S=P(p(393)),O=P(p(6)),N=P(p(394));function P(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var M=(0,b.decorator)({currentPath:(0,y.state)(r),currentHost:(0,y.state)(s),title:(0,y.state)(i),contentIds:(0,y.state)(l),contentMap:(0,y.state)(c),embedShow:(0,y.state)(u),showShare:(0,y.state)(d),copyLink:(0,y.signal)(f),changeComment:(0,y.signal)(h),closeShare:(0,y.signal)(m),setEmbed:(0,y.signal)(_)})(a=(0,C.default)(S.default)(a=(0,O.default)(N.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(I,w.default),n(I,[{key:"onShareLinkCopy",value:function(e){(0,this.props.copyLink)({content:e})}},{key:"onPopupWindow",value:function(e){var a,t;window&&(a={toolbar:"no",location:"no",status:"no",menubar:"no",scrollbars:"yes",resizable:"yes",width:"640",height:"480"},t=Object.keys(a).reduce(function(e,t){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(e),[t+"="+a[t]])},[]),window.open(e,"targetWindow",t.join(", ")))}},{key:"onEmbedClick",value:function(){this.props.setEmbed({value:!0})}},{key:"onMailClick",value:function(e){this.onPopupWindow(e)}},{key:"onMessengerClick",value:function(e){this.onPopupWindow(e)}},{key:"onTwitterClick",value:function(e){this.onPopupWindow(e)}},{key:"onFacebookClick",value:function(e){this.onPopupWindow(e)}},{key:"onRedditClick",value:function(e){this.onPopupWindow(e)}},{key:"onCopyClick",value:function(e){this.props.onCopyClick&&this.props.onCopyClick(),this.copyUrlLink(e)}},{key:"copyEmbedLink",value:function(e){this.setState({embedCopied:!0}),this.onShareLinkCopy(e)}},{key:"copyUrlLink",value:function(e){this.setState({urlCopied:!0}),this.onShareLinkCopy(e)}},{key:"renderButtons",value:function(){var e=this,t=this.props,a=t.title,n=t.currentHost,o=t.currentPath,r=encodeURIComponent("https://"+n+o),s=encodeURIComponent(""+a),i="mailto:?subject="+this.__("share_subject",{title:a})+"&body="+this.__("share_body",{title:a,url:r}),l="http://www.facebook.com/dialog/send?app_id="+(k.default.APP_ID||"")+"&link="+r+"&redirect_uri="+r,c="https://twitter.com/intent/tweet?text="+this.__("share_twitter_text",{title:a,url:r})+"&source=webclient",u="https://www.facebook.com/sharer/sharer.php?u="+r,d="https://www.reddit.com/submit?title="+s+"&url="+r;return v.default.createElement("div",{className:this.ss("body")},v.default.createElement("div",{className:this.ss("share-items")},v.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onEmbedClick()}},v.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:p(395)}),this.__("embed")),v.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onMailClick(i)}},v.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:p(396)}),this.__("mail")),v.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onMessengerClick(l)}},v.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:p(397)}),this.__("messenger")),v.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onTwitterClick(c)}},v.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:p(398)}),this.__("twitter")),v.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onFacebookClick(u)}},v.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:p(399)}),this.__("facebook")),v.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onRedditClick(d)}},v.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:p(400)}),this.__("reddit"))))}},{key:"renderEmbed",value:function(){var e=this,t=this.props,a=t.embedShow,n=t.contentMap,o=t.contentIds;if(!a)return null;var r=0<o.length?(0,j.getEmbededHtml)(n[o[0]]):"unValid";return v.default.createElement("div",{className:this.ss("embed")},v.default.createElement("div",{className:this.ss("backgroud"),onClick:function(){return e.props.setEmbed({value:!1})}}),v.default.createElement("div",{className:this.ss("content")},v.default.createElement("div",{className:this.ss("button-close"),onClick:function(){return e.props.setEmbed({value:!1})}},v.default.createElement("div",{className:this.ss("close","ifont","ifont-ic_close")})),v.default.createElement("div",{className:this.ss("embed-content","sub-content")},v.default.createElement("div",{className:this.ss("embed-title","title")},this.__("share_embed")),v.default.createElement("div",{className:this.ss("embed-link","share-link-wrapper")},v.default.createElement("div",{className:this.ss("embed-text")},r),v.default.createElement("a",{className:this.ss("copy",this.state.embedCopied&&"copied"),onClick:function(){return e.copyEmbedLink(r)}},this.state.embedCopied?this.__("copied"):this.__("copy"))))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.currentHost,n=t.currentPath,o=t.showShare,r="https://"+a+n;return v.default.createElement(E.default,{open:o,position:"center",onCloseModal:function(){return e.onClose()}},v.default.createElement("div",{className:this.ss("content")},v.default.createElement("button",{className:this.ss("button-close"),onClick:function(){return e.onClose()}},v.default.createElement("div",{className:this.ss("close","ifont","ifont-ic_close")})),v.default.createElement("div",{className:this.ss("share-content","sub-content")},v.default.createElement("div",{className:this.ss("share","title")},this.__("share")),this.renderButtons(),v.default.createElement("div",{className:this.ss("share-link-wrapper")},r,v.default.createElement("a",{className:this.ss("copy",this.state.urlCopied&&"copied"),onClick:function(){return e.onCopyClick(r)}},this.state.urlCopied?this.__("copied"):this.__("copy")))),this.renderEmbed()))}}]),I.propTypes={facebookUrl:g.default.string,twitterUrl:g.default.string,linkedinUrl:g.default.string,pinterestUrl:g.default.string,redditUrl:g.default.string,wechatKey:g.default.string,currentHost:g.default.string,currentPath:g.default.string,title:g.default.string,contentMap:g.default.object,contentIds:g.default.array,embedShow:g.default.bool,showShare:g.default.bool,copyLink:g.default.func,closeShare:g.default.func,setEmbed:g.default.func,onMailClick:g.default.func,onMessengerClick:g.default.func,onCopyClick:g.default.func},a=I))||a)||a)||a;function I(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,I);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=T(this,(e=I.__proto__||Object.getPrototypeOf(I)).call.apply(e,[this].concat(o)))).state={embedCopied:!1,urlCopied:!1},a.onClose=function(){a.props.closeShare&&a.props.closeShare()},T(a,t)}t.default=M},function(e,t){e.exports={embed:"embed_3ILjMfrg","share-title":"share-title_3Y7z6UU-","share-items":"share-items_LdDU9l5I",item:"item_2xq1TnnI","item-img":"item-img_34sgj5cE",content:"content_1pXL4YdB","sub-content":"sub-content_3t05hIp-","button-close":"button-close_1OXc9Ux-",close:"close_wX8yu60P",title:"title_pkZwMeqU","share-link-wrapper":"share-link-wrapper_1Upkk1E5",copy:"copy_3artDHQX",copied:"copied_Jz1dMRen","embed-link":"embed-link_32D1m6Di","embed-text":"embed-text_39sP_e4k"}},function(e,t){e.exports={share:"share_2b7_",share_twitter_text:"share_twitter_text_3UAQ",share_subject:"share_subject_3Fch",share_body:"share_body_TZ1V",embed:"embed_3DFU",mail:"mail_25iC",messenger:"messenger_99Rj",twitter:"twitter_2ovx",facebook:"facebook_7qgb",reddit:"reddit_3HWu",copy:"copy_3rB4",copied:"copied_2BmZ",share_embed:"share_embed_2oTg"}},function(e,t,a){e.exports=a.p+"../styles/i/share/embed.819e076583597186b3163a416d0a2e04.svg"},function(e,t,a){e.exports=a.p+"../styles/i/share/mail@3x.61856c3dc82c425ce81753a8cb830742.png"},function(e,t,a){e.exports=a.p+"../styles/i/share/messenger@3x.e12971b622e528c46a110db062c156c3.png"},function(e,t,a){e.exports=a.p+"../styles/i/share/twitter-social-icon-rounded-square-color@3x.41b1a9762d4ab251b892167c809bb58f.png"},function(e,t,a){e.exports=a.p+"../styles/i/share/facebook@3x.ad64081aeb7c61bf39ef725ee98db046.png"},function(e,t,a){e.exports=a.p+"../styles/i/share/reddit@3x.733e200227ab6489d06dd124992100eb.png"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,r,s=function(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),e};function i(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=y(["header.clipboardTip.show"],["header.clipboardTip.show"]),c=y(["header.clipboardTip.copied"],["header.clipboardTip.copied"]),u=b(a(1)),d=b(a(2)),p=a(5),f=a(0),h=b(a(3)),m=b(a(4)),_=b(a(402)),g=b(a(6)),v=b(a(403));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w=(0,p.decorator)({show:(0,f.state)(l),copied:(0,f.state)(c)})(n=(0,m.default)(_.default)(n=(0,g.default)(v.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(j,h.default),s(j,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.copied;return u.default.createElement("div",{className:this.ss("text-wrap",!!t&&"active","animate-tip",!!a&&"in",!a&&"out")},this.__("text"))}}]),r=o=j,o.propTypes={show:d.default.bool,copied:d.default.bool},o.defaultProps={show:!1,copied:!1},n=r))||n)||n)||n;function j(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,j),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}t.default=w},function(e,t){e.exports={"text-wrap":"text-wrap_2B-Yk65p",active:"active_2JZKOZ9l","animate-tip":"animate-tip_2JXttsfU",in:"in_a-CzVBxk","animate-tip-in":"animate-tip-in_2IfF-mkr",out:"out_18F2o_DD","animate-tip-out":"animate-tip-out_1hvPAH75"}},function(e,t){e.exports={text:"text_2kNw"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=C(["project.submitWebglDialog.show"],["project.submitWebglDialog.show"]),i=C(["project.submitWebglDialog.updateStatus"],["project.submitWebglDialog.updateStatus"]),l=C(["project.globalChallenge"],["project.globalChallenge"]),c=C(["project.projectData"],["project.projectData"]),u=C(["project.closeSubmitWebglDialog"],["project.closeSubmitWebglDialog"]),d=C(["project.submitProjectToChallenge"],["project.submitProjectToChallenge"]),p=k(a(2)),f=k(a(1)),h=k(a(3)),m=a(5),_=a(0),g=k(a(28)),v=k(a(14)),b=a(7),y=k(a(4)),w=k(a(405)),j=k(a(6)),E=k(a(406));function k(e){return e&&e.__esModule?e:{default:e}}function C(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var S=a(49),O=(0,m.decorator)({show:(0,_.state)(s),updateStatus:(0,_.state)(i),challenge:(0,_.state)(l),project:(0,_.state)(c),onClose:(0,_.signal)(u),submitProjectToChallenge:(0,_.signal)(d)})(n=(0,y.default)(w.default)(n=(0,j.default)(E.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(N,h.default),o(N,[{key:"onClose",value:function(){var e=this.props.onClose;e&&e()}},{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.updateStatus,o=t.challenge,r=t.project,s=r.title,i=r.thumbnail,l=t.submitProjectToChallenge;if(!o)return null;var c=o.title,u="/showcases/"+o.slug,d=i&&i.url||S;return f.default.createElement(g.default,{open:a,title:this.__("title"),width:640,submitStyle:"ok/cancel",submitText:this.__("finish"),buttonTheme:"primary-blue",submitInProgress:(0,b.isLoadingOrSucceeded)(n),onClose:function(){return e.onClose()},onSubmit:function(){return l()}},f.default.createElement("div",{className:this.ss("content")},f.default.createElement("div",{className:this.ss("description")},this.__("description",{title:c,link:u})),f.default.createElement("div",{className:this.ss("image",!i&&"default")},f.default.createElement(v.default,{src:d,alt:s,sizes:"320px"})),f.default.createElement("div",{className:this.ss("project-title")},s)))}}]),N.propTypes={show:p.default.bool,updateStatus:p.default.string,challenge:p.default.object,project:p.default.object,onClose:p.default.func,submitProjectToChallenge:p.default.func},n=N))||n)||n)||n;function N(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,N),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}t.default=O},function(e,t){e.exports={content:"content_2rO8ogQp",description:"description_3RBdPkJD",image:"image_1lFEvW3m",default:"default_3wp7JqNv","project-title":"project-title_35OoYIBp"}},function(e,t){e.exports={title:"title__I3W",description:"description_3R1V",finish:"finish_23g2"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=y(["project.submitDuplicated.show"],["project.submitDuplicated.show"]),i=y(["project.submitDuplicated.projectId"],["project.submitDuplicated.projectId"]),l=y(["project.closeSubmitDuplicated"],["project.closeSubmitDuplicated"]),c=b(a(2)),u=b(a(1)),d=b(a(3)),p=a(5),f=a(0),h=b(a(28)),m=b(a(4)),_=b(a(408)),g=b(a(6)),v=b(a(409));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w=(0,p.decorator)({show:(0,f.state)(s),projectId:(0,f.state)(i),onClose:(0,f.signal)(l)})(n=(0,m.default)(_.default)(n=(0,g.default)(v.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(j,d.default),o(j,[{key:"onClose",value:function(){var e=this.props.onClose;e&&e()}},{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.projectId,o=this.__("title"),r="/p/"+n;return u.default.createElement("div",null,u.default.createElement(h.default,{open:a,width:640,submitStyle:"none",onClose:function(){return e.onClose()}},u.default.createElement("div",{className:this.ss("content")},u.default.createElement("div",{className:this.ss("description")},this.__("description",{title:o,link:r})))))}}]),j.propTypes={show:c.default.bool,projectId:c.default.string,onClose:c.default.func},n=j))||n)||n)||n;function j(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,j),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}t.default=w},function(e,t){e.exports={content:"content_STLjNrJB",description:"description_16fkBW7V"}},function(e,t){e.exports={title:"title_25Ee",description:"description_361S"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=w(["project.thumbnailURL"],["project.thumbnailURL"]),i=w(["project.uploads"],["project.uploads"]),l=w(["project.updateThumbnailStatus"],["project.updateThumbnailStatus"]),c=w(["project.uploadAttachment"],["project.uploadAttachment"]),u=b(a(1)),d=b(a(2)),p=b(a(3)),f=a(5),h=a(0),m=a(7),_=a(110),g=b(a(4)),v=b(a(411));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=(0,f.decorator)({thumbnailURL:(0,h.state)(s),uploads:(0,h.state)(i),updateThumbnailStatus:(0,h.state)(l),uploadAttachment:(0,h.signal)(c)})(n=(0,g.default)(v.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(E,p.default),o(E,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.thumbnailURL,a=e.uploads[this.state.uploadId];a&&((0,m.isLoading)(a.status)?this.sendIFrameMessage({action:"thumbnailUploading",data:a.dataUrl}):(0,m.isFailedOrSucceeded)(a.status)&&this.sendIFrameMessage({action:"thumbnailUpdate",data:t}))}},{key:"sendIFrameMessage",value:function(e){var t=(0,_.getWebglOrigin)();document.getElementById("webgl_iframe").contentWindow.postMessage(e,t)}},{key:"uploadImages",value:function(e){var t,a,n;e&&e[0]&&(t=e[0],a=window.URL.createObjectURL(t),(0,this.props.uploadAttachment)({upload:n={id:Date.now()+"_"+Math.random().toString().slice(2,6),file:t,dataUrl:a,uploadType:"headerImage"},cb:"project.updateThumbnail"}),this.setState({uploadId:n.id}))}},{key:"render",value:function(){var t=this;return u.default.createElement("div",{className:this.ss("upload-thumbnail")},u.default.createElement("input",{type:"file",id:"thumbnailSelect",ref:"imageSelect",className:this.ss("hide"),accept:"image/*",onChange:function(e){return t.onFilesChange(e)}}))}}]),E.propTypes={thumbnailURL:d.default.string,uploads:d.default.object,updateThumbnailStatus:d.default.string,uploadAttachment:d.default.func},n=E))||n)||n;function E(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n=y(this,(e=E.__proto__||Object.getPrototypeOf(E)).call.apply(e,[this].concat(o)))).state={},n.onFilesChange=function(e){var t,a;e&&e.target&&(a=void 0===(t=(e.target||{}).files)?[]:t,n.uploadImages(a),n.refs.imageSelect.value=null)},y(n,t)}t.default=j},function(e,t){e.exports={"upload-thumbnail":"upload-thumbnail_NRnAWfWj","upload-thumbnail-title":"upload-thumbnail-title_7ZJKggil","upload-thumbnail-description":"upload-thumbnail-description_3XV1ZfIW","upload-thumbnail-body":"upload-thumbnail-body_2w6CQ63z","button-close":"button-close_4CysDlDj","thumbnail-empty":"thumbnail-empty_QvWGkfiD","drag-over":"drag-over_2QijiwEe","upload-text":"upload-text_1ZCTLoG7","upload-hint":"upload-hint_2qDf4zab",image:"image_2ir5_rRB",uploaded:"uploaded_1CUl5UHj","loading-wrap":"loading-wrap_7PkyvxNU","loading-text":"loading-text_1mjq504B","loading-bar":"loading-bar_7RKYtfQO",loading:"loading_1ym4jr5B","loading-button":"loading-button_1ltrOrx3",content:"content_3PKyWftn",retry:"retry_lWHesjbS",text:"text_2FSY7sMR",hide:"hide_1Hd3vjVK"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=j(["project.popupLearnShow"],["project.popupLearnShow"]),i=j(["project.cover.show"],["project.cover.show"]),l=j(["project.webglPKG"],["project.webglPKG"]),c=j(["project.initData"],["project.initData"]),u=j(["project.hidePopupLearn"],["project.hidePopupLearn"]),d=y(a(1)),p=a(5),f=a(0),h=y(a(3)),m=y(a(2)),_=y(a(4)),g=y(a(413)),v=y(a(6)),b=y(a(414));function y(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var E=(0,p.decorator)({popupLearnShow:(0,f.state)(s),cover:(0,f.state)(i),webglPKG:(0,f.state)(l),initData:(0,f.signal)(c),hidePopupLearn:(0,f.signal)(u)})(n=(0,_.default)(g.default)(n=(0,v.default)(b.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(k,h.default),o(k,[{key:"componentDidMount",value:function(){(0,this.props.initData)()}},{key:"exploreMods",value:function(e){this.closePopup(),window.location.href=this.__("url_"+e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.popupLearnShow,n=t.cover,o=t.webglPKG;if(!a||!n)return null;var r=(o||{}).mgType,s="default",i="explore_more";switch(r){case"mg_fps":case"mg_karting":case"mg_platformer":case"mg_lego":s=r,i="custom_your_game"}return d.default.createElement("div",{className:this.ss("popup")},d.default.createElement("div",{className:this.ss("icon","ifont","ifont-material-baseline-clear"),onClick:this.closePopup}),d.default.createElement("div",{className:this.ss("text")},d.default.createElement("h1",{className:this.ss("title")},this.__("popup_title_"+s)),d.default.createElement("div",{className:this.ss("desc")},this.__("popup_desc_"+s))),d.default.createElement("div",{className:this.ss("link"),onClick:function(){return e.exploreMods(s)}},this.__(i)))}}]),k.propTypes={popupLearnShow:m.default.bool,cover:m.default.bool,webglPKG:m.default.object,initData:m.default.func,hidePopupLearn:m.default.func},n=k))||n)||n)||n;function k(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=w(this,(e=k.__proto__||Object.getPrototypeOf(k)).call.apply(e,[this].concat(o)))).closePopup=function(){(0,a.props.hidePopupLearn)()},w(a,t)}t.default=E},function(e,t){e.exports={popup:"popup_zQGZkTJ-",icon:"icon_4Y3g2H_I",text:"text_2YoldUnc",title:"title_INuMJLmL",desc:"desc_tycWTOPh",link:"link_3BGyTT4m"}},function(e,t){e.exports={popup_title_default:"popup_title_default_3r4Z",popup_desc_default:"popup_desc_default_F2Cn",popup_title_mg_fps:"popup_title_mg_fps_3FYI",popup_title_mg_karting:"popup_title_mg_karting_1gAd",popup_title_mg_platformer:"popup_title_mg_platformer_1fPZ",popup_title_mg_lego:"popup_title_mg_lego_1bzO",popup_desc_mg_fps:"popup_desc_mg_fps_20fO",popup_desc_mg_karting:"popup_desc_mg_karting_2zck",popup_desc_mg_platformer:"popup_desc_mg_platformer_1gAa",popup_desc_mg_lego:"popup_desc_mg_lego_391E",explore_more:"explore_more_2sXH",custom_your_game:"custom_your_game_2EL1",url_default:"url_default_3v_U",url_mg_fps:"url_mg_fps_VDgT",url_mg_karting:"url_mg_karting_2YnW",url_mg_platformer:"url_mg_platformer_2GmR",url_mg_lego:"url_mg_lego_KWIe"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=function(e,t,a){return t&&o(e.prototype,t),a&&o(e,a),e};function o(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=D(["project.screenshotDialog.show"],["project.screenshotDialog.show"]),s=D(["project.screenshotDialog.showEmoji"],["project.screenshotDialog.showEmoji"]),l=D(["project.screenshotDialog.preText"],["project.screenshotDialog.preText"]),c=D(["project.screenshotDialog.image"],["project.screenshotDialog.image"]),u=D(["project.screenshotDialog.comment"],["project.screenshotDialog.comment"]),d=D(["project.screenshotDialog.emoji"],["project.screenshotDialog.emoji"]),p=D(["project.commentStatus"],["project.commentStatus"]),f=D(["project.setPreText"],["project.setPreText"]),h=D(["project.closeScreenshotDialog"],["project.closeScreenshotDialog"]),m=D(["project.changeScreenshotComment"],["project.changeScreenshotComment"]),_=D(["project.openEmoji"],["project.openEmoji"]),g=D(["project.closeEmoji"],["project.closeEmoji"]),v=D(["project.changeEmoji"],["project.changeEmoji"]),b=D(["project.postScreenshot"],["project.postScreenshot"]),y=I(i(2)),w=I(i(1)),j=I(i(12)),E=i(5),k=i(0),C=I(i(3)),S=I(i(13)),O=i(7),N=I(i(20)),P=I(i(4)),T=I(i(416)),x=I(i(6)),M=I(i(417));function I(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var L=(0,E.decorator)({show:(0,k.state)(r),showEmoji:(0,k.state)(s),preText:(0,k.state)(l),image:(0,k.state)(c),comment:(0,k.state)(u),emoji:(0,k.state)(d),updateStatus:(0,k.state)(p),setPreText:(0,k.signal)(f),onClose:(0,k.signal)(h),changeComment:(0,k.signal)(m),openEmoji:(0,k.signal)(_),closeEmoji:(0,k.signal)(g),changeEmoji:(0,k.signal)(v),postScreenshot:(0,k.signal)(b)})(a=(0,P.default)(T.default)(a=(0,x.default)(M.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(A,C.default),n(A,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillReceiveProps",value:function(e){var t;!e.show||this.props.show||(t=j.default.findDOMNode(this._input))&&setTimeout(function(){return t.focus()},100)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"onClickClose",value:function(){var e=this.props,t=e.onClose,a=e.setPreText;t(),a({value:-1})}},{key:"onClickText",value:function(e,t){var a=this.props,n=a.setPreText;(0,a.changeComment)({value:this.__(e)}),n({value:t})}},{key:"renderEmoji",value:function(){var a=this,e=this.props,t=e.emoji,n=e.showEmoji,o=e.openEmoji,r=[],s=new Map([["unhappy",i(111)],["nerd",i(112)],["laugh",i(113)],["love",i(114)],["grinning",i(115)]]);return s.forEach(function(e,t){r.push(w.default.createElement("a",{key:t,className:a.ss("botton-"+t,"emoji-button"),onClick:function(){return a.clickEmoji(t)}},w.default.createElement("img",{className:a.ss("image"),src:e})))}),w.default.createElement("div",{className:this.ss("emojis")},w.default.createElement("div",{className:this.ss("emoji-choose",!n&&"hide")},r),w.default.createElement("div",{className:this.ss("emoji"),onClick:function(){return o()}},w.default.createElement("img",{className:this.ss("image"),src:s.get(t)})))}},{key:"renderInput",value:function(){var t=this,e=this.props,a=e.comment,n=e.updateStatus,o=e.changeComment,r=e.postScreenshot,s=!(a||"").trim();return w.default.createElement("div",{className:this.ss("input-wrapper")},w.default.createElement("div",{className:this.ss("input-inner-wrapper")},this.renderEmoji(),w.default.createElement("input",{ref:function(e){t._input=e},placeholder:this.__("say_something"),value:a,autoFocus:!0,onChange:function(e){return o({value:e.target.value})}}),w.default.createElement(S.default,{theme:"webgl",size:"new-medium",disabled:s,gaTag:"GA_screenshot_comment",className:this.ss("post"),loading:(0,O.isLoading)(n),label:this.__("post"),onClick:function(){return r()}})))}},{key:"renderInputChoose",value:function(){for(var n=this,o=this.props.preText,r=[],e=1;e<4;e++)!function(e){var t="comment_"+e,a="comment_fill_"+e;r.push(w.default.createElement("div",{tabIndex:0,key:t,className:n.ss("bottom-"+e,"choose-button",o===e&&"chosen"),onClick:function(){return n.onClickText(n.__(a),e)}},n.__(t)))}(e);return w.default.createElement("div",{className:this.ss("input-choose-wrapper")},r)}},{key:"renderClose",value:function(){var e=this;return w.default.createElement("div",{className:this.ss("close-wrapper")},w.default.createElement("div",{className:this.ss("icon-close","ifont","ifont-material-baseline-clear"),onClick:function(){return e.onClickClose()}}))}},{key:"render",value:function(){var e=this.props,t=e.show,a=e.image,n=e.onClose;return w.default.createElement("div",{className:this.ss("screeshot-dialog")},w.default.createElement(N.default,{open:t,position:"center",onCloseModal:function(){return n()}},w.default.createElement("div",{className:this.ss("content")},w.default.createElement("img",{src:a}),this.renderInputChoose(),this.renderInput(),this.renderClose())))}}]),A.propTypes={show:y.default.bool,showEmoji:y.default.bool,preText:y.default.number,image:y.default.string,comment:y.default.string,emoji:y.default.string,updateStatus:y.default.string,setPreText:y.default.func,onClose:y.default.func,changeComment:y.default.func,openEmoji:y.default.func,closeEmoji:y.default.func,changeEmoji:y.default.func,postScreenshot:y.default.func},a=A))||a)||a)||a;function A(){var e,t,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,A);for(var a=arguments.length,n=Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=o=R(this,(e=A.__proto__||Object.getPrototypeOf(A)).call.apply(e,[this].concat(n)))).clickEmoji=function(e){var t=o.props,a=t.changeEmoji,n=t.closeEmoji;a({value:e}),n()},o.handleKeyPress=function(e){var t=o.props.comment,a=e.keyCode,n=!!(t||"").trim();13===a&&n&&o.props.postScreenshot()},R(o,t)}t.default=L},function(e,t){e.exports={"screeshot-dialog":"screeshot-dialog_3-4zSU67",content:"content_WBDVxrtf","input-wrapper":"input-wrapper_3jrN9pzC","input-choose-wrapper":"input-choose-wrapper_2QvAkfVY","choose-button":"choose-button_3IH-tliA","bottom-3":"bottom-3_OkllWG0d",chosen:"chosen_m9Vz4iSk","input-inner-wrapper":"input-inner-wrapper_3Zg1_DZQ",emojis:"emojis_117nJ0w5","emoji-choose":"emoji-choose_4hLMjr7t",image:"image_3QYzWt7g",hide:"hide_11r4Ce-H",post:"post_2cQ-ErwG","close-wrapper":"close-wrapper_2Hd_XFbC","icon-close":"icon-close_3AnZs_xQ"}},function(e,t){e.exports={post:"post_XEP_",say_something:"say_something_2F5S",comment_1:"comment_1_Nwdi",comment_fill_1:"comment_fill_1_ghfq",comment_2:"comment_2_EA_C",comment_fill_2:"comment_fill_2_3OXa",comment_3:"comment_3_1mQX",comment_fill_3:"comment_fill_3_1BvH",emoji_confused:"emoji_confused_2FTH",emoji_nerd:"emoji_nerd_2iGQ",emoji_joy_tear:"emoji_joy_tear_WqgV",emoji_heart_eyes:"emoji_heart_eyes_2uwq",emoji_grinning:"emoji_grinning_2OMH"}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=function(e,t,a){return t&&o(e.prototype,t),a&&o(e,a),e};function o(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=M(["project.projectData"],["project.projectData"]),i=M(["project.unlockedAsset.modalIsOpen"],["project.unlockedAsset.modalIsOpen"]),l=M(["project.unlockedAsset.asset.index"],["project.unlockedAsset.asset.index"]),c=M(["project.unlockedAsset.asset.textIndex"],["project.unlockedAsset.asset.textIndex"]),u=M(["project.unlockedAsset.asset.unlocked"],["project.unlockedAsset.asset.unlocked"]),d=M(["project.unlockedAsset.type"],["project.unlockedAsset.type"]),p=M(["project.unlockedAsset.all"],["project.unlockedAsset.all"]),f=M(["project.getUnlockedAssets"],["project.getUnlockedAssets"]),h=M(["project.confirmUnlockedAssets"],["project.confirmUnlockedAssets"]),m=M(["header.sendCDPRequest"],["header.sendCDPRequest"]),_=M(["project.closeModal"],["project.closeModal"]),g=T(s(2)),v=T(s(1)),b=s(5),y=s(0),w=T(s(3)),j=T(s(20)),E=T(s(15)),k=s(141),C=s(23),S=T(s(4)),O=T(s(419)),N=T(s(6)),P=T(s(420));function T(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var I=(0,b.decorator)({project:(0,y.state)(r),modalIsOpen:(0,y.state)(i),index:(0,y.state)(l),textIndex:(0,y.state)(c),unlocked:(0,y.state)(u),type:(0,y.state)(d),allUnlocked:(0,y.state)(p),getUnlockedAssets:(0,y.signal)(f),confirmUnlockedAssets:(0,y.signal)(h),sendCDPRequest:(0,y.signal)(m),closeModal:(0,y.signal)(_)})(a=(0,S.default)(O.default)(a=(0,N.default)(P.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(R,w.default),n(R,[{key:"getCDPData",value:function(e){var t=this.props,a=t.project,n=t.index,o=t.textIndex;return this.getAssets()[n]?{assetNumber:o+1,assetInd:e,packageId:this.getAssets()[n].id,projectId:a.id}:null}},{key:"getAssets",value:function(){switch(this.props.type){case"FPS":return[{id:E.default.ASSET_UNLOCK_FPS_FIRST,img:s(425),text:this.__("asset_unlock_fps_first_text"),unlockedText:this.__("asset_unlock_fps_first_unlocked_text")},{id:E.default.ASSET_UNLOCK_FPS_SECOND,img:s(426),text:this.__("asset_unlock_fps_second_text"),unlockedText:this.__("asset_unlock_fps_second_unlocked_text")},{id:E.default.ASSET_UNLOCK_FPS_THIRD,img:s(427),text:this.__("asset_unlock_fps_third_text"),unlockedText:this.__("asset_unlock_fps_third_unlocked_text")}];case"Karting":return[{id:E.default.ASSET_UNLOCK_KARTING_FIRST,img:s(428),text:this.__("asset_unlock_karting_first_text"),unlockedText:this.__("asset_unlock_karting_first_unlocked_text")},{id:E.default.ASSET_UNLOCK_KARTING_SECOND,img:s(429),text:this.__("asset_unlock_karting_second_text"),unlockedText:this.__("asset_unlock_karting_second_unlocked_text")},{id:E.default.ASSET_UNLOCK_KARTING_THIRD,img:s(430),text:this.__("asset_unlock_karting_third_text"),unlockedText:this.__("asset_unlock_karting_third_unlocked_text")}];case"LEGO":return[{id:E.default.ASSET_UNLOCK_LEGO_FIRST,img:s(431),text:this.__("asset_unlock_lego_first_text"),unlockedText:this.__("asset_unlock_lego_first_unlocked_text")},{id:E.default.ASSET_UNLOCK_LEGO_SECOND,img:s(432),text:this.__("asset_unlock_lego_second_text"),unlockedText:this.__("asset_unlock_lego_second_unlocked_text")},{id:E.default.ASSET_UNLOCK_LEGO_THIRD,img:s(433),text:this.__("asset_unlock_lego_third_text"),unlockedText:this.__("asset_unlock_lego_third_unlocked_text")}];default:return[]}}},{key:"renderAssetDialog",value:function(){var r=this,e=this.props.index,s=[];return null===e?null:((0,C.each)(this.getAssets(),function(e,t){var a=void 0,n=null;r.props.unlocked[e.id]?a=v.default.createElement("div",{className:r.ss("image-lock")},v.default.createElement("img",{src:r.state.icons.unlocked,alt:"unlocked"})):(a=v.default.createElement("div",{className:r.ss("image-lock")},v.default.createElement("img",{src:r.state.icons.locked,alt:"locked"})),n=v.default.createElement("div",{className:r.ss("image-blocked")},v.default.createElement("span",null,r.getAssets()[t].text)));var o={backgroundImage:"url("+e.img+")"};s.push(v.default.createElement("div",{className:r.ss("image-wrap"+(0<t?" image-wrap__inline":"")),key:t},n,a,v.default.createElement("div",{className:r.ss("image"),src:e.img,style:o,alt:"microgame",key:t})))}),v.default.createElement("div",{className:this.ss("image-wrap-container")},s))}},{key:"render",value:function(){var e=this,t="";return this.getAssets()[this.props.textIndex]&&(t=this.getAssets()[this.props.allUnlocked.length-1].unlockedText),v.default.createElement(j.default,{open:this.props.modalIsOpen,position:"center"},v.default.createElement("div",{className:this.ss("unlocked-assets")},this.renderAssetDialog(),v.default.createElement("div",{className:this.ss("content-wrap rich-text")},v.default.createElement("p",null,t),v.default.createElement("div",{className:this.ss("btn-group")},v.default.createElement("button",{onClick:function(){return e.onCloseAndShowAsset()},className:this.ss("button")},"Get Asset"),v.default.createElement("button",{onClick:function(){return e.onClose(!1)},className:this.ss("button-outlined")},"Not Now")))))}}]),R.propTypes={project:g.default.object,modalIsOpen:g.default.bool,index:g.default.number,textIndex:g.default.number,unlocked:g.default.bool,type:g.default.string,allUnlocked:g.default.array,getUnlockedAssets:g.default.func,confirmUnlockedAssets:g.default.func,sendCDPRequest:g.default.func,closeModal:g.default.func},a=R))||a)||a)||a;function R(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,R);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=x(this,(e=R.__proto__||Object.getPrototypeOf(R)).call.apply(e,[this].concat(o)))).state={icons:{navigateNext:s(421),navigateBack:s(422),locked:s(423),unlocked:s(424)}},a.onClose=function(e){var t;a.props.confirmUnlockedAssets(),e||(t=a.getCDPData("false"),a.props.sendCDPRequest({type:k.CDPConnectTypes.CDPTypeAssetUnlocked,data:t})),a.props.closeModal()},a.onCloseAndShowAsset=function(){a.onClose(!0);var e=a.getCDPData("true");a.props.sendCDPRequest({type:k.CDPConnectTypes.CDPTypeAssetUnlocked,data:e,redirectUrl:"https://assetstore.unity.com/account/assets",popup:!0})},x(a,t)}t.default=I},function(e,t){e.exports={"unlocked-assets":"unlocked-assets_33b_CqC8","image-wrap-container":"image-wrap-container_3uV9zkKN","image-wrap":"image-wrap_3icryTRS","image-wrap__inline":"image-wrap__inline_1pdyvTiW","image-lock":"image-lock_3gVzOIoZ","image-blocked":"image-blocked_2YUrfLKP",image:"image_1XUdfcKe","content-wrap":"content-wrap_95s8VUg1","btn-group":"btn-group_1WQdGl56",button:"button_1zQ-DP8O","button-outlined":"button-outlined_2dtXQxZU",hidden:"hidden_1Lj-6Kqj"}},function(e,t){e.exports={asset_unlock_fps_first_text:"asset_unlock_fps_first_text_2dc4",asset_unlock_fps_first_unlocked_text:"asset_unlock_fps_first_unlocked_text__xzm",asset_unlock_fps_second_text:"asset_unlock_fps_second_text_1cFR",asset_unlock_fps_second_unlocked_text:"asset_unlock_fps_second_unlocked_text_3-ps",asset_unlock_fps_third_text:"asset_unlock_fps_third_text_RRYi",asset_unlock_fps_third_unlocked_text:"asset_unlock_fps_third_unlocked_text_1Cb6",asset_unlock_karting_first_text:"asset_unlock_karting_first_text_2Rgy",asset_unlock_karting_first_unlocked_text:"asset_unlock_karting_first_unlocked_text_OzuU",asset_unlock_karting_second_text:"asset_unlock_karting_second_text_lSXa",asset_unlock_karting_second_unlocked_text:"asset_unlock_karting_second_unlocked_text_2VZa",asset_unlock_karting_third_text:"asset_unlock_karting_third_text_Fs3L",asset_unlock_karting_third_unlocked_text:"asset_unlock_karting_third_unlocked_text_215_",asset_unlock_lego_first_text:"asset_unlock_lego_first_text_FNl6",asset_unlock_lego_first_unlocked_text:"asset_unlock_lego_first_unlocked_text_2eM1",asset_unlock_lego_second_text:"asset_unlock_lego_second_text_rhP-",asset_unlock_lego_second_unlocked_text:"asset_unlock_lego_second_unlocked_text_1Inq",asset_unlock_lego_third_text:"asset_unlock_lego_third_text_2rmI",asset_unlock_lego_third_unlocked_text:"asset_unlock_lego_third_unlocked_text_yLJQ"}},function(e,t,a){e.exports=a.p+"../styles/i/unlocked-assets/ic_navigate_next.0eb7d6df491537f52db6c6a8006733bb.png"},function(e,t,a){e.exports=a.p+"../styles/i/unlocked-assets/ic_navigate_back.c91d85761ad7c38afe9db696222bcae4.png"},function(e,t,a){e.exports=a.p+"../styles/i/unlocked-assets/ic_lock.27837dadba5443e37f825aadbf3921f9.png"},function(e,t,a){e.exports=a.p+"../styles/i/unlocked-assets/ic_lock_open.782beedec260c1d8260904cb0cd83da5.png"},function(e,t,a){e.exports=a.p+"../styles/i/unlocked-assets/FPS_First.e8d308a27391b32a8b341e807250b43c.png"},function(e,t,a){e.exports=a.p+"../styles/i/unlocked-assets/FPS_Second.8846ccf69be9b5ae3fe363dfbbe2ff3a.png"},function(e,t,a){e.exports=a.p+"../styles/i/unlocked-assets/FPS_Third.dc28c5be9363d3e905bba80e6a00cec6.png"},function(e,t,a){e.exports=a.p+"../styles/i/unlocked-assets/Karting_First.b4e4b0cedc71e08f5e6ff5aed1477a1d.png"},function(e,t,a){e.exports=a.p+"../styles/i/unlocked-assets/Karting_Second.dd7825905aca52a4224673eecff6d816.png"},function(e,t,a){e.exports=a.p+"../styles/i/unlocked-assets/Karting_Third.7334bc97d0b697a12365e4dcdb40a238.png"},function(e,t,a){e.exports=a.p+"../styles/i/unlocked-assets/LEGOmg_Unlockable01_KnightK.4b9cd77437864c2eae823631d3a75512.png"},function(e,t,a){e.exports=a.p+"../styles/i/unlocked-assets/LEGOmg_Unlockable02_Space.11670239252dad46cc10f428d16404e0.png"},function(e,t,a){e.exports=a.p+"../styles/i/unlocked-assets/LEGOmg_Unlockable03_Island.bb44d1207590f148038ff334236d6d2e.png"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventType=t.UserGroups=void 0;var n,o=a(25),r=(n=o)&&n.__esModule?n:{default:n};t.UserGroups={admin:"admin",superAdmin:"super_admin",learnCreator:"learn_creator",learnModerator:"learn_moderator",learnAdmin:"learn_admin",learnAdminEN:"learn_admin_en",learnAdminZH:"learn_admin_zh",learnAdminJA:"learn_admin_ja",learnAdminKO:"learn_admin_ko",learnAdminRU:"learn_admin_ru",learnAdminES:"learn_admin_es",learnAdminFR:"learn_admin_fr",learnAdminDE:"learn_admin_de",learnAdminPT:"learn_admin_pt",learnEditor:"learn_editor",learnEditorEN:"learn_editor_en",learnEditorZH:"learn_editor_zh",learnEditorJA:"learn_editor_ja",learnEditorKO:"learn_editor_ko",learnEditorRU:"learn_editor_ru",learnEditorES:"learn_editor_es",learnEditorFR:"learn_editor_fr",learnEditorDE:"learn_editor_de",learnEditorPT:"learn_editor_pt"},t.EventType=(0,r.default)({connect:null,learn:null})},function(e,t){e.exports={content:"content_3N5rckCb",cover:"cover_1JeQPIdY",hide:"hide_3ziujyto",background:"background_3yJzdbcK","black-background":"black-background_cOEoSBNn","click-region":"click-region_1EFv8oH8",display:"display_uSUsoBbM","main-content":"main-content_Xk0qr5MY","expired-content":"expired-content_3EnV4a89","comments-recommends":"comments-recommends_zedTegDc","comment-list":"comment-list_3166drYV","recommend-list":"recommend-list_nzhhKapG",share:"share_2CFISCb9",left:"left_lgxtLLuG","share-title":"share-title_ol4UeA6Q","share-content":"share-content__BQ7PYYs",copy:"copy_Tq-URNAW","share-tips":"share-tips_T6-ZfsXt","icon-mac":"icon-mac_34NDVvk3",main:"main_37iBrY0U","sub-info":"sub-info_1c9953YL","project-content":"project-content_2klpsgCC",right:"right_qRoAd_FU",comment:"comment_epB8vjV2",statistics:"statistics_1JZ418jx",item:"item_GuTavl3t",active:"active_2ENYxU0u",icon:"icon_pywD_fs8",disable:"disable_1x-G1lYT",text:"text_1lKSB2kI",like:"like_36jkOWZl","statistics-mobile":"statistics-mobile_2wLkGi-d","challenge-wrapper":"challenge-wrapper_1LcAoELC",challenge:"challenge_3dxDNSNS","icon-wrapper":"icon-wrapper_12_NJG7O",info:"info_7lVivgxK","event-wrapper":"event-wrapper_yxTGc1xG","event-title":"event-title_2Hp_0WPo",tag:"tag_1LUi77KF",tips:"tips_2oPF20jn","not-now":"not-now_2pthAPhO","button-wrapper":"button-wrapper_3AZYacvD",disabled:"disabled_WmROKGjD"}},function(e,t){e.exports={share_game_link:"share_game_link_2ey8",copy:"copy_MmEt",share_tips:"share_tips_cPbc",likes_hint:"likes_hint_SBwN",comments_hint:"comments_hint_12B-",views_hint:"views_hint_1QlD",play_hint:"play_hint_2SY1",project_expired:"project_expired_1Zrg",tips:"tips_2uU4",tips_success:"tips_success_2n4d",submit_game:"submit_game_1bhj",check_status:"check_status_uhaL",not_now:"not_now_3uDX",share_body:"share_body_3AEn"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=N(["currentPath"],["currentPath"]),i=N(["currentHost"],["currentHost"]),l=N(["project.projectData.contentIds"],["project.projectData.contentIds"]),c=N(["project.contentMap"],["project.contentMap"]),u=N(["project.embed.show"],["project.embed.show"]),d=N(["project.getLink.show"],["project.getLink.show"]),p=N(["header.copyLink"],["header.copyLink"]),f=N(["project.changeScreenshotComment"],["project.changeScreenshotComment"]),h=N(["project.closeGetLink"],["project.closeGetLink"]),m=N(["project.setEmbed"],["project.setEmbed"]),_=S(a(2)),g=S(a(1)),v=a(5),b=a(0),y=S(a(3)),w=S(a(20)),j=S(a(4)),E=S(a(438)),k=S(a(6)),C=S(a(439));function S(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var P=(0,v.decorator)({currentPath:(0,b.state)(s),currentHost:(0,b.state)(i),contentIds:(0,b.state)(l),contentMap:(0,b.state)(c),embedShow:(0,b.state)(u),showGetLink:(0,b.state)(d),copyLink:(0,b.signal)(p),changeComment:(0,b.signal)(f),closeGetLink:(0,b.signal)(h),setEmbed:(0,b.signal)(m)})(n=(0,j.default)(E.default)(n=(0,k.default)(C.default)((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(T,y.default),o(T,[{key:"onShareLinkCopy",value:function(e){(0,this.props.copyLink)({content:e})}},{key:"onCopyClick",value:function(e){this.copyUrlLink(e)}},{key:"copyUrlLink",value:function(e){this.setState({urlCopied:!0}),this.onShareLinkCopy(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.currentHost,n=t.currentPath,o=t.showGetLink,r="https://"+a+n;return g.default.createElement(w.default,{open:o,position:"center",onCloseModal:function(){return e.onClose()}},g.default.createElement("div",{className:this.ss("content")},g.default.createElement("button",{className:this.ss("button-close"),onClick:function(){return e.onClose()}},g.default.createElement("div",{className:this.ss("close","ifont","ifont-ic_close")})),g.default.createElement("div",{className:this.ss("share-content","sub-content")},g.default.createElement("div",{className:this.ss("share","title")},this.__("link")),g.default.createElement("div",{className:this.ss("share-link-wrapper")},g.default.createElement("div",{className:this.ss("link")},r),g.default.createElement("a",{className:this.ss("copy",this.state.urlCopied&&"copied"),onClick:function(){return e.onCopyClick(r)}},this.state.urlCopied?this.__("copied"):this.__("copy"))))))}}]),T.propTypes={currentHost:_.default.string,currentPath:_.default.string,contentMap:_.default.object,contentIds:_.default.array,embedShow:_.default.bool,showGetLink:_.default.bool,copyLink:_.default.func,closeGetLink:_.default.func,setEmbed:_.default.func},n=T))||n)||n)||n;function T(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,T);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=a=O(this,(e=T.__proto__||Object.getPrototypeOf(T)).call.apply(e,[this].concat(o)))).state={},a.onClose=function(){a.props.closeGetLink&&a.props.closeGetLink(),a.setState({urlCopied:!1})},O(a,t)}t.default=P},function(e,t){e.exports={"share-title":"share-title_2hsZ9oOE","share-items":"share-items_3o4ID8nk",item:"item_Lh5YVh2y","item-img":"item-img_2V1J3Bwi",content:"content_3ZxtsHe5","sub-content":"sub-content_21zfuddC","button-close":"button-close_2nilwYu9",close:"close_2V-Qr42x",title:"title_cfAtUqZz","share-link-wrapper":"share-link-wrapper_ov4Qbd8Y",link:"link_2ZL7e4zG",copy:"copy_GzFzcjUe",copied:"copied_RpgV_OmS","embed-link":"embed-link_1cC3Su2y","embed-text":"embed-text_xhC-5ch0"}},function(e,t){e.exports={link:"link_2Kge"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=a(441);var r=[((n=o)&&n.__esModule?n:{default:n}).default];t.default={share:r}},function(e,o,r){"use strict";(function(e){Object.defineProperty(o,"__esModule",{value:!0});var t=Object.freeze(Object.defineProperties(["share.weChatDialog.openId"],{raw:{value:Object.freeze(["share.weChatDialog.openId"])}})),a=r(9),n=r(0);o.default={name:e,depends:[],signals:{openWeChatShareDialog:[function(e){var t=e.state,a=e.props;t.set("share.weChatDialog.openId",a.id)}],closeWeChatShareDialog:[(0,a.set)((0,n.state)(t),"")]},getState:function(){return{weChatDialog:{openId:""}}}}}).call(o,"views/v2/modules/share/WeChatStore.js")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=a(443);var r=[((n=o)&&n.__esModule?n:{default:n}).default];t.default={connection:r}},function(e,g,v){"use strict";(function(e){Object.defineProperty(g,"__esModule",{value:!0});var t=d(["connection.requestDialogUser"],["connection.requestDialogUser"]),a=d(["user"],["user"]),n=d(["connection.callback"],["connection.callback"]),o=d(["callback"],["callback"]),r=v(9),l=v(21),s=v(0),c=u(v(19)),i=u(v(7));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function p(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var f,h,m=["connection","relationshipRequestForm"];function _(n){return function(e){var t=e.state,a=e.props;t.set("connection.relationshipStatus."+a.userId,n)}}g.default={name:e,depends:[],signals:{openRequestDialog:[(0,r.set)((0,s.state)(t),(0,s.props)(a)),(0,r.set)((0,s.state)(n),(0,s.props)(o)),function(e){e.controller.getSignal("connection.openRelationshipRequestDialog")()}],requestRelationship:[_(i.default.inProgress),[function(e){var t=e.props,a=e.http,n=e.path,o=e.state,r=t.userId,s=t.defaultGreeting,i=o.get(m);return(0,l.isValidForm)(i)?a.post("/api/relationships/"+r+"/request",{content:i.message.value||s}).then(n.success).catch(n.error):n.dummy()},{success:[function(e){var t,a,n=e.state,o=e.props,r=e.controller,s=o.userId,i=o.result,l=n.get("connection.callback");l?(t=r.getSignal(l))&&t({userId:s,result:i}):r.getSignal("connection.syncRelationshipResult")(o),r.getSignal("connection.closeRelationshipRequestDialog")(),o.needRedirect&&((a=v(39)).set("connections.op","sent"),a.set("connections.sent",s),(0,c.default)("/connections/all?tab=sent"))},_(i.default.succeeded)],error:[_(i.default.failed)],dummy:[_(i.default.failed)]}]],acceptRelationship:[_(i.default.inProgress),[function(e){var t=e.props,a=e.http,n=e.path,o=t.userId;return a.post("/api/relationships/"+o+"/accept",{content:""}).then(n.success).catch(n.error)},{success:[function(e){var t,a,n=e.props;e.controller.getSignal("connection.syncRelationshipResult")(n),n.needRedirect&&(t=n.userId,(a=v(39)).set("connections.op","connections"),a.set("connections.connections",t),(0,c.default)("/connections/all?tab=connections"))},_(i.default.succeeded)],error:[_(i.default.failed)]}]],syncRelationshipResult:[function(e){var t,a,n,o=e.props,r=e.state,s=e.controller,i=o.result;200===o.status&&i&&(r.set("connection.relationship",i),i.channelId&&r.get("currentPath").startsWith("/messages")&&(t=s.getSignal("messages.channelSelect"),a=r.get("messages.channels")||{},n=Object.values(a).find(function(e){return e.id===i.channelId}),t&&n&&t({channelId:n.id,workspaceId:n.workspaceId})))}],openRelationshipRequestDialog:[function(e){e.state.set("connection.relationshipRequestDialogOpen",!0)}],closeRelationshipRequestDialog:[function(e){e.state.set("connection.relationshipRequestDialogOpen",!1)}],changeRelationshipRequestMessage:(f=m,h="message",[function(e){var t=e.props;return{field:[].concat(p(f),[h]),value:t.value,touched:!0}}].concat(p(l.chains.fieldChanged)))},getState:function(e){return{relationship:e.relationship,relationshipRequestDialogOpen:!1,relationshipRequestForm:(0,l.Form)({message:{value:"",validations:["maxLength:300"],errorMessages:["error_maxLength"],isRequired:!1}}),requestDialogUser:{},relationshipStatus:{}}}}}).call(g,"views/v2/modules/connection/RelationshipStore.js")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(8)(161)},function(e,t,a){e.exports=a(8)(120)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){a(142),e.exports=a(1031)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=b(a(110)),o=b(a(243)),r=a(21),s=b(a(245)),i=b(a(143)),l=b(a(145)),c=b(a(152)),u=b(a(153)),d=b(a(168)),p=b(a(179)),f=b(a(164)),h=b(a(1032)),m=b(a(257)),_=b(a(440)),g=b(a(442)),v=b(a(180));function b(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({modules:[l.default,c.default,u.default,d.default,h.default,p.default,r.Forms,f.default,v.default,o.default,s.default,m.default,_.default,g.default],component:n.default})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=k(a(247)),o=k(a(1033)),r=k(a(248)),s=k(a(249)),i=k(a(250)),l=k(a(251)),c=k(a(172)),u=k(a(171)),d=k(a(170)),p=k(a(177)),f=k(a(178)),h=k(a(252)),m=k(a(253)),_=k(a(254)),g=k(a(255)),v=k(a(83)),b=k(a(256)),y=k(a(176)),w=k(a(173)),j=k(a(169)),E=k(a(1034));function k(e){return e&&e.__esModule?e:{default:e}}var C=[n.default,r.default,s.default,i.default,l.default,c.default,u.default,d.default,p.default,f.default,h.default,m.default,_.default,g.default,v.default,b.default,y.default,o.default,w.default,j.default,E.default];t.default={project:C}},function(e,n,o){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0});var t,a=o(174),i=(t=a)&&t.__esModule?t:{default:t};n.default={name:e,depends:[],signals:{getBody:[function(e){var t,a,n,o,r=e.state,s=i.default.getEditorState(r,"editorBody");s&&(a=(t=s.getCurrentContent()).getLastCreatedEntityKey(),!(n=t.getEntity(a))||(o=n.getData())&&o.contents&&r.set("project.contentLength",o.contents.length))}],publishWebgl:[function(e){var t=e.state,a=e.controller,n=i.default.getEditorState(t,"editorTitle");n&&(0<n.getCurrentContent().getPlainText().replace(/\s+/g,"").length?a.getSignal("project.onPublish")({formPath:["project","prePost","form"]}):t.set("project.warning.title",!0))}]},getServices:function(){},getState:function(){return{contentLength:0,warning:{title:!1}}}}}).call(n,"views/v2/modules/projectV2/webglDetailStore.js")},function(e,f,h){"use strict";(function(e){Object.defineProperty(f,"__esModule",{value:!0});var t,a=p(["project.madeWith.searchStatus"],["project.madeWith.searchStatus"]),n=p(["project.madeWith.addMadeWithStatus"],["project.madeWith.addMadeWithStatus"]),o=p(["project.madeWith.deleteMadeWithStatus"],["project.madeWith.deleteMadeWithStatus"]),r=p(["project.madeWith.value"],["project.madeWith.value"]),s=p(["value"],["value"]),i=p(["project.madeWith.searchType"],["project.madeWith.searchType"]),l=h(9),c=h(0),u=h(7),d=(t=u)&&t.__esModule?t:{default:t};function p(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}f.default={name:e,depends:[],signals:{INITIAL_DATA:[function(e){var t=e.state,a=e.http,n=e.path,o=t.get("project.projectData"),r=o.id;return"webgl"===o.type?a.get("/api/p/"+r+"/madeWith").then(n.success).catch(n.error):n.dummy()},{success:[function(e){var t=e.state,a=e.props.result;t.set("project.madeWith.items",a)}],dummy:[]}],searchAssets:[(0,l.set)((0,c.state)(a),d.default.inProgress),[function(e){var t=e.state,a=e.http,n=e.path,o=t.get("project.madeWith.value"),r=["q:"+o];return a.get("/api/asset/packages/search",{k:JSON.stringify(r),q:o}).then(n.success).catch(n.error)},{success:[(0,l.set)((0,c.state)(a),d.default.succeeded),function(e){var t=e.state,a=e.props.result.packages;t.set("project.madeWith.candidates",a)}],error:[(0,l.set)((0,c.state)(a),d.default.failed)]}]],addMadeWith:[(0,l.set)((0,c.state)(n),d.default.inProgress),function(e){var t=e.props,a=e.state,n=e.path,o=e.controller,r=t.refId;return 0<=a.get("project.madeWith.items").findIndex(function(e){return e.refId===r})?(o.getSignal("header.showMessage")({message:"Already exists!"}),n.no()):n.yes()},{yes:[function(e){var t=e.state,a=e.props,n=a.title,o=a.image,r=a.url,s=a.refId,i=a.type;t.push("project.madeWith.items",{title:n,image:o,url:r,refId:s,type:i})},[function(e){var t=e.props,a=e.state,n=e.http,o=e.path,r=a.get("project.projectData.id"),s=t.title,i=t.image,l=t.url,c=t.refId,u=t.type;return n.post("/api/p/"+r+"/madeWith",{title:s,image:i,url:l,refId:c,type:u}).then(o.success).catch(o.error)},{success:[(0,l.set)((0,c.state)(n),d.default.succeeded)],error:[(0,l.set)((0,c.state)(n),d.default.failed)]}]],no:[]}],deleteMadeWith:[(0,l.set)((0,c.state)(o),d.default.inProgress),function(e){var t=e.state,a=e.props.refId,n=t.get("project.madeWith.items"),o=n.findIndex(function(e){return e.refId===a}),r=n[o].type;return t.splice("project.madeWith.items",o,1),{type:r}},[function(e){var t=e.props,a=e.state,n=e.http,o=e.path,r=a.get("project.projectData.id"),s=t.refId,i=t.type;return n.delete("/api/p/"+r+"/madeWith",{refId:s,type:i}).then(o.success).catch(o.error)},{success:[(0,l.set)((0,c.state)(o),d.default.succeeded)],error:[(0,l.set)((0,c.state)(o),d.default.failed)]}]],changeSearchValue:[(0,l.set)((0,c.state)(r),(0,c.props)(s)),function(e){var t=e.props,a=e.state;t.value||a.set("project.madeWith.candidates",[])}],changeSearchType:[(0,l.set)((0,c.state)(i),(0,c.props)(s))]},getState:function(){return{madeWith:{searchType:"asset_store",items:[],value:"",candidates:[]}}}}}).call(f,"views/v2/modules/projectV2/ProjectMadeWith.js")}],[1030]);